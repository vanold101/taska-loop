function rie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wU={exports:{}},N5={},bU={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Symbol.for("react.element"),nie=Symbol.for("react.portal"),iie=Symbol.for("react.fragment"),aie=Symbol.for("react.strict_mode"),oie=Symbol.for("react.profiler"),sie=Symbol.for("react.provider"),lie=Symbol.for("react.context"),cie=Symbol.for("react.forward_ref"),uie=Symbol.for("react.suspense"),die=Symbol.for("react.memo"),fie=Symbol.for("react.lazy"),oj=Symbol.iterator;function hie(t){return t===null||typeof t!="object"?null:(t=oj&&t[oj]||t["@@iterator"],typeof t=="function"?t:null)}var _U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SU=Object.assign,AU={};function fg(t,e,r){this.props=t,this.context=e,this.refs=AU,this.updater=r||_U}fg.prototype.isReactComponent={};fg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EU(){}EU.prototype=fg.prototype;function YP(t,e,r){this.props=t,this.context=e,this.refs=AU,this.updater=r||_U}var XP=YP.prototype=new EU;XP.constructor=YP;SU(XP,fg.prototype);XP.isPureReactComponent=!0;var sj=Array.isArray,CU=Object.prototype.hasOwnProperty,QP={current:null},NU={key:!0,ref:!0,__self:!0,__source:!0};function TU(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)CU.call(e,n)&&!NU.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:rx,type:t,key:a,ref:o,props:i,_owner:QP.current}}function pie(t,e){return{$$typeof:rx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZP(t){return typeof t=="object"&&t!==null&&t.$$typeof===rx}function mie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lj=/\/+/g;function sE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mie(""+t.key):e.toString(36)}function Sw(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rx:case nie:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+sE(o,0):n,sj(i)?(r="",t!=null&&(r=t.replace(lj,"$&/")+"/"),Sw(i,e,r,"",function(c){return c})):i!=null&&(ZP(i)&&(i=pie(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lj,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",sj(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+sE(a,s);o+=Sw(a,e,r,l,i)}else if(l=hie(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+sE(a,s++),o+=Sw(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function h2(t,e,r){if(t==null)return t;var n=[],i=0;return Sw(t,n,"","",function(a){return e.call(r,a,i++)}),n}function gie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var eo={current:null},Aw={transition:null},vie={ReactCurrentDispatcher:eo,ReactCurrentBatchConfig:Aw,ReactCurrentOwner:QP};function PU(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:h2,forEach:function(t,e,r){h2(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return h2(t,function(){e++}),e},toArray:function(t){return h2(t,function(e){return e})||[]},only:function(t){if(!ZP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ir.Component=fg;ir.Fragment=iie;ir.Profiler=oie;ir.PureComponent=YP;ir.StrictMode=aie;ir.Suspense=uie;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vie;ir.act=PU;ir.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=SU({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=QP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)CU.call(e,l)&&!NU.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:rx,type:t.type,key:i,ref:a,props:n,_owner:o}};ir.createContext=function(t){return t={$$typeof:lie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sie,_context:t},t.Consumer=t};ir.createElement=TU;ir.createFactory=function(t){var e=TU.bind(null,t);return e.type=t,e};ir.createRef=function(){return{current:null}};ir.forwardRef=function(t){return{$$typeof:cie,render:t}};ir.isValidElement=ZP;ir.lazy=function(t){return{$$typeof:fie,_payload:{_status:-1,_result:t},_init:gie}};ir.memo=function(t,e){return{$$typeof:die,type:t,compare:e===void 0?null:e}};ir.startTransition=function(t){var e=Aw.transition;Aw.transition={};try{t()}finally{Aw.transition=e}};ir.unstable_act=PU;ir.useCallback=function(t,e){return eo.current.useCallback(t,e)};ir.useContext=function(t){return eo.current.useContext(t)};ir.useDebugValue=function(){};ir.useDeferredValue=function(t){return eo.current.useDeferredValue(t)};ir.useEffect=function(t,e){return eo.current.useEffect(t,e)};ir.useId=function(){return eo.current.useId()};ir.useImperativeHandle=function(t,e,r){return eo.current.useImperativeHandle(t,e,r)};ir.useInsertionEffect=function(t,e){return eo.current.useInsertionEffect(t,e)};ir.useLayoutEffect=function(t,e){return eo.current.useLayoutEffect(t,e)};ir.useMemo=function(t,e){return eo.current.useMemo(t,e)};ir.useReducer=function(t,e,r){return eo.current.useReducer(t,e,r)};ir.useRef=function(t){return eo.current.useRef(t)};ir.useState=function(t){return eo.current.useState(t)};ir.useSyncExternalStore=function(t,e,r){return eo.current.useSyncExternalStore(t,e,r)};ir.useTransition=function(){return eo.current.useTransition()};ir.version="18.3.1";bU.exports=ir;var E=bU.exports;const he=Rr(E),IU=rie({__proto__:null,default:he},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yie=E,xie=Symbol.for("react.element"),wie=Symbol.for("react.fragment"),bie=Object.prototype.hasOwnProperty,_ie=yie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sie={key:!0,ref:!0,__self:!0,__source:!0};function OU(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)bie.call(e,n)&&!Sie.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xie,type:t,key:a,ref:o,props:i,_owner:_ie.current}}N5.Fragment=wie;N5.jsx=OU;N5.jsxs=OU;wU.exports=N5;var d=wU.exports,kU={exports:{}},rs={},jU={exports:{}},RU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var te=$.length;$.push(H);e:for(;0<te;){var ie=te-1>>>1,F=$[ie];if(0<i(F,H))$[ie]=H,$[te]=F,te=ie;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var H=$[0],te=$.pop();if(te!==H){$[0]=te;e:for(var ie=0,F=$.length,q=F>>>1;ie<q;){var Q=2*(ie+1)-1,se=$[Q],G=Q+1,le=$[G];if(0>i(se,te))G<F&&0>i(le,se)?($[ie]=le,$[G]=te,ie=G):($[ie]=se,$[Q]=te,ie=Q);else if(G<F&&0>i(le,te))$[ie]=le,$[G]=te,ie=G;else break e}}return H}function i($,H){var te=$.sortIndex-H.sortIndex;return te!==0?te:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=$)n(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(c)}}function C($){if(g=!1,w($),!m)if(r(l)!==null)m=!0,U(A);else{var H=r(c);H!==null&&K(C,H.startTime-$)}}function A($,H){m=!1,g&&(g=!1,v(S),S=-1),p=!0;var te=h;try{for(w(H),f=r(l);f!==null&&(!(f.expirationTime>H)||$&&!I());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var F=ie(f.expirationTime<=H);H=t.unstable_now(),typeof F=="function"?f.callback=F:f===r(l)&&n(l),w(H)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var Q=r(c);Q!==null&&K(C,Q.startTime-H),q=!1}return q}finally{f=null,h=te,p=!1}}var O=!1,N=null,S=-1,P=5,R=-1;function I(){return!(t.unstable_now()-R<P)}function k(){if(N!==null){var $=t.unstable_now();R=$;var H=!0;try{H=N(!0,$)}finally{H?D():(O=!1,N=null)}}else O=!1}var D;if(typeof y=="function")D=function(){y(k)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=k,D=function(){J.postMessage(null)}}else D=function(){x(k,0)};function U($){N=$,O||(O=!0,D())}function K($,H){S=x(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(A))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var te=h;h=H;try{return $()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=h;h=$;try{return H()}finally{h=te}},t.unstable_scheduleCallback=function($,H,te){var ie=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ie+te:ie):te=ie,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=te+F,$={id:u++,callback:H,priorityLevel:$,startTime:te,expirationTime:F,sortIndex:-1},te>ie?($.sortIndex=te,e(c,$),r(l)===null&&$===r(c)&&(g?(v(S),S=-1):g=!0,K(C,te-ie))):($.sortIndex=F,e(l,$),m||p||(m=!0,U(A))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var H=h;return function(){var te=h;h=H;try{return $.apply(this,arguments)}finally{h=te}}}})(RU);jU.exports=RU;var Aie=jU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eie=E,Qo=Aie;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DU=new Set,jv={};function cp(t,e){m0(t,e),m0(t+"Capture",e)}function m0(t,e){for(jv[t]=e,t=0;t<e.length;t++)DU.add(e[t])}var cu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jC=Object.prototype.hasOwnProperty,Cie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cj={},uj={};function Nie(t){return jC.call(uj,t)?!0:jC.call(cj,t)?!1:Cie.test(t)?uj[t]=!0:(cj[t]=!0,!1)}function Tie(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pie(t,e,r,n){if(e===null||typeof e>"u"||Tie(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function to(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var oa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oa[t]=new to(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oa[e]=new to(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oa[t]=new to(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oa[t]=new to(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oa[t]=new to(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oa[t]=new to(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oa[t]=new to(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oa[t]=new to(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oa[t]=new to(t,5,!1,t.toLowerCase(),null,!1,!1)});var JP=/[\-:]([a-z])/g;function eI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JP,eI);oa[e]=new to(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JP,eI);oa[e]=new to(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JP,eI);oa[e]=new to(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oa[t]=new to(t,1,!1,t.toLowerCase(),null,!1,!1)});oa.xlinkHref=new to("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oa[t]=new to(t,1,!1,t.toLowerCase(),null,!0,!0)});function tI(t,e,r,n){var i=oa.hasOwnProperty(e)?oa[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pie(e,r,i,n)&&(r=null),n||i===null?Nie(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Cu=Eie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p2=Symbol.for("react.element"),wm=Symbol.for("react.portal"),bm=Symbol.for("react.fragment"),rI=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),MU=Symbol.for("react.provider"),LU=Symbol.for("react.context"),nI=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),MC=Symbol.for("react.suspense_list"),iI=Symbol.for("react.memo"),xd=Symbol.for("react.lazy"),FU=Symbol.for("react.offscreen"),dj=Symbol.iterator;function f1(t){return t===null||typeof t!="object"?null:(t=dj&&t[dj]||t["@@iterator"],typeof t=="function"?t:null)}var In=Object.assign,lE;function z1(t){if(lE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);lE=e&&e[1]||""}return`
`+lE+t}var cE=!1;function uE(t,e){if(!t||cE)return"";cE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{cE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?z1(t):""}function Iie(t){switch(t.tag){case 5:return z1(t.type);case 16:return z1("Lazy");case 13:return z1("Suspense");case 19:return z1("SuspenseList");case 0:case 2:case 15:return t=uE(t.type,!1),t;case 11:return t=uE(t.type.render,!1),t;case 1:return t=uE(t.type,!0),t;default:return""}}function LC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bm:return"Fragment";case wm:return"Portal";case RC:return"Profiler";case rI:return"StrictMode";case DC:return"Suspense";case MC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LU:return(t.displayName||"Context")+".Consumer";case MU:return(t._context.displayName||"Context")+".Provider";case nI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iI:return e=t.displayName||null,e!==null?e:LC(t.type)||"Memo";case xd:e=t._payload,t=t._init;try{return LC(t(e))}catch{}}return null}function Oie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LC(e);case 8:return e===rI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kie(t){var e=BU(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function m2(t){t._valueTracker||(t._valueTracker=kie(t))}function $U(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=BU(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ub(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function FC(t,e){var r=e.checked;return In({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=rf(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UU(t,e){e=e.checked,e!=null&&tI(t,"checked",e,!1)}function BC(t,e){UU(t,e);var r=rf(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$C(t,e.type,r):e.hasOwnProperty("defaultValue")&&$C(t,e.type,rf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $C(t,e,r){(e!=="number"||ub(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var H1=Array.isArray;function Hm(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+rf(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function UC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return In({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pj(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Je(92));if(H1(r)){if(1<r.length)throw Error(Je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rf(r)}}function VU(t,e){var r=rf(e.value),n=rf(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var g2,HU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(g2=g2||document.createElement("div"),g2.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=g2.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var iv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jie=["Webkit","ms","Moz","O"];Object.keys(iv).forEach(function(t){jie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iv[e]=iv[t]})});function qU(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||iv.hasOwnProperty(t)&&iv[t]?(""+e).trim():e+"px"}function WU(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qU(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Rie=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zC(t,e){if(e){if(Rie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function HC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qC=null;function aI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var WC=null,qm=null,Wm=null;function gj(t){if(t=ax(t)){if(typeof WC!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=k5(e),WC(t.stateNode,t.type,e))}}function GU(t){qm?Wm?Wm.push(t):Wm=[t]:qm=t}function KU(){if(qm){var t=qm,e=Wm;if(Wm=qm=null,gj(t),e)for(t=0;t<e.length;t++)gj(e[t])}}function YU(t,e){return t(e)}function XU(){}var dE=!1;function QU(t,e,r){if(dE)return t(e,r);dE=!0;try{return YU(t,e,r)}finally{dE=!1,(qm!==null||Wm!==null)&&(XU(),KU())}}function Dv(t,e){var r=t.stateNode;if(r===null)return null;var n=k5(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Je(231,e,typeof r));return r}var GC=!1;if(cu)try{var h1={};Object.defineProperty(h1,"passive",{get:function(){GC=!0}}),window.addEventListener("test",h1,h1),window.removeEventListener("test",h1,h1)}catch{GC=!1}function Die(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var av=!1,db=null,fb=!1,KC=null,Mie={onError:function(t){av=!0,db=t}};function Lie(t,e,r,n,i,a,o,s,l){av=!1,db=null,Die.apply(Mie,arguments)}function Fie(t,e,r,n,i,a,o,s,l){if(Lie.apply(this,arguments),av){if(av){var c=db;av=!1,db=null}else throw Error(Je(198));fb||(fb=!0,KC=c)}}function up(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ZU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vj(t){if(up(t)!==t)throw Error(Je(188))}function Bie(t){var e=t.alternate;if(!e){if(e=up(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return vj(i),t;if(a===n)return vj(i),e;a=a.sibling}throw Error(Je(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Je(189))}}if(r.alternate!==n)throw Error(Je(190))}if(r.tag!==3)throw Error(Je(188));return r.stateNode.current===r?t:e}function JU(t){return t=Bie(t),t!==null?eV(t):null}function eV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eV(t);if(e!==null)return e;t=t.sibling}return null}var tV=Qo.unstable_scheduleCallback,yj=Qo.unstable_cancelCallback,$ie=Qo.unstable_shouldYield,Uie=Qo.unstable_requestPaint,Hn=Qo.unstable_now,Vie=Qo.unstable_getCurrentPriorityLevel,oI=Qo.unstable_ImmediatePriority,rV=Qo.unstable_UserBlockingPriority,hb=Qo.unstable_NormalPriority,zie=Qo.unstable_LowPriority,nV=Qo.unstable_IdlePriority,T5=null,rc=null;function Hie(t){if(rc&&typeof rc.onCommitFiberRoot=="function")try{rc.onCommitFiberRoot(T5,t,void 0,(t.current.flags&128)===128)}catch{}}var yl=Math.clz32?Math.clz32:Gie,qie=Math.log,Wie=Math.LN2;function Gie(t){return t>>>=0,t===0?32:31-(qie(t)/Wie|0)|0}var v2=64,y2=4194304;function q1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=q1(s):(a&=o,a!==0&&(n=q1(a)))}else o=r&~i,o!==0?n=q1(o):a!==0&&(n=q1(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yl(e),i=1<<r,n|=t[r],e&=~i;return n}function Kie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-yl(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Kie(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function YC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iV(){var t=v2;return v2<<=1,!(v2&4194240)&&(v2=64),t}function fE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nx(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yl(e),t[e]=r}function Xie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yl(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function sI(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Hr=0;function aV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oV,lI,sV,lV,cV,XC=!1,x2=[],Fd=null,Bd=null,$d=null,Mv=new Map,Lv=new Map,Ad=[],Qie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xj(t,e){switch(t){case"focusin":case"focusout":Fd=null;break;case"dragenter":case"dragleave":Bd=null;break;case"mouseover":case"mouseout":$d=null;break;case"pointerover":case"pointerout":Mv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lv.delete(e.pointerId)}}function p1(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ax(e),e!==null&&lI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zie(t,e,r,n,i){switch(e){case"focusin":return Fd=p1(Fd,t,e,r,n,i),!0;case"dragenter":return Bd=p1(Bd,t,e,r,n,i),!0;case"mouseover":return $d=p1($d,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Mv.set(a,p1(Mv.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Lv.set(a,p1(Lv.get(a)||null,t,e,r,n,i)),!0}return!1}function uV(t){var e=Sh(t.target);if(e!==null){var r=up(e);if(r!==null){if(e=r.tag,e===13){if(e=ZU(r),e!==null){t.blockedOn=e,cV(t.priority,function(){sV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ew(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=QC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qC=n,r.target.dispatchEvent(n),qC=null}else return e=ax(r),e!==null&&lI(e),t.blockedOn=r,!1;e.shift()}return!0}function wj(t,e,r){Ew(t)&&r.delete(e)}function Jie(){XC=!1,Fd!==null&&Ew(Fd)&&(Fd=null),Bd!==null&&Ew(Bd)&&(Bd=null),$d!==null&&Ew($d)&&($d=null),Mv.forEach(wj),Lv.forEach(wj)}function m1(t,e){t.blockedOn===e&&(t.blockedOn=null,XC||(XC=!0,Qo.unstable_scheduleCallback(Qo.unstable_NormalPriority,Jie)))}function Fv(t){function e(i){return m1(i,t)}if(0<x2.length){m1(x2[0],t);for(var r=1;r<x2.length;r++){var n=x2[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fd!==null&&m1(Fd,t),Bd!==null&&m1(Bd,t),$d!==null&&m1($d,t),Mv.forEach(e),Lv.forEach(e),r=0;r<Ad.length;r++)n=Ad[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ad.length&&(r=Ad[0],r.blockedOn===null);)uV(r),r.blockedOn===null&&Ad.shift()}var Gm=Cu.ReactCurrentBatchConfig,mb=!0;function eae(t,e,r,n){var i=Hr,a=Gm.transition;Gm.transition=null;try{Hr=1,cI(t,e,r,n)}finally{Hr=i,Gm.transition=a}}function tae(t,e,r,n){var i=Hr,a=Gm.transition;Gm.transition=null;try{Hr=4,cI(t,e,r,n)}finally{Hr=i,Gm.transition=a}}function cI(t,e,r,n){if(mb){var i=QC(t,e,r,n);if(i===null)_E(t,e,n,gb,r),xj(t,n);else if(Zie(i,t,e,r,n))n.stopPropagation();else if(xj(t,n),e&4&&-1<Qie.indexOf(t)){for(;i!==null;){var a=ax(i);if(a!==null&&oV(a),a=QC(t,e,r,n),a===null&&_E(t,e,n,gb,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else _E(t,e,n,null,r)}}var gb=null;function QC(t,e,r,n){if(gb=null,t=aI(n),t=Sh(t),t!==null)if(e=up(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ZU(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gb=t,null}function dV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vie()){case oI:return 1;case rV:return 4;case hb:case zie:return 16;case nV:return 536870912;default:return 16}default:return 16}}var Od=null,uI=null,Cw=null;function fV(){if(Cw)return Cw;var t,e=uI,r=e.length,n,i="value"in Od?Od.value:Od.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Cw=i.slice(t,1<n?1-n:void 0)}function Nw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function w2(){return!0}function bj(){return!1}function ns(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?w2:bj,this.isPropagationStopped=bj,this}return In(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=w2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=w2)},persist:function(){},isPersistent:w2}),e}var hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dI=ns(hg),ix=In({},hg,{view:0,detail:0}),rae=ns(ix),hE,pE,g1,P5=In({},ix,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==g1&&(g1&&t.type==="mousemove"?(hE=t.screenX-g1.screenX,pE=t.screenY-g1.screenY):pE=hE=0,g1=t),hE)},movementY:function(t){return"movementY"in t?t.movementY:pE}}),_j=ns(P5),nae=In({},P5,{dataTransfer:0}),iae=ns(nae),aae=In({},ix,{relatedTarget:0}),mE=ns(aae),oae=In({},hg,{animationName:0,elapsedTime:0,pseudoElement:0}),sae=ns(oae),lae=In({},hg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cae=ns(lae),uae=In({},hg,{data:0}),Sj=ns(uae),dae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hae[t])?!!e[t]:!1}function fI(){return pae}var mae=In({},ix,{key:function(t){if(t.key){var e=dae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fI,charCode:function(t){return t.type==="keypress"?Nw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gae=ns(mae),vae=In({},P5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aj=ns(vae),yae=In({},ix,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fI}),xae=ns(yae),wae=In({},hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),bae=ns(wae),_ae=In({},P5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sae=ns(_ae),Aae=[9,13,27,32],hI=cu&&"CompositionEvent"in window,ov=null;cu&&"documentMode"in document&&(ov=document.documentMode);var Eae=cu&&"TextEvent"in window&&!ov,hV=cu&&(!hI||ov&&8<ov&&11>=ov),Ej=" ",Cj=!1;function pV(t,e){switch(t){case"keyup":return Aae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _m=!1;function Cae(t,e){switch(t){case"compositionend":return mV(e);case"keypress":return e.which!==32?null:(Cj=!0,Ej);case"textInput":return t=e.data,t===Ej&&Cj?null:t;default:return null}}function Nae(t,e){if(_m)return t==="compositionend"||!hI&&pV(t,e)?(t=fV(),Cw=uI=Od=null,_m=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hV&&e.locale!=="ko"?null:e.data;default:return null}}var Tae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tae[t.type]:e==="textarea"}function gV(t,e,r,n){GU(n),e=vb(e,"onChange"),0<e.length&&(r=new dI("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sv=null,Bv=null;function Pae(t){NV(t,0)}function I5(t){var e=Em(t);if($U(e))return t}function Iae(t,e){if(t==="change")return e}var vV=!1;if(cu){var gE;if(cu){var vE="oninput"in document;if(!vE){var Tj=document.createElement("div");Tj.setAttribute("oninput","return;"),vE=typeof Tj.oninput=="function"}gE=vE}else gE=!1;vV=gE&&(!document.documentMode||9<document.documentMode)}function Pj(){sv&&(sv.detachEvent("onpropertychange",yV),Bv=sv=null)}function yV(t){if(t.propertyName==="value"&&I5(Bv)){var e=[];gV(e,Bv,t,aI(t)),QU(Pae,e)}}function Oae(t,e,r){t==="focusin"?(Pj(),sv=e,Bv=r,sv.attachEvent("onpropertychange",yV)):t==="focusout"&&Pj()}function kae(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return I5(Bv)}function jae(t,e){if(t==="click")return I5(e)}function Rae(t,e){if(t==="input"||t==="change")return I5(e)}function Dae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bl=typeof Object.is=="function"?Object.is:Dae;function $v(t,e){if(bl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!jC.call(e,i)||!bl(t[i],e[i]))return!1}return!0}function Ij(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oj(t,e){var r=Ij(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ij(r)}}function xV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wV(){for(var t=window,e=ub();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ub(t.document)}return e}function pI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mae(t){var e=wV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xV(r.ownerDocument.documentElement,r)){if(n!==null&&pI(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Oj(r,a);var o=Oj(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lae=cu&&"documentMode"in document&&11>=document.documentMode,Sm=null,ZC=null,lv=null,JC=!1;function kj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;JC||Sm==null||Sm!==ub(n)||(n=Sm,"selectionStart"in n&&pI(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lv&&$v(lv,n)||(lv=n,n=vb(ZC,"onSelect"),0<n.length&&(e=new dI("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Sm)))}function b2(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Am={animationend:b2("Animation","AnimationEnd"),animationiteration:b2("Animation","AnimationIteration"),animationstart:b2("Animation","AnimationStart"),transitionend:b2("Transition","TransitionEnd")},yE={},bV={};cu&&(bV=document.createElement("div").style,"AnimationEvent"in window||(delete Am.animationend.animation,delete Am.animationiteration.animation,delete Am.animationstart.animation),"TransitionEvent"in window||delete Am.transitionend.transition);function O5(t){if(yE[t])return yE[t];if(!Am[t])return t;var e=Am[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in bV)return yE[t]=e[r];return t}var _V=O5("animationend"),SV=O5("animationiteration"),AV=O5("animationstart"),EV=O5("transitionend"),CV=new Map,jj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wf(t,e){CV.set(t,e),cp(e,[t])}for(var xE=0;xE<jj.length;xE++){var wE=jj[xE],Fae=wE.toLowerCase(),Bae=wE[0].toUpperCase()+wE.slice(1);wf(Fae,"on"+Bae)}wf(_V,"onAnimationEnd");wf(SV,"onAnimationIteration");wf(AV,"onAnimationStart");wf("dblclick","onDoubleClick");wf("focusin","onFocus");wf("focusout","onBlur");wf(EV,"onTransitionEnd");m0("onMouseEnter",["mouseout","mouseover"]);m0("onMouseLeave",["mouseout","mouseover"]);m0("onPointerEnter",["pointerout","pointerover"]);m0("onPointerLeave",["pointerout","pointerover"]);cp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cp("onBeforeInput",["compositionend","keypress","textInput","paste"]);cp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$ae=new Set("cancel close invalid load scroll toggle".split(" ").concat(W1));function Rj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Fie(n,e,void 0,t),t.currentTarget=null}function NV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Rj(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Rj(i,s,c),a=l}}}if(fb)throw t=KC,fb=!1,KC=null,t}function dn(t,e){var r=e[i4];r===void 0&&(r=e[i4]=new Set);var n=t+"__bubble";r.has(n)||(TV(e,t,2,!1),r.add(n))}function bE(t,e,r){var n=0;e&&(n|=4),TV(r,t,n,e)}var _2="_reactListening"+Math.random().toString(36).slice(2);function Uv(t){if(!t[_2]){t[_2]=!0,DU.forEach(function(r){r!=="selectionchange"&&($ae.has(r)||bE(r,!1,t),bE(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_2]||(e[_2]=!0,bE("selectionchange",!1,e))}}function TV(t,e,r,n){switch(dV(e)){case 1:var i=eae;break;case 4:i=tae;break;default:i=cI}r=i.bind(null,e,r,t),i=void 0,!GC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function _E(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Sh(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}QU(function(){var c=a,u=aI(r),f=[];e:{var h=CV.get(t);if(h!==void 0){var p=dI,m=t;switch(t){case"keypress":if(Nw(r)===0)break e;case"keydown":case"keyup":p=gae;break;case"focusin":m="focus",p=mE;break;case"focusout":m="blur",p=mE;break;case"beforeblur":case"afterblur":p=mE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_j;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xae;break;case _V:case SV:case AV:p=sae;break;case EV:p=bae;break;case"scroll":p=rae;break;case"wheel":p=Sae;break;case"copy":case"cut":case"paste":p=cae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Aj}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=Dv(y,v),C!=null&&g.push(Vv(y,C,w)))),x)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==qC&&(m=r.relatedTarget||r.fromElement)&&(Sh(m)||m[uu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Sh(m):null,m!==null&&(x=up(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=_j,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Aj,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:Em(p),w=m==null?h:Em(m),h=new g(C,y+"leave",p,r,u),h.target=x,h.relatedTarget=w,C=null,Sh(u)===c&&(g=new g(v,y+"enter",m,r,u),g.target=w,g.relatedTarget=x,C=g),x=C,p&&m)t:{for(g=p,v=m,y=0,w=g;w;w=Jp(w))y++;for(w=0,C=v;C;C=Jp(C))w++;for(;0<y-w;)g=Jp(g),y--;for(;0<w-y;)v=Jp(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Jp(g),v=Jp(v)}g=null}else g=null;p!==null&&Dj(f,h,p,g,!1),m!==null&&x!==null&&Dj(f,x,m,g,!0)}}e:{if(h=c?Em(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=Iae;else if(Nj(h))if(vV)A=Rae;else{A=kae;var O=Oae}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=jae);if(A&&(A=A(t,c))){gV(f,A,r,u);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&$C(h,"number",h.value)}switch(O=c?Em(c):window,t){case"focusin":(Nj(O)||O.contentEditable==="true")&&(Sm=O,ZC=c,lv=null);break;case"focusout":lv=ZC=Sm=null;break;case"mousedown":JC=!0;break;case"contextmenu":case"mouseup":case"dragend":JC=!1,kj(f,r,u);break;case"selectionchange":if(Lae)break;case"keydown":case"keyup":kj(f,r,u)}var N;if(hI)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _m?pV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(hV&&r.locale!=="ko"&&(_m||S!=="onCompositionStart"?S==="onCompositionEnd"&&_m&&(N=fV()):(Od=u,uI="value"in Od?Od.value:Od.textContent,_m=!0)),O=vb(c,S),0<O.length&&(S=new Sj(S,t,null,r,u),f.push({event:S,listeners:O}),N?S.data=N:(N=mV(r),N!==null&&(S.data=N)))),(N=Eae?Cae(t,r):Nae(t,r))&&(c=vb(c,"onBeforeInput"),0<c.length&&(u=new Sj("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=N))}NV(f,e)})}function Vv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vb(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Dv(t,r),a!=null&&n.unshift(Vv(t,a,i)),a=Dv(t,e),a!=null&&n.push(Vv(t,a,i))),t=t.return}return n}function Jp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dj(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Dv(r,a),l!=null&&o.unshift(Vv(r,l,s))):i||(l=Dv(r,a),l!=null&&o.push(Vv(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Uae=/\r\n?/g,Vae=/\u0000|\uFFFD/g;function Mj(t){return(typeof t=="string"?t:""+t).replace(Uae,`
`).replace(Vae,"")}function S2(t,e,r){if(e=Mj(e),Mj(t)!==e&&r)throw Error(Je(425))}function yb(){}var e4=null,t4=null;function r4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var n4=typeof setTimeout=="function"?setTimeout:void 0,zae=typeof clearTimeout=="function"?clearTimeout:void 0,Lj=typeof Promise=="function"?Promise:void 0,Hae=typeof queueMicrotask=="function"?queueMicrotask:typeof Lj<"u"?function(t){return Lj.resolve(null).then(t).catch(qae)}:n4;function qae(t){setTimeout(function(){throw t})}function SE(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fv(e)}function Ud(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var pg=Math.random().toString(36).slice(2),Xl="__reactFiber$"+pg,zv="__reactProps$"+pg,uu="__reactContainer$"+pg,i4="__reactEvents$"+pg,Wae="__reactListeners$"+pg,Gae="__reactHandles$"+pg;function Sh(t){var e=t[Xl];if(e)return e;for(var r=t.parentNode;r;){if(e=r[uu]||r[Xl]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Fj(t);t!==null;){if(r=t[Xl])return r;t=Fj(t)}return e}t=r,r=t.parentNode}return null}function ax(t){return t=t[Xl]||t[uu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Em(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function k5(t){return t[zv]||null}var a4=[],Cm=-1;function bf(t){return{current:t}}function vn(t){0>Cm||(t.current=a4[Cm],a4[Cm]=null,Cm--)}function an(t,e){Cm++,a4[Cm]=t.current,t.current=e}var nf={},ja=bf(nf),yo=bf(!1),Hh=nf;function g0(t,e){var r=t.type.contextTypes;if(!r)return nf;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xo(t){return t=t.childContextTypes,t!=null}function xb(){vn(yo),vn(ja)}function Bj(t,e,r){if(ja.current!==nf)throw Error(Je(168));an(ja,e),an(yo,r)}function PV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Je(108,Oie(t)||"Unknown",i));return In({},r,n)}function wb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nf,Hh=ja.current,an(ja,t),an(yo,yo.current),!0}function $j(t,e,r){var n=t.stateNode;if(!n)throw Error(Je(169));r?(t=PV(t,e,Hh),n.__reactInternalMemoizedMergedChildContext=t,vn(yo),vn(ja),an(ja,t)):vn(yo),an(yo,r)}var Wc=null,j5=!1,AE=!1;function IV(t){Wc===null?Wc=[t]:Wc.push(t)}function Kae(t){j5=!0,IV(t)}function _f(){if(!AE&&Wc!==null){AE=!0;var t=0,e=Hr;try{var r=Wc;for(Hr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wc=null,j5=!1}catch(i){throw Wc!==null&&(Wc=Wc.slice(t+1)),tV(oI,_f),i}finally{Hr=e,AE=!1}}return null}var Nm=[],Tm=0,bb=null,_b=0,ys=[],xs=0,qh=null,Gc=1,Kc="";function uh(t,e){Nm[Tm++]=_b,Nm[Tm++]=bb,bb=t,_b=e}function OV(t,e,r){ys[xs++]=Gc,ys[xs++]=Kc,ys[xs++]=qh,qh=t;var n=Gc;t=Kc;var i=32-yl(n)-1;n&=~(1<<i),r+=1;var a=32-yl(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Gc=1<<32-yl(e)+i|r<<i|n,Kc=a+t}else Gc=1<<a|r<<i|n,Kc=t}function mI(t){t.return!==null&&(uh(t,1),OV(t,1,0))}function gI(t){for(;t===bb;)bb=Nm[--Tm],Nm[Tm]=null,_b=Nm[--Tm],Nm[Tm]=null;for(;t===qh;)qh=ys[--xs],ys[xs]=null,Kc=ys[--xs],ys[xs]=null,Gc=ys[--xs],ys[xs]=null}var Ko=null,Wo=null,wn=!1,cl=null;function kV(t,e){var r=ws(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Uj(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ko=t,Wo=Ud(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ko=t,Wo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qh!==null?{id:Gc,overflow:Kc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ws(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ko=t,Wo=null,!0):!1;default:return!1}}function o4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s4(t){if(wn){var e=Wo;if(e){var r=e;if(!Uj(t,e)){if(o4(t))throw Error(Je(418));e=Ud(r.nextSibling);var n=Ko;e&&Uj(t,e)?kV(n,r):(t.flags=t.flags&-4097|2,wn=!1,Ko=t)}}else{if(o4(t))throw Error(Je(418));t.flags=t.flags&-4097|2,wn=!1,Ko=t}}}function Vj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ko=t}function A2(t){if(t!==Ko)return!1;if(!wn)return Vj(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!r4(t.type,t.memoizedProps)),e&&(e=Wo)){if(o4(t))throw jV(),Error(Je(418));for(;e;)kV(t,e),e=Ud(e.nextSibling)}if(Vj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wo=Ud(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wo=null}}else Wo=Ko?Ud(t.stateNode.nextSibling):null;return!0}function jV(){for(var t=Wo;t;)t=Ud(t.nextSibling)}function v0(){Wo=Ko=null,wn=!1}function vI(t){cl===null?cl=[t]:cl.push(t)}var Yae=Cu.ReactCurrentBatchConfig;function v1(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Je(309));var n=r.stateNode}if(!n)throw Error(Je(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Je(284));if(!r._owner)throw Error(Je(290,t))}return t}function E2(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zj(t){var e=t._init;return e(t._payload)}function RV(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=qd(v,y),v.index=0,v.sibling=null,v}function a(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,y,w,C){return y===null||y.tag!==6?(y=OE(w,v.mode,C),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w,C){var A=w.type;return A===bm?u(v,y,w.props.children,C,w.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xd&&zj(A)===y.type)?(C=i(y,w.props),C.ref=v1(v,y,w),C.return=v,C):(C=Rw(w.type,w.key,w.props,null,v.mode,C),C.ref=v1(v,y,w),C.return=v,C)}function c(v,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=kE(w,v.mode,C),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function u(v,y,w,C,A){return y===null||y.tag!==7?(y=Dh(w,v.mode,C,A),y.return=v,y):(y=i(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=OE(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case p2:return w=Rw(y.type,y.key,y.props,null,v.mode,w),w.ref=v1(v,null,y),w.return=v,w;case wm:return y=kE(y,v.mode,w),y.return=v,y;case xd:var C=y._init;return f(v,C(y._payload),w)}if(H1(y)||f1(y))return y=Dh(y,v.mode,w,null),y.return=v,y;E2(v,y)}return null}function h(v,y,w,C){var A=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:s(v,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case p2:return w.key===A?l(v,y,w,C):null;case wm:return w.key===A?c(v,y,w,C):null;case xd:return A=w._init,h(v,y,A(w._payload),C)}if(H1(w)||f1(w))return A!==null?null:u(v,y,w,C,null);E2(v,w)}return null}function p(v,y,w,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,s(y,v,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case p2:return v=v.get(C.key===null?w:C.key)||null,l(y,v,C,A);case wm:return v=v.get(C.key===null?w:C.key)||null,c(y,v,C,A);case xd:var O=C._init;return p(v,y,w,O(C._payload),A)}if(H1(C)||f1(C))return v=v.get(w)||null,u(y,v,C,A,null);E2(y,C)}return null}function m(v,y,w,C){for(var A=null,O=null,N=y,S=y=0,P=null;N!==null&&S<w.length;S++){N.index>S?(P=N,N=null):P=N.sibling;var R=h(v,N,w[S],C);if(R===null){N===null&&(N=P);break}t&&N&&R.alternate===null&&e(v,N),y=a(R,y,S),O===null?A=R:O.sibling=R,O=R,N=P}if(S===w.length)return r(v,N),wn&&uh(v,S),A;if(N===null){for(;S<w.length;S++)N=f(v,w[S],C),N!==null&&(y=a(N,y,S),O===null?A=N:O.sibling=N,O=N);return wn&&uh(v,S),A}for(N=n(v,N);S<w.length;S++)P=p(N,v,S,w[S],C),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?S:P.key),y=a(P,y,S),O===null?A=P:O.sibling=P,O=P);return t&&N.forEach(function(I){return e(v,I)}),wn&&uh(v,S),A}function g(v,y,w,C){var A=f1(w);if(typeof A!="function")throw Error(Je(150));if(w=A.call(w),w==null)throw Error(Je(151));for(var O=A=null,N=y,S=y=0,P=null,R=w.next();N!==null&&!R.done;S++,R=w.next()){N.index>S?(P=N,N=null):P=N.sibling;var I=h(v,N,R.value,C);if(I===null){N===null&&(N=P);break}t&&N&&I.alternate===null&&e(v,N),y=a(I,y,S),O===null?A=I:O.sibling=I,O=I,N=P}if(R.done)return r(v,N),wn&&uh(v,S),A;if(N===null){for(;!R.done;S++,R=w.next())R=f(v,R.value,C),R!==null&&(y=a(R,y,S),O===null?A=R:O.sibling=R,O=R);return wn&&uh(v,S),A}for(N=n(v,N);!R.done;S++,R=w.next())R=p(N,v,S,R.value,C),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?S:R.key),y=a(R,y,S),O===null?A=R:O.sibling=R,O=R);return t&&N.forEach(function(k){return e(v,k)}),wn&&uh(v,S),A}function x(v,y,w,C){if(typeof w=="object"&&w!==null&&w.type===bm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case p2:e:{for(var A=w.key,O=y;O!==null;){if(O.key===A){if(A=w.type,A===bm){if(O.tag===7){r(v,O.sibling),y=i(O,w.props.children),y.return=v,v=y;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xd&&zj(A)===O.type){r(v,O.sibling),y=i(O,w.props),y.ref=v1(v,O,w),y.return=v,v=y;break e}r(v,O);break}else e(v,O);O=O.sibling}w.type===bm?(y=Dh(w.props.children,v.mode,C,w.key),y.return=v,v=y):(C=Rw(w.type,w.key,w.props,null,v.mode,C),C.ref=v1(v,y,w),C.return=v,v=C)}return o(v);case wm:e:{for(O=w.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=kE(w,v.mode,C),y.return=v,v=y}return o(v);case xd:return O=w._init,x(v,y,O(w._payload),C)}if(H1(w))return m(v,y,w,C);if(f1(w))return g(v,y,w,C);E2(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,w),y.return=v,v=y):(r(v,y),y=OE(w,v.mode,C),y.return=v,v=y),o(v)):r(v,y)}return x}var y0=RV(!0),DV=RV(!1),Sb=bf(null),Ab=null,Pm=null,yI=null;function xI(){yI=Pm=Ab=null}function wI(t){var e=Sb.current;vn(Sb),t._currentValue=e}function l4(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Km(t,e){Ab=t,yI=Pm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(go=!0),t.firstContext=null)}function Is(t){var e=t._currentValue;if(yI!==t)if(t={context:t,memoizedValue:e,next:null},Pm===null){if(Ab===null)throw Error(Je(308));Pm=t,Ab.dependencies={lanes:0,firstContext:t}}else Pm=Pm.next=t;return e}var Ah=null;function bI(t){Ah===null?Ah=[t]:Ah.push(t)}function MV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,bI(e)):(r.next=i.next,i.next=r),e.interleaved=r,du(t,n)}function du(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var wd=!1;function _I(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ru(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vd(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,br&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,du(t,r)}return i=n.interleaved,i===null?(e.next=e,bI(n)):(e.next=i.next,i.next=e),n.interleaved=e,du(t,r)}function Tw(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sI(t,r)}}function Hj(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Eb(t,e,r,n){var i=t.updateQueue;wd=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=In({},f,h);break e;case 2:wd=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Gh|=o,t.lanes=o,t.memoizedState=f}}function qj(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Je(191,i));i.call(n)}}}var ox={},nc=bf(ox),Hv=bf(ox),qv=bf(ox);function Eh(t){if(t===ox)throw Error(Je(174));return t}function SI(t,e){switch(an(qv,e),an(Hv,t),an(nc,ox),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=VC(e,t)}vn(nc),an(nc,e)}function x0(){vn(nc),vn(Hv),vn(qv)}function FV(t){Eh(qv.current);var e=Eh(nc.current),r=VC(e,t.type);e!==r&&(an(Hv,t),an(nc,r))}function AI(t){Hv.current===t&&(vn(nc),vn(Hv))}var Sn=bf(0);function Cb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var EE=[];function EI(){for(var t=0;t<EE.length;t++)EE[t]._workInProgressVersionPrimary=null;EE.length=0}var Pw=Cu.ReactCurrentDispatcher,CE=Cu.ReactCurrentBatchConfig,Wh=0,Tn=null,gi=null,Li=null,Nb=!1,cv=!1,Wv=0,Xae=0;function ha(){throw Error(Je(321))}function CI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bl(t[r],e[r]))return!1;return!0}function NI(t,e,r,n,i,a){if(Wh=a,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pw.current=t===null||t.memoizedState===null?eoe:toe,t=r(n,i),cv){a=0;do{if(cv=!1,Wv=0,25<=a)throw Error(Je(301));a+=1,Li=gi=null,e.updateQueue=null,Pw.current=roe,t=r(n,i)}while(cv)}if(Pw.current=Tb,e=gi!==null&&gi.next!==null,Wh=0,Li=gi=Tn=null,Nb=!1,e)throw Error(Je(300));return t}function TI(){var t=Wv!==0;return Wv=0,t}function Gl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?Tn.memoizedState=Li=t:Li=Li.next=t,Li}function Os(){if(gi===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=gi.next;var e=Li===null?Tn.memoizedState:Li.next;if(e!==null)Li=e,gi=t;else{if(t===null)throw Error(Je(310));gi=t,t={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},Li===null?Tn.memoizedState=Li=t:Li=Li.next=t}return Li}function Gv(t,e){return typeof e=="function"?e(t):e}function NE(t){var e=Os(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=gi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Wh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Tn.lanes|=u,Gh|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,bl(n,e.memoizedState)||(go=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Tn.lanes|=a,Gh|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function TE(t){var e=Os(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);bl(a,e.memoizedState)||(go=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function BV(){}function $V(t,e){var r=Tn,n=Os(),i=e(),a=!bl(n.memoizedState,i);if(a&&(n.memoizedState=i,go=!0),n=n.queue,PI(zV.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Li!==null&&Li.memoizedState.tag&1){if(r.flags|=2048,Kv(9,VV.bind(null,r,n,i,e),void 0,null),Ui===null)throw Error(Je(349));Wh&30||UV(r,e,i)}return i}function UV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function VV(t,e,r,n){e.value=r,e.getSnapshot=n,HV(e)&&qV(t)}function zV(t,e,r){return r(function(){HV(e)&&qV(t)})}function HV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bl(t,r)}catch{return!0}}function qV(t){var e=du(t,1);e!==null&&xl(e,t,1,-1)}function Wj(t){var e=Gl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:t},e.queue=t,t=t.dispatch=Jae.bind(null,Tn,t),[e.memoizedState,t]}function Kv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function WV(){return Os().memoizedState}function Iw(t,e,r,n){var i=Gl();Tn.flags|=t,i.memoizedState=Kv(1|e,r,void 0,n===void 0?null:n)}function R5(t,e,r,n){var i=Os();n=n===void 0?null:n;var a=void 0;if(gi!==null){var o=gi.memoizedState;if(a=o.destroy,n!==null&&CI(n,o.deps)){i.memoizedState=Kv(e,r,a,n);return}}Tn.flags|=t,i.memoizedState=Kv(1|e,r,a,n)}function Gj(t,e){return Iw(8390656,8,t,e)}function PI(t,e){return R5(2048,8,t,e)}function GV(t,e){return R5(4,2,t,e)}function KV(t,e){return R5(4,4,t,e)}function YV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XV(t,e,r){return r=r!=null?r.concat([t]):null,R5(4,4,YV.bind(null,e,t),r)}function II(){}function QV(t,e){var r=Os();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ZV(t,e){var r=Os();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function JV(t,e,r){return Wh&21?(bl(r,e)||(r=iV(),Tn.lanes|=r,Gh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,go=!0),t.memoizedState=r)}function Qae(t,e){var r=Hr;Hr=r!==0&&4>r?r:4,t(!0);var n=CE.transition;CE.transition={};try{t(!1),e()}finally{Hr=r,CE.transition=n}}function ez(){return Os().memoizedState}function Zae(t,e,r){var n=Hd(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tz(t))rz(e,r);else if(r=MV(t,e,r,n),r!==null){var i=Za();xl(r,t,n,i),nz(r,e,n)}}function Jae(t,e,r){var n=Hd(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tz(t))rz(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,bl(s,o)){var l=e.interleaved;l===null?(i.next=i,bI(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=MV(t,e,i,n),r!==null&&(i=Za(),xl(r,t,n,i),nz(r,e,n))}}function tz(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function rz(t,e){cv=Nb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function nz(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sI(t,r)}}var Tb={readContext:Is,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},eoe={readContext:Is,useCallback:function(t,e){return Gl().memoizedState=[t,e===void 0?null:e],t},useContext:Is,useEffect:Gj,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Iw(4194308,4,YV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Iw(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iw(4,2,t,e)},useMemo:function(t,e){var r=Gl();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Gl();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Zae.bind(null,Tn,t),[n.memoizedState,t]},useRef:function(t){var e=Gl();return t={current:t},e.memoizedState=t},useState:Wj,useDebugValue:II,useDeferredValue:function(t){return Gl().memoizedState=t},useTransition:function(){var t=Wj(!1),e=t[0];return t=Qae.bind(null,t[1]),Gl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tn,i=Gl();if(wn){if(r===void 0)throw Error(Je(407));r=r()}else{if(r=e(),Ui===null)throw Error(Je(349));Wh&30||UV(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Gj(zV.bind(null,n,a,t),[t]),n.flags|=2048,Kv(9,VV.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Gl(),e=Ui.identifierPrefix;if(wn){var r=Kc,n=Gc;r=(n&~(1<<32-yl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Wv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Xae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},toe={readContext:Is,useCallback:QV,useContext:Is,useEffect:PI,useImperativeHandle:XV,useInsertionEffect:GV,useLayoutEffect:KV,useMemo:ZV,useReducer:NE,useRef:WV,useState:function(){return NE(Gv)},useDebugValue:II,useDeferredValue:function(t){var e=Os();return JV(e,gi.memoizedState,t)},useTransition:function(){var t=NE(Gv)[0],e=Os().memoizedState;return[t,e]},useMutableSource:BV,useSyncExternalStore:$V,useId:ez,unstable_isNewReconciler:!1},roe={readContext:Is,useCallback:QV,useContext:Is,useEffect:PI,useImperativeHandle:XV,useInsertionEffect:GV,useLayoutEffect:KV,useMemo:ZV,useReducer:TE,useRef:WV,useState:function(){return TE(Gv)},useDebugValue:II,useDeferredValue:function(t){var e=Os();return gi===null?e.memoizedState=t:JV(e,gi.memoizedState,t)},useTransition:function(){var t=TE(Gv)[0],e=Os().memoizedState;return[t,e]},useMutableSource:BV,useSyncExternalStore:$V,useId:ez,unstable_isNewReconciler:!1};function nl(t,e){if(t&&t.defaultProps){e=In({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function c4(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:In({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var D5={isMounted:function(t){return(t=t._reactInternals)?up(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Za(),i=Hd(t),a=ru(n,i);a.payload=e,r!=null&&(a.callback=r),e=Vd(t,a,i),e!==null&&(xl(e,t,i,n),Tw(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Za(),i=Hd(t),a=ru(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Vd(t,a,i),e!==null&&(xl(e,t,i,n),Tw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Za(),n=Hd(t),i=ru(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vd(t,i,n),e!==null&&(xl(e,t,n,r),Tw(e,t,n))}};function Kj(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!$v(r,n)||!$v(i,a):!0}function iz(t,e,r){var n=!1,i=nf,a=e.contextType;return typeof a=="object"&&a!==null?a=Is(a):(i=xo(e)?Hh:ja.current,n=e.contextTypes,a=(n=n!=null)?g0(t,i):nf),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=D5,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Yj(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&D5.enqueueReplaceState(e,e.state,null)}function u4(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},_I(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Is(a):(a=xo(e)?Hh:ja.current,i.context=g0(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(c4(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&D5.enqueueReplaceState(i,i.state,null),Eb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function w0(t,e){try{var r="",n=e;do r+=Iie(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function PE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function d4(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var noe=typeof WeakMap=="function"?WeakMap:Map;function az(t,e,r){r=ru(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ib||(Ib=!0,b4=n),d4(t,e)},r}function oz(t,e,r){r=ru(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){d4(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){d4(t,e),typeof n!="function"&&(zd===null?zd=new Set([this]):zd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Xj(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new noe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=voe.bind(null,t,e,r),e.then(t,t))}function Qj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zj(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ru(-1,1),e.tag=2,Vd(r,e,1))),r.lanes|=1),t)}var ioe=Cu.ReactCurrentOwner,go=!1;function Ga(t,e,r,n){e.child=t===null?DV(e,null,r,n):y0(e,t.child,r,n)}function Jj(t,e,r,n,i){r=r.render;var a=e.ref;return Km(e,i),n=NI(t,e,r,n,a,i),r=TI(),t!==null&&!go?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fu(t,e,i)):(wn&&r&&mI(e),e.flags|=1,Ga(t,e,n,i),e.child)}function eR(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!FI(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,sz(t,e,a,n,i)):(t=Rw(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$v,r(o,n)&&t.ref===e.ref)return fu(t,e,i)}return e.flags|=1,t=qd(a,n),t.ref=e.ref,t.return=e,e.child=t}function sz(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if($v(a,n)&&t.ref===e.ref)if(go=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(go=!0);else return e.lanes=t.lanes,fu(t,e,i)}return f4(t,e,r,n,i)}function lz(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Om,Vo),Vo|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,an(Om,Vo),Vo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,an(Om,Vo),Vo|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,an(Om,Vo),Vo|=n;return Ga(t,e,i,r),e.child}function cz(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function f4(t,e,r,n,i){var a=xo(r)?Hh:ja.current;return a=g0(e,a),Km(e,i),r=NI(t,e,r,n,a,i),n=TI(),t!==null&&!go?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fu(t,e,i)):(wn&&n&&mI(e),e.flags|=1,Ga(t,e,r,i),e.child)}function tR(t,e,r,n,i){if(xo(r)){var a=!0;wb(e)}else a=!1;if(Km(e,i),e.stateNode===null)Ow(t,e),iz(e,r,n),u4(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Is(c):(c=xo(r)?Hh:ja.current,c=g0(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&Yj(e,o,n,c),wd=!1;var h=e.memoizedState;o.state=h,Eb(e,n,o,i),l=e.memoizedState,s!==n||h!==l||yo.current||wd?(typeof u=="function"&&(c4(e,r,u,n),l=e.memoizedState),(s=wd||Kj(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,LV(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:nl(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Is(l):(l=xo(r)?Hh:ja.current,l=g0(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Yj(e,o,n,l),wd=!1,h=e.memoizedState,o.state=h,Eb(e,n,o,i);var m=e.memoizedState;s!==f||h!==m||yo.current||wd?(typeof p=="function"&&(c4(e,r,p,n),m=e.memoizedState),(c=wd||Kj(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return h4(t,e,r,n,a,i)}function h4(t,e,r,n,i,a){cz(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$j(e,r,!1),fu(t,e,a);n=e.stateNode,ioe.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=y0(e,t.child,null,a),e.child=y0(e,null,s,a)):Ga(t,e,s,a),e.memoizedState=n.state,i&&$j(e,r,!0),e.child}function uz(t){var e=t.stateNode;e.pendingContext?Bj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bj(t,e.context,!1),SI(t,e.containerInfo)}function rR(t,e,r,n,i){return v0(),vI(i),e.flags|=256,Ga(t,e,r,n),e.child}var p4={dehydrated:null,treeContext:null,retryLane:0};function m4(t){return{baseLanes:t,cachePool:null,transitions:null}}function dz(t,e,r){var n=e.pendingProps,i=Sn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),an(Sn,i&1),t===null)return s4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=F5(o,n,0,null),t=Dh(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=m4(r),e.memoizedState=p4,t):OI(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return aoe(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=qd(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=qd(s,a):(a=Dh(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?m4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=p4,n}return a=t.child,t=a.sibling,n=qd(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function OI(t,e){return e=F5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function C2(t,e,r,n){return n!==null&&vI(n),y0(e,t.child,null,r),t=OI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aoe(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=PE(Error(Je(422))),C2(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=F5({mode:"visible",children:n.children},i,0,null),a=Dh(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&y0(e,t.child,null,o),e.child.memoizedState=m4(o),e.memoizedState=p4,a);if(!(e.mode&1))return C2(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Je(419)),n=PE(a,n,void 0),C2(t,e,o,n)}if(s=(o&t.childLanes)!==0,go||s){if(n=Ui,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,du(t,i),xl(n,t,i,-1))}return LI(),n=PE(Error(Je(421))),C2(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yoe.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Wo=Ud(i.nextSibling),Ko=e,wn=!0,cl=null,t!==null&&(ys[xs++]=Gc,ys[xs++]=Kc,ys[xs++]=qh,Gc=t.id,Kc=t.overflow,qh=e),e=OI(e,n.children),e.flags|=4096,e)}function nR(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),l4(t.return,e,r)}function IE(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function fz(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ga(t,e,n.children,r),n=Sn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nR(t,r,e);else if(t.tag===19)nR(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(an(Sn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Cb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),IE(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}IE(e,!0,r,null,a);break;case"together":IE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ow(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fu(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,r=qd(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qd(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ooe(t,e,r){switch(e.tag){case 3:uz(e),v0();break;case 5:FV(e);break;case 1:xo(e.type)&&wb(e);break;case 4:SI(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;an(Sb,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(an(Sn,Sn.current&1),e.flags|=128,null):r&e.child.childLanes?dz(t,e,r):(an(Sn,Sn.current&1),t=fu(t,e,r),t!==null?t.sibling:null);an(Sn,Sn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return fz(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(Sn,Sn.current),n)break;return null;case 22:case 23:return e.lanes=0,lz(t,e,r)}return fu(t,e,r)}var hz,g4,pz,mz;hz=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};g4=function(){};pz=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Eh(nc.current);var a=null;switch(r){case"input":i=FC(t,i),n=FC(t,n),a=[];break;case"select":i=In({},i,{value:void 0}),n=In({},n,{value:void 0}),a=[];break;case"textarea":i=UC(t,i),n=UC(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yb)}zC(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jv.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};mz=function(t,e,r,n){r!==n&&(e.flags|=4)};function y1(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pa(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function soe(t,e,r){var n=e.pendingProps;switch(gI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(e),null;case 1:return xo(e.type)&&xb(),pa(e),null;case 3:return n=e.stateNode,x0(),vn(yo),vn(ja),EI(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(A2(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cl!==null&&(A4(cl),cl=null))),g4(t,e),pa(e),null;case 5:AI(e);var i=Eh(qv.current);if(r=e.type,t!==null&&e.stateNode!=null)pz(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Je(166));return pa(e),null}if(t=Eh(nc.current),A2(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xl]=e,n[zv]=a,t=(e.mode&1)!==0,r){case"dialog":dn("cancel",n),dn("close",n);break;case"iframe":case"object":case"embed":dn("load",n);break;case"video":case"audio":for(i=0;i<W1.length;i++)dn(W1[i],n);break;case"source":dn("error",n);break;case"img":case"image":case"link":dn("error",n),dn("load",n);break;case"details":dn("toggle",n);break;case"input":fj(n,a),dn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},dn("invalid",n);break;case"textarea":pj(n,a),dn("invalid",n)}zC(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&S2(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&S2(n.textContent,s,t),i=["children",""+s]):jv.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&dn("scroll",n)}switch(r){case"input":m2(n),hj(n,a,!0);break;case"textarea":m2(n),mj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zU(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Xl]=e,t[zv]=n,hz(t,e,!1,!1),e.stateNode=t;e:{switch(o=HC(r,n),r){case"dialog":dn("cancel",t),dn("close",t),i=n;break;case"iframe":case"object":case"embed":dn("load",t),i=n;break;case"video":case"audio":for(i=0;i<W1.length;i++)dn(W1[i],t);i=n;break;case"source":dn("error",t),i=n;break;case"img":case"image":case"link":dn("error",t),dn("load",t),i=n;break;case"details":dn("toggle",t),i=n;break;case"input":fj(t,n),i=FC(t,n),dn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=In({},n,{value:void 0}),dn("invalid",t);break;case"textarea":pj(t,n),i=UC(t,n),dn("invalid",t);break;default:i=n}zC(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?WU(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HU(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rv(t,l):typeof l=="number"&&Rv(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(jv.hasOwnProperty(a)?l!=null&&a==="onScroll"&&dn("scroll",t):l!=null&&tI(t,a,l,o))}switch(r){case"input":m2(t),hj(t,n,!1);break;case"textarea":m2(t),mj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+rf(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Hm(t,!!n.multiple,a,!1):n.defaultValue!=null&&Hm(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pa(e),null;case 6:if(t&&e.stateNode!=null)mz(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Je(166));if(r=Eh(qv.current),Eh(nc.current),A2(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xl]=e,(a=n.nodeValue!==r)&&(t=Ko,t!==null))switch(t.tag){case 3:S2(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&S2(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xl]=e,e.stateNode=n}return pa(e),null;case 13:if(vn(Sn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Wo!==null&&e.mode&1&&!(e.flags&128))jV(),v0(),e.flags|=98560,a=!1;else if(a=A2(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Je(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Je(317));a[Xl]=e}else v0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pa(e),a=!1}else cl!==null&&(A4(cl),cl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?_i===0&&(_i=3):LI())),e.updateQueue!==null&&(e.flags|=4),pa(e),null);case 4:return x0(),g4(t,e),t===null&&Uv(e.stateNode.containerInfo),pa(e),null;case 10:return wI(e.type._context),pa(e),null;case 17:return xo(e.type)&&xb(),pa(e),null;case 19:if(vn(Sn),a=e.memoizedState,a===null)return pa(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)y1(a,!1);else{if(_i!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cb(t),o!==null){for(e.flags|=128,y1(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return an(Sn,Sn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Hn()>b0&&(e.flags|=128,n=!0,y1(a,!1),e.lanes=4194304)}else{if(!n)if(t=Cb(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),y1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!wn)return pa(e),null}else 2*Hn()-a.renderingStartTime>b0&&r!==1073741824&&(e.flags|=128,n=!0,y1(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Hn(),e.sibling=null,r=Sn.current,an(Sn,n?r&1|2:r&1),e):(pa(e),null);case 22:case 23:return MI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vo&1073741824&&(pa(e),e.subtreeFlags&6&&(e.flags|=8192)):pa(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function loe(t,e){switch(gI(e),e.tag){case 1:return xo(e.type)&&xb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return x0(),vn(yo),vn(ja),EI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AI(e),null;case 13:if(vn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));v0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn(Sn),null;case 4:return x0(),null;case 10:return wI(e.type._context),null;case 22:case 23:return MI(),null;case 24:return null;default:return null}}var N2=!1,Ca=!1,coe=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Im(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mn(t,e,n)}else r.current=null}function v4(t,e,r){try{r()}catch(n){Mn(t,e,n)}}var iR=!1;function uoe(t,e){if(e4=mb,t=wV(),pI(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(t4={focusedElem:t,selectionRange:r},mb=!1,wt=e;wt!==null;)if(e=wt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,wt=t;else for(;wt!==null;){e=wt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:nl(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(C){Mn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,wt=t;break}wt=e.return}return m=iR,iR=!1,m}function uv(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&v4(e,r,a)}i=i.next}while(i!==n)}}function M5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function y4(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gz(t){var e=t.alternate;e!==null&&(t.alternate=null,gz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xl],delete e[zv],delete e[i4],delete e[Wae],delete e[Gae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vz(t){return t.tag===5||t.tag===3||t.tag===4}function aR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vz(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x4(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yb));else if(n!==4&&(t=t.child,t!==null))for(x4(t,e,r),t=t.sibling;t!==null;)x4(t,e,r),t=t.sibling}function w4(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(w4(t,e,r),t=t.sibling;t!==null;)w4(t,e,r),t=t.sibling}var Ji=null,al=!1;function sd(t,e,r){for(r=r.child;r!==null;)yz(t,e,r),r=r.sibling}function yz(t,e,r){if(rc&&typeof rc.onCommitFiberUnmount=="function")try{rc.onCommitFiberUnmount(T5,r)}catch{}switch(r.tag){case 5:Ca||Im(r,e);case 6:var n=Ji,i=al;Ji=null,sd(t,e,r),Ji=n,al=i,Ji!==null&&(al?(t=Ji,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ji.removeChild(r.stateNode));break;case 18:Ji!==null&&(al?(t=Ji,r=r.stateNode,t.nodeType===8?SE(t.parentNode,r):t.nodeType===1&&SE(t,r),Fv(t)):SE(Ji,r.stateNode));break;case 4:n=Ji,i=al,Ji=r.stateNode.containerInfo,al=!0,sd(t,e,r),Ji=n,al=i;break;case 0:case 11:case 14:case 15:if(!Ca&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&v4(r,e,o),i=i.next}while(i!==n)}sd(t,e,r);break;case 1:if(!Ca&&(Im(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Mn(r,e,s)}sd(t,e,r);break;case 21:sd(t,e,r);break;case 22:r.mode&1?(Ca=(n=Ca)||r.memoizedState!==null,sd(t,e,r),Ca=n):sd(t,e,r);break;default:sd(t,e,r)}}function oR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new coe),e.forEach(function(n){var i=xoe.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ys(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ji=s.stateNode,al=!1;break e;case 3:Ji=s.stateNode.containerInfo,al=!0;break e;case 4:Ji=s.stateNode.containerInfo,al=!0;break e}s=s.return}if(Ji===null)throw Error(Je(160));yz(a,o,i),Ji=null,al=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xz(e,t),e=e.sibling}function xz(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ys(e,t),ql(t),n&4){try{uv(3,t,t.return),M5(3,t)}catch(g){Mn(t,t.return,g)}try{uv(5,t,t.return)}catch(g){Mn(t,t.return,g)}}break;case 1:Ys(e,t),ql(t),n&512&&r!==null&&Im(r,r.return);break;case 5:if(Ys(e,t),ql(t),n&512&&r!==null&&Im(r,r.return),t.flags&32){var i=t.stateNode;try{Rv(i,"")}catch(g){Mn(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&UU(i,a),HC(s,o);var c=HC(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?WU(i,f):u==="dangerouslySetInnerHTML"?HU(i,f):u==="children"?Rv(i,f):tI(i,u,f,c)}switch(s){case"input":BC(i,a);break;case"textarea":VU(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Hm(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Hm(i,!!a.multiple,a.defaultValue,!0):Hm(i,!!a.multiple,a.multiple?[]:"",!1))}i[zv]=a}catch(g){Mn(t,t.return,g)}}break;case 6:if(Ys(e,t),ql(t),n&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Mn(t,t.return,g)}}break;case 3:if(Ys(e,t),ql(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fv(e.containerInfo)}catch(g){Mn(t,t.return,g)}break;case 4:Ys(e,t),ql(t);break;case 13:Ys(e,t),ql(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(RI=Hn())),n&4&&oR(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ca=(c=Ca)||u,Ys(e,t),Ca=c):Ys(e,t),ql(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(wt=t,u=t.child;u!==null;){for(f=wt=u;wt!==null;){switch(h=wt,p=h.child,h.tag){case 0:case 11:case 14:case 15:uv(4,h,h.return);break;case 1:Im(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Mn(n,r,g)}}break;case 5:Im(h,h.return);break;case 22:if(h.memoizedState!==null){lR(f);continue}}p!==null?(p.return=h,wt=p):lR(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=qU("display",o))}catch(g){Mn(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Mn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ys(e,t),ql(t),n&4&&oR(t);break;case 21:break;default:Ys(e,t),ql(t)}}function ql(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vz(r)){var n=r;break e}r=r.return}throw Error(Je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rv(i,""),n.flags&=-33);var a=aR(t);w4(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=aR(t);x4(t,s,o);break;default:throw Error(Je(161))}}catch(l){Mn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function doe(t,e,r){wt=t,wz(t)}function wz(t,e,r){for(var n=(t.mode&1)!==0;wt!==null;){var i=wt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||N2;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ca;s=N2;var c=Ca;if(N2=o,(Ca=l)&&!c)for(wt=i;wt!==null;)o=wt,l=o.child,o.tag===22&&o.memoizedState!==null?cR(i):l!==null?(l.return=o,wt=l):cR(i);for(;a!==null;)wt=a,wz(a),a=a.sibling;wt=i,N2=s,Ca=c}sR(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,wt=a):sR(t)}}function sR(t){for(;wt!==null;){var e=wt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ca||M5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ca)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:nl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&qj(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qj(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Fv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}Ca||e.flags&512&&y4(e)}catch(h){Mn(e,e.return,h)}}if(e===t){wt=null;break}if(r=e.sibling,r!==null){r.return=e.return,wt=r;break}wt=e.return}}function lR(t){for(;wt!==null;){var e=wt;if(e===t){wt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,wt=r;break}wt=e.return}}function cR(t){for(;wt!==null;){var e=wt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{M5(4,e)}catch(l){Mn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Mn(e,i,l)}}var a=e.return;try{y4(e)}catch(l){Mn(e,a,l)}break;case 5:var o=e.return;try{y4(e)}catch(l){Mn(e,o,l)}}}catch(l){Mn(e,e.return,l)}if(e===t){wt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,wt=s;break}wt=e.return}}var foe=Math.ceil,Pb=Cu.ReactCurrentDispatcher,kI=Cu.ReactCurrentOwner,Ss=Cu.ReactCurrentBatchConfig,br=0,Ui=null,li=null,ia=0,Vo=0,Om=bf(0),_i=0,Yv=null,Gh=0,L5=0,jI=0,dv=null,ho=null,RI=0,b0=1/0,Hc=null,Ib=!1,b4=null,zd=null,T2=!1,kd=null,Ob=0,fv=0,_4=null,kw=-1,jw=0;function Za(){return br&6?Hn():kw!==-1?kw:kw=Hn()}function Hd(t){return t.mode&1?br&2&&ia!==0?ia&-ia:Yae.transition!==null?(jw===0&&(jw=iV()),jw):(t=Hr,t!==0||(t=window.event,t=t===void 0?16:dV(t.type)),t):1}function xl(t,e,r,n){if(50<fv)throw fv=0,_4=null,Error(Je(185));nx(t,r,n),(!(br&2)||t!==Ui)&&(t===Ui&&(!(br&2)&&(L5|=r),_i===4&&Ed(t,ia)),wo(t,n),r===1&&br===0&&!(e.mode&1)&&(b0=Hn()+500,j5&&_f()))}function wo(t,e){var r=t.callbackNode;Yie(t,e);var n=pb(t,t===Ui?ia:0);if(n===0)r!==null&&yj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yj(r),e===1)t.tag===0?Kae(uR.bind(null,t)):IV(uR.bind(null,t)),Hae(function(){!(br&6)&&_f()}),r=null;else{switch(aV(n)){case 1:r=oI;break;case 4:r=rV;break;case 16:r=hb;break;case 536870912:r=nV;break;default:r=hb}r=Tz(r,bz.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function bz(t,e){if(kw=-1,jw=0,br&6)throw Error(Je(327));var r=t.callbackNode;if(Ym()&&t.callbackNode!==r)return null;var n=pb(t,t===Ui?ia:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=kb(t,n);else{e=n;var i=br;br|=2;var a=Sz();(Ui!==t||ia!==e)&&(Hc=null,b0=Hn()+500,Rh(t,e));do try{moe();break}catch(s){_z(t,s)}while(!0);xI(),Pb.current=a,br=i,li!==null?e=0:(Ui=null,ia=0,e=_i)}if(e!==0){if(e===2&&(i=YC(t),i!==0&&(n=i,e=S4(t,i))),e===1)throw r=Yv,Rh(t,0),Ed(t,n),wo(t,Hn()),r;if(e===6)Ed(t,n);else{if(i=t.current.alternate,!(n&30)&&!hoe(i)&&(e=kb(t,n),e===2&&(a=YC(t),a!==0&&(n=a,e=S4(t,a))),e===1))throw r=Yv,Rh(t,0),Ed(t,n),wo(t,Hn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Je(345));case 2:dh(t,ho,Hc);break;case 3:if(Ed(t,n),(n&130023424)===n&&(e=RI+500-Hn(),10<e)){if(pb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Za(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=n4(dh.bind(null,t,ho,Hc),e);break}dh(t,ho,Hc);break;case 4:if(Ed(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-yl(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*foe(n/1960))-n,10<n){t.timeoutHandle=n4(dh.bind(null,t,ho,Hc),n);break}dh(t,ho,Hc);break;case 5:dh(t,ho,Hc);break;default:throw Error(Je(329))}}}return wo(t,Hn()),t.callbackNode===r?bz.bind(null,t):null}function S4(t,e){var r=dv;return t.current.memoizedState.isDehydrated&&(Rh(t,e).flags|=256),t=kb(t,e),t!==2&&(e=ho,ho=r,e!==null&&A4(e)),t}function A4(t){ho===null?ho=t:ho.push.apply(ho,t)}function hoe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bl(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ed(t,e){for(e&=~jI,e&=~L5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yl(e),n=1<<r;t[r]=-1,e&=~n}}function uR(t){if(br&6)throw Error(Je(327));Ym();var e=pb(t,0);if(!(e&1))return wo(t,Hn()),null;var r=kb(t,e);if(t.tag!==0&&r===2){var n=YC(t);n!==0&&(e=n,r=S4(t,n))}if(r===1)throw r=Yv,Rh(t,0),Ed(t,e),wo(t,Hn()),r;if(r===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dh(t,ho,Hc),wo(t,Hn()),null}function DI(t,e){var r=br;br|=1;try{return t(e)}finally{br=r,br===0&&(b0=Hn()+500,j5&&_f())}}function Kh(t){kd!==null&&kd.tag===0&&!(br&6)&&Ym();var e=br;br|=1;var r=Ss.transition,n=Hr;try{if(Ss.transition=null,Hr=1,t)return t()}finally{Hr=n,Ss.transition=r,br=e,!(br&6)&&_f()}}function MI(){Vo=Om.current,vn(Om)}function Rh(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zae(r)),li!==null)for(r=li.return;r!==null;){var n=r;switch(gI(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xb();break;case 3:x0(),vn(yo),vn(ja),EI();break;case 5:AI(n);break;case 4:x0();break;case 13:vn(Sn);break;case 19:vn(Sn);break;case 10:wI(n.type._context);break;case 22:case 23:MI()}r=r.return}if(Ui=t,li=t=qd(t.current,null),ia=Vo=e,_i=0,Yv=null,jI=L5=Gh=0,ho=dv=null,Ah!==null){for(e=0;e<Ah.length;e++)if(r=Ah[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ah=null}return t}function _z(t,e){do{var r=li;try{if(xI(),Pw.current=Tb,Nb){for(var n=Tn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nb=!1}if(Wh=0,Li=gi=Tn=null,cv=!1,Wv=0,kI.current=null,r===null||r.return===null){_i=1,Yv=e,li=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=ia,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Qj(o);if(p!==null){p.flags&=-257,Zj(p,o,s,a,e),p.mode&1&&Xj(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Xj(a,c,e),LI();break e}l=Error(Je(426))}}else if(wn&&s.mode&1){var x=Qj(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zj(x,o,s,a,e),vI(w0(l,s));break e}}a=l=w0(l,s),_i!==4&&(_i=2),dv===null?dv=[a]:dv.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=az(a,l,e);Hj(a,v);break e;case 1:s=l;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zd===null||!zd.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=oz(a,s,e);Hj(a,C);break e}}a=a.return}while(a!==null)}Ez(r)}catch(A){e=A,li===r&&r!==null&&(li=r=r.return);continue}break}while(!0)}function Sz(){var t=Pb.current;return Pb.current=Tb,t===null?Tb:t}function LI(){(_i===0||_i===3||_i===2)&&(_i=4),Ui===null||!(Gh&268435455)&&!(L5&268435455)||Ed(Ui,ia)}function kb(t,e){var r=br;br|=2;var n=Sz();(Ui!==t||ia!==e)&&(Hc=null,Rh(t,e));do try{poe();break}catch(i){_z(t,i)}while(!0);if(xI(),br=r,Pb.current=n,li!==null)throw Error(Je(261));return Ui=null,ia=0,_i}function poe(){for(;li!==null;)Az(li)}function moe(){for(;li!==null&&!$ie();)Az(li)}function Az(t){var e=Nz(t.alternate,t,Vo);t.memoizedProps=t.pendingProps,e===null?Ez(t):li=e,kI.current=null}function Ez(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=loe(r,e),r!==null){r.flags&=32767,li=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_i=6,li=null;return}}else if(r=soe(r,e,Vo),r!==null){li=r;return}if(e=e.sibling,e!==null){li=e;return}li=e=t}while(e!==null);_i===0&&(_i=5)}function dh(t,e,r){var n=Hr,i=Ss.transition;try{Ss.transition=null,Hr=1,goe(t,e,r,n)}finally{Ss.transition=i,Hr=n}return null}function goe(t,e,r,n){do Ym();while(kd!==null);if(br&6)throw Error(Je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Xie(t,a),t===Ui&&(li=Ui=null,ia=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||T2||(T2=!0,Tz(hb,function(){return Ym(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ss.transition,Ss.transition=null;var o=Hr;Hr=1;var s=br;br|=4,kI.current=null,uoe(t,r),xz(r,t),Mae(t4),mb=!!e4,t4=e4=null,t.current=r,doe(r),Uie(),br=s,Hr=o,Ss.transition=a}else t.current=r;if(T2&&(T2=!1,kd=t,Ob=i),a=t.pendingLanes,a===0&&(zd=null),Hie(r.stateNode),wo(t,Hn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ib)throw Ib=!1,t=b4,b4=null,t;return Ob&1&&t.tag!==0&&Ym(),a=t.pendingLanes,a&1?t===_4?fv++:(fv=0,_4=t):fv=0,_f(),null}function Ym(){if(kd!==null){var t=aV(Ob),e=Ss.transition,r=Hr;try{if(Ss.transition=null,Hr=16>t?16:t,kd===null)var n=!1;else{if(t=kd,kd=null,Ob=0,br&6)throw Error(Je(331));var i=br;for(br|=4,wt=t.current;wt!==null;){var a=wt,o=a.child;if(wt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(wt=c;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:uv(8,u,a)}var f=u.child;if(f!==null)f.return=u,wt=f;else for(;wt!==null;){u=wt;var h=u.sibling,p=u.return;if(gz(u),u===c){wt=null;break}if(h!==null){h.return=p,wt=h;break}wt=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}wt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,wt=o;else e:for(;wt!==null;){if(a=wt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:uv(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,wt=v;break e}wt=a.return}}var y=t.current;for(wt=y;wt!==null;){o=wt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,wt=w;else e:for(o=y;wt!==null;){if(s=wt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:M5(9,s)}}catch(A){Mn(s,s.return,A)}if(s===o){wt=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,wt=C;break e}wt=s.return}}if(br=i,_f(),rc&&typeof rc.onPostCommitFiberRoot=="function")try{rc.onPostCommitFiberRoot(T5,t)}catch{}n=!0}return n}finally{Hr=r,Ss.transition=e}}return!1}function dR(t,e,r){e=w0(r,e),e=az(t,e,1),t=Vd(t,e,1),e=Za(),t!==null&&(nx(t,1,e),wo(t,e))}function Mn(t,e,r){if(t.tag===3)dR(t,t,r);else for(;e!==null;){if(e.tag===3){dR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zd===null||!zd.has(n))){t=w0(r,t),t=oz(e,t,1),e=Vd(e,t,1),t=Za(),e!==null&&(nx(e,1,t),wo(e,t));break}}e=e.return}}function voe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Za(),t.pingedLanes|=t.suspendedLanes&r,Ui===t&&(ia&r)===r&&(_i===4||_i===3&&(ia&130023424)===ia&&500>Hn()-RI?Rh(t,0):jI|=r),wo(t,e)}function Cz(t,e){e===0&&(t.mode&1?(e=y2,y2<<=1,!(y2&130023424)&&(y2=4194304)):e=1);var r=Za();t=du(t,e),t!==null&&(nx(t,e,r),wo(t,r))}function yoe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Cz(t,r)}function xoe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Je(314))}n!==null&&n.delete(e),Cz(t,r)}var Nz;Nz=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yo.current)go=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return go=!1,ooe(t,e,r);go=!!(t.flags&131072)}else go=!1,wn&&e.flags&1048576&&OV(e,_b,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ow(t,e),t=e.pendingProps;var i=g0(e,ja.current);Km(e,r),i=NI(null,e,n,t,i,r);var a=TI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xo(n)?(a=!0,wb(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_I(e),i.updater=D5,e.stateNode=i,i._reactInternals=e,u4(e,n,t,r),e=h4(null,e,n,!0,a,r)):(e.tag=0,wn&&a&&mI(e),Ga(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ow(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=boe(n),t=nl(n,t),i){case 0:e=f4(null,e,n,t,r);break e;case 1:e=tR(null,e,n,t,r);break e;case 11:e=Jj(null,e,n,t,r);break e;case 14:e=eR(null,e,n,nl(n.type,t),r);break e}throw Error(Je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nl(n,i),f4(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nl(n,i),tR(t,e,n,i,r);case 3:e:{if(uz(e),t===null)throw Error(Je(387));n=e.pendingProps,a=e.memoizedState,i=a.element,LV(t,e),Eb(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=w0(Error(Je(423)),e),e=rR(t,e,n,r,i);break e}else if(n!==i){i=w0(Error(Je(424)),e),e=rR(t,e,n,r,i);break e}else for(Wo=Ud(e.stateNode.containerInfo.firstChild),Ko=e,wn=!0,cl=null,r=DV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(v0(),n===i){e=fu(t,e,r);break e}Ga(t,e,n,r)}e=e.child}return e;case 5:return FV(e),t===null&&s4(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,r4(n,i)?o=null:a!==null&&r4(n,a)&&(e.flags|=32),cz(t,e),Ga(t,e,o,r),e.child;case 6:return t===null&&s4(e),null;case 13:return dz(t,e,r);case 4:return SI(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=y0(e,null,n,r):Ga(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nl(n,i),Jj(t,e,n,i,r);case 7:return Ga(t,e,e.pendingProps,r),e.child;case 8:return Ga(t,e,e.pendingProps.children,r),e.child;case 12:return Ga(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,an(Sb,n._currentValue),n._currentValue=o,a!==null)if(bl(a.value,o)){if(a.children===i.children&&!yo.current){e=fu(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ru(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),l4(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Je(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),l4(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ga(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Km(e,r),i=Is(i),n=n(i),e.flags|=1,Ga(t,e,n,r),e.child;case 14:return n=e.type,i=nl(n,e.pendingProps),i=nl(n.type,i),eR(t,e,n,i,r);case 15:return sz(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nl(n,i),Ow(t,e),e.tag=1,xo(n)?(t=!0,wb(e)):t=!1,Km(e,r),iz(e,n,i),u4(e,n,i,r),h4(null,e,n,!0,t,r);case 19:return fz(t,e,r);case 22:return lz(t,e,r)}throw Error(Je(156,e.tag))};function Tz(t,e){return tV(t,e)}function woe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(t,e,r,n){return new woe(t,e,r,n)}function FI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function boe(t){if(typeof t=="function")return FI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nI)return 11;if(t===iI)return 14}return 2}function qd(t,e){var r=t.alternate;return r===null?(r=ws(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rw(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")FI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bm:return Dh(r.children,i,a,e);case rI:o=8,i|=8;break;case RC:return t=ws(12,r,e,i|2),t.elementType=RC,t.lanes=a,t;case DC:return t=ws(13,r,e,i),t.elementType=DC,t.lanes=a,t;case MC:return t=ws(19,r,e,i),t.elementType=MC,t.lanes=a,t;case FU:return F5(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MU:o=10;break e;case LU:o=9;break e;case nI:o=11;break e;case iI:o=14;break e;case xd:o=16,n=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=ws(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Dh(t,e,r,n){return t=ws(7,t,n,e),t.lanes=r,t}function F5(t,e,r,n){return t=ws(22,t,n,e),t.elementType=FU,t.lanes=r,t.stateNode={isHidden:!1},t}function OE(t,e,r){return t=ws(6,t,null,e),t.lanes=r,t}function kE(t,e,r){return e=ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _oe(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fE(0),this.expirationTimes=fE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BI(t,e,r,n,i,a,o,s,l){return t=new _oe(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ws(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_I(a),t}function Soe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wm,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pz(t){if(!t)return nf;t=t._reactInternals;e:{if(up(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var r=t.type;if(xo(r))return PV(t,r,e)}return e}function Iz(t,e,r,n,i,a,o,s,l){return t=BI(r,n,!0,t,i,a,o,s,l),t.context=Pz(null),r=t.current,n=Za(),i=Hd(r),a=ru(n,i),a.callback=e??null,Vd(r,a,i),t.current.lanes=i,nx(t,i,n),wo(t,n),t}function B5(t,e,r,n){var i=e.current,a=Za(),o=Hd(i);return r=Pz(r),e.context===null?e.context=r:e.pendingContext=r,e=ru(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vd(i,e,o),t!==null&&(xl(t,i,o,a),Tw(t,i,o)),o}function jb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $I(t,e){fR(t,e),(t=t.alternate)&&fR(t,e)}function Aoe(){return null}var Oz=typeof reportError=="function"?reportError:function(t){console.error(t)};function UI(t){this._internalRoot=t}$5.prototype.render=UI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));B5(t,e,null,null)};$5.prototype.unmount=UI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Kh(function(){B5(null,t,null,null)}),e[uu]=null}};function $5(t){this._internalRoot=t}$5.prototype.unstable_scheduleHydration=function(t){if(t){var e=lV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ad.length&&e!==0&&e<Ad[r].priority;r++);Ad.splice(r,0,t),r===0&&uV(t)}};function VI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function U5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hR(){}function Eoe(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=jb(o);a.call(c)}}var o=Iz(e,n,t,0,null,!1,!1,"",hR);return t._reactRootContainer=o,t[uu]=o.current,Uv(t.nodeType===8?t.parentNode:t),Kh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=jb(l);s.call(c)}}var l=BI(t,0,!1,null,null,!1,!1,"",hR);return t._reactRootContainer=l,t[uu]=l.current,Uv(t.nodeType===8?t.parentNode:t),Kh(function(){B5(e,l,r,n)}),l}function V5(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=jb(o);s.call(l)}}B5(e,o,t,i)}else o=Eoe(r,e,t,i,n);return jb(o)}oV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=q1(e.pendingLanes);r!==0&&(sI(e,r|1),wo(e,Hn()),!(br&6)&&(b0=Hn()+500,_f()))}break;case 13:Kh(function(){var n=du(t,1);if(n!==null){var i=Za();xl(n,t,1,i)}}),$I(t,1)}};lI=function(t){if(t.tag===13){var e=du(t,134217728);if(e!==null){var r=Za();xl(e,t,134217728,r)}$I(t,134217728)}};sV=function(t){if(t.tag===13){var e=Hd(t),r=du(t,e);if(r!==null){var n=Za();xl(r,t,e,n)}$I(t,e)}};lV=function(){return Hr};cV=function(t,e){var r=Hr;try{return Hr=t,e()}finally{Hr=r}};WC=function(t,e,r){switch(e){case"input":if(BC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=k5(n);if(!i)throw Error(Je(90));$U(n),BC(n,i)}}}break;case"textarea":VU(t,r);break;case"select":e=r.value,e!=null&&Hm(t,!!r.multiple,e,!1)}};YU=DI;XU=Kh;var Coe={usingClientEntryPoint:!1,Events:[ax,Em,k5,GU,KU,DI]},x1={findFiberByHostInstance:Sh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Noe={bundleType:x1.bundleType,version:x1.version,rendererPackageName:x1.rendererPackageName,rendererConfig:x1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JU(t),t===null?null:t.stateNode},findFiberByHostInstance:x1.findFiberByHostInstance||Aoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var P2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!P2.isDisabled&&P2.supportsFiber)try{T5=P2.inject(Noe),rc=P2}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Coe;rs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VI(e))throw Error(Je(200));return Soe(t,e,null,r)};rs.createRoot=function(t,e){if(!VI(t))throw Error(Je(299));var r=!1,n="",i=Oz;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BI(t,1,!1,null,null,r,!1,n,i),t[uu]=e.current,Uv(t.nodeType===8?t.parentNode:t),new UI(e)};rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=JU(e),t=t===null?null:t.stateNode,t};rs.flushSync=function(t){return Kh(t)};rs.hydrate=function(t,e,r){if(!U5(e))throw Error(Je(200));return V5(null,t,e,!0,r)};rs.hydrateRoot=function(t,e,r){if(!VI(t))throw Error(Je(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Oz;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Iz(e,null,t,1,r??null,i,!1,a,o),t[uu]=e.current,Uv(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new $5(e)};rs.render=function(t,e,r){if(!U5(e))throw Error(Je(200));return V5(null,t,e,!1,r)};rs.unmountComponentAtNode=function(t){if(!U5(t))throw Error(Je(40));return t._reactRootContainer?(Kh(function(){V5(null,null,t,!1,function(){t._reactRootContainer=null,t[uu]=null})}),!0):!1};rs.unstable_batchedUpdates=DI;rs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!U5(r))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return V5(t,e,r,!1,n)};rs.version="18.3.1-next-f1338f8080-20240426";function kz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kz)}catch(t){console.error(t)}}kz(),kU.exports=rs;var dp=kU.exports;const jz=Rr(dp);var Rz,pR=dp;Rz=pR.createRoot,pR.hydrateRoot;const Toe=5,Poe=1e6,Yc={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let jE=0;function Ioe(){return jE=(jE+1)%Number.MAX_VALUE,jE.toString()}const RE=new Map,mR=t=>{if(RE.has(t))return;const e=setTimeout(()=>{RE.delete(t),hv({type:Yc.REMOVE_TOAST,toastId:t})},Poe);RE.set(t,e)},Ooe=(t,e)=>{switch(e.type){case Yc.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Toe)};case Yc.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case Yc.DISMISS_TOAST:{const{toastId:r}=e;return r?mR(r):t.toasts.forEach(n=>{mR(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Yc.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Dw=[];let Mw={toasts:[]};function hv(t){Mw=Ooe(Mw,t),Dw.forEach(e=>{e(Mw)})}function koe({...t}){const e=Ioe(),r=i=>hv({type:Yc.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>hv({type:Yc.DISMISS_TOAST,toastId:e});return hv({type:Yc.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function _n(){const[t,e]=E.useState(Mw);return E.useEffect(()=>(Dw.push(e),()=>{const r=Dw.indexOf(e);r>-1&&Dw.splice(r,1)}),[t]),{...t,toast:koe,dismiss:r=>hv({type:Yc.DISMISS_TOAST,toastId:r})}}function st(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function joe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function z5(...t){return e=>t.forEach(r=>joe(r,e))}function dr(...t){return E.useCallback(z5(...t),t)}function Roe(t,e=[]){let r=[];function n(a,o){const s=E.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,x=E.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:x,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=E.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>E.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Doe(i,...e)]}function Doe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var hu=E.forwardRef((t,e)=>{const{children:r,...n}=t,i=E.Children.toArray(r),a=i.find(Moe);if(a){const o=a.props.children,s=i.map(l=>l===a?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:l);return d.jsx(E4,{...n,ref:e,children:E.isValidElement(o)?E.cloneElement(o,void 0,s):null})}return d.jsx(E4,{...n,ref:e,children:r})});hu.displayName="Slot";var E4=E.forwardRef((t,e)=>{const{children:r,...n}=t;if(E.isValidElement(r)){const i=Foe(r);return E.cloneElement(r,{...Loe(n,r.props),ref:e?z5(e,i):i})}return E.Children.count(r)>1?E.Children.only(null):null});E4.displayName="SlotClone";var Dz=({children:t})=>d.jsx(d.Fragment,{children:t});function Moe(t){return E.isValidElement(t)&&t.type===Dz}function Loe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Foe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function H5(t){const e=t+"CollectionProvider",[r,n]=Roe(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,x=he.useRef(null),v=he.useRef(new Map).current;return d.jsx(i,{scope:m,itemMap:v,collectionRef:x,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=he.forwardRef((p,m)=>{const{scope:g,children:x}=p,v=a(s,g),y=dr(m,v.collectionRef);return d.jsx(hu,{ref:y,children:x})});l.displayName=s;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=he.forwardRef((p,m)=>{const{scope:g,children:x,...v}=p,y=he.useRef(null),w=dr(m,y),C=a(c,g);return he.useEffect(()=>(C.itemMap.set(y,{ref:y,...v}),()=>void C.itemMap.delete(y))),d.jsx(hu,{[u]:"",ref:w,children:x})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return he.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((C,A)=>v.indexOf(C.ref.current)-v.indexOf(A.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function Boe(t,e){const r=E.createContext(e),n=a=>{const{children:o,...s}=a,l=E.useMemo(()=>s,Object.values(s));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=E.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Nl(t,e=[]){let r=[];function n(a,o){const s=E.createContext(o),l=r.length;r=[...r,o];const c=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||s,x=E.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:x,children:p})};c.displayName=a+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,m=E.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>E.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,$oe(i,...e)]}function $oe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Uoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nt=Uoe.reduce((t,e)=>{const r=E.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?hu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zI(t,e){t&&dp.flushSync(()=>t.dispatchEvent(e))}function sa(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Voe(t,e=globalThis==null?void 0:globalThis.document){const r=sa(t);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var zoe="DismissableLayer",C4="dismissableLayer.update",Hoe="dismissableLayer.pointerDownOutside",qoe="dismissableLayer.focusOutside",gR,Mz=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fp=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=E.useContext(Mz),[u,f]=E.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=E.useState({}),m=dr(e,N=>f(N)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),y=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=v,A=Goe(N=>{const S=N.target,P=[...c.branches].some(R=>R.contains(S));!C||P||(i==null||i(N),o==null||o(N),N.defaultPrevented||s==null||s())},h),O=Koe(N=>{const S=N.target;[...c.branches].some(R=>R.contains(S))||(a==null||a(N),o==null||o(N),N.defaultPrevented||s==null||s())},h);return Voe(N=>{y===c.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&s&&(N.preventDefault(),s()))},h),E.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vR(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gR)}},[u,h,r,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vR())},[u,c]),E.useEffect(()=>{const N=()=>p({});return document.addEventListener(C4,N),()=>document.removeEventListener(C4,N)},[]),d.jsx(Nt.div,{...l,ref:m,style:{pointerEvents:w?C?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,O.onFocusCapture),onBlurCapture:st(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,A.onPointerDownCapture)})});fp.displayName=zoe;var Woe="DismissableLayerBranch",Lz=E.forwardRef((t,e)=>{const r=E.useContext(Mz),n=E.useRef(null),i=dr(e,n);return E.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(Nt.div,{...t,ref:i})});Lz.displayName=Woe;function Goe(t,e=globalThis==null?void 0:globalThis.document){const r=sa(t),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){Fz(Hoe,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Koe(t,e=globalThis==null?void 0:globalThis.document){const r=sa(t),n=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!n.current&&Fz(qoe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vR(){const t=new CustomEvent(C4);document.dispatchEvent(t)}function Fz(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?zI(i,a):i.dispatchEvent(a)}var Yoe=fp,Xoe=Lz,zi=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Qoe="Portal",mg=E.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=E.useState(!1);zi(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?jz.createPortal(d.jsx(Nt.div,{...n,ref:e}),o):null});mg.displayName=Qoe;function Zoe(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var Co=t=>{const{present:e,children:r}=t,n=Joe(e),i=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),a=dr(n.ref,ese(i));return typeof r=="function"||n.isPresent?E.cloneElement(i,{ref:a}):null};Co.displayName="Presence";function Joe(t){const[e,r]=E.useState(),n=E.useRef({}),i=E.useRef(t),a=E.useRef("none"),o=t?"mounted":"unmounted",[s,l]=Zoe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=I2(n.current);a.current=s==="mounted"?c:"none"},[s]),zi(()=>{const c=n.current,u=i.current;if(u!==t){const h=a.current,p=I2(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),zi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=p=>{const g=I2(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(a.current=I2(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:E.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function I2(t){return(t==null?void 0:t.animationName)||"none"}function ese(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _l({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=tse({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=sa(r),l=E.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&s(f)}else i(c)},[a,t,i,s]);return[o,l]}function tse({defaultProp:t,onChange:e}){const r=E.useState(t),[n]=r,i=E.useRef(n),a=sa(e);return E.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var rse="VisuallyHidden",sx=E.forwardRef((t,e)=>d.jsx(Nt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));sx.displayName=rse;var nse=sx,HI="ToastProvider",[qI,ise,ase]=H5("Toast"),[Bz,ftt]=Nl("Toast",[ase]),[ose,q5]=Bz(HI),$z=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=E.useState(null),[c,u]=E.useState(0),f=E.useRef(!1),h=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${HI}\`. Expected non-empty \`string\`.`),d.jsx(qI.Provider,{scope:e,children:d.jsx(ose,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:E.useCallback(()=>u(p=>p+1),[]),onToastRemove:E.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};$z.displayName=HI;var Uz="ToastViewport",sse=["F8"],N4="toast.viewportPause",T4="toast.viewportResume",Vz=E.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=sse,label:i="Notifications ({hotkey})",...a}=t,o=q5(Uz,r),s=ise(r),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),f=E.useRef(null),h=dr(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;E.useEffect(()=>{const x=v=>{var w;n.length!==0&&n.every(C=>v[C]||v.code===C)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),E.useEffect(()=>{const x=l.current,v=f.current;if(m&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(N4);v.dispatchEvent(O),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(T4);v.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!x.contains(O.relatedTarget)&&w()},A=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",C),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",A),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",A),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=E.useCallback(({tabbingDirection:x})=>{const y=s().map(w=>{const C=w.ref.current,A=[C,...wse(C)];return x==="forwards"?A:A.reverse()});return(x==="forwards"?y.reverse():y).flat()},[s]);return E.useEffect(()=>{const x=f.current;if(x){const v=y=>{var A,O,N;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const S=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(A=c.current)==null||A.focus();return}const k=g({tabbingDirection:P?"backwards":"forwards"}),D=k.findIndex(z=>z===S);DE(k.slice(D+1))?y.preventDefault():P?(O=c.current)==null||O.focus():(N=u.current)==null||N.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[s,g]),d.jsxs(Xoe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&d.jsx(P4,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});DE(x)}}),d.jsx(qI.Slot,{scope:r,children:d.jsx(Nt.ol,{tabIndex:-1,...a,ref:h})}),m&&d.jsx(P4,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});DE(x)}})]})});Vz.displayName=Uz;var zz="ToastFocusProxy",P4=E.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=q5(zz,r);return d.jsx(sx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const s=o.relatedTarget;!((c=a.viewport)!=null&&c.contains(s))&&n()}})});P4.displayName=zz;var W5="Toast",lse="toast.swipeStart",cse="toast.swipeMove",use="toast.swipeCancel",dse="toast.swipeEnd",Hz=E.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s=!0,l]=_l({prop:n,defaultProp:i,onChange:a});return d.jsx(Co,{present:r||s,children:d.jsx(pse,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:sa(t.onPause),onResume:sa(t.onResume),onSwipeStart:st(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:st(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Hz.displayName=W5;var[fse,hse]=Bz(W5,{onClose(){}}),pse=E.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=q5(W5,r),[x,v]=E.useState(null),y=dr(e,z=>v(z)),w=E.useRef(null),C=E.useRef(null),A=i||g.duration,O=E.useRef(0),N=E.useRef(A),S=E.useRef(0),{onToastAdd:P,onToastRemove:R}=g,I=sa(()=>{var J;(x==null?void 0:x.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),o()}),k=E.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(I,z))},[I]);E.useEffect(()=>{const z=g.viewport;if(z){const J=()=>{k(N.current),c==null||c()},U=()=>{const K=new Date().getTime()-O.current;N.current=N.current-K,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(N4,U),z.addEventListener(T4,J),()=>{z.removeEventListener(N4,U),z.removeEventListener(T4,J)}}},[g.viewport,A,l,c,k]),E.useEffect(()=>{a&&!g.isClosePausedRef.current&&k(A)},[a,A,g.isClosePausedRef,k]),E.useEffect(()=>(P(),()=>R()),[P,R]);const D=E.useMemo(()=>x?Qz(x):null,[x]);return g.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx(mse,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(fse,{scope:r,onClose:I,children:dp.createPortal(d.jsx(qI.ItemSlot,{scope:r,children:d.jsx(Yoe,{asChild:!0,onEscapeKeyDown:st(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,z=>{z.key==="Escape"&&(s==null||s(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:st(t.onPointerDown,z=>{z.button===0&&(w.current={x:z.clientX,y:z.clientY})}),onPointerMove:st(t.onPointerMove,z=>{if(!w.current)return;const J=z.clientX-w.current.x,U=z.clientY-w.current.y,K=!!C.current,$=["left","right"].includes(g.swipeDirection),H=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,te=$?H(0,J):0,ie=$?0:H(0,U),F=z.pointerType==="touch"?10:2,q={x:te,y:ie},Q={originalEvent:z,delta:q};K?(C.current=q,O2(cse,f,Q,{discrete:!1})):yR(q,g.swipeDirection,F)?(C.current=q,O2(lse,u,Q,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(J)>F||Math.abs(U)>F)&&(w.current=null)}),onPointerUp:st(t.onPointerUp,z=>{const J=C.current,U=z.target;if(U.hasPointerCapture(z.pointerId)&&U.releasePointerCapture(z.pointerId),C.current=null,w.current=null,J){const K=z.currentTarget,$={originalEvent:z,delta:J};yR(J,g.swipeDirection,g.swipeThreshold)?O2(dse,p,$,{discrete:!0}):O2(use,h,$,{discrete:!0}),K.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),mse=t=>{const{__scopeToast:e,children:r,...n}=t,i=q5(W5,e),[a,o]=E.useState(!1),[s,l]=E.useState(!1);return yse(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:d.jsx(mg,{asChild:!0,children:d.jsx(sx,{...n,children:a&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},gse="ToastTitle",qz=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Nt.div,{...n,ref:e})});qz.displayName=gse;var vse="ToastDescription",Wz=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Nt.div,{...n,ref:e})});Wz.displayName=vse;var Gz="ToastAction",Kz=E.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(Xz,{altText:r,asChild:!0,children:d.jsx(WI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Gz}\`. Expected non-empty \`string\`.`),null)});Kz.displayName=Gz;var Yz="ToastClose",WI=E.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=hse(Yz,r);return d.jsx(Xz,{asChild:!0,children:d.jsx(Nt.button,{type:"button",...n,ref:e,onClick:st(t.onClick,i.onClose)})})});WI.displayName=Yz;var Xz=E.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return d.jsx(Nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Qz(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),xse(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qz(n))}}),e}function O2(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?zI(i,a):i.dispatchEvent(a)}var yR=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function yse(t=()=>{}){const e=sa(t);zi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function xse(t){return t.nodeType===t.ELEMENT_NODE}function wse(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function DE(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var bse=$z,Zz=Vz,Jz=Hz,eH=qz,tH=Wz,rH=Kz,nH=WI;function iH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=iH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=iH(t))&&(n&&(n+=" "),n+=e);return n}const xR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wR=pr,gg=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return wR(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=a==null?void 0:a[c];if(u===null)return null;const h=xR(u)||xR(f);return i[c][h]}),s=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(m=>{let[g,x]=m;return Array.isArray(x)?x.includes({...a,...s}[g]):{...a,...s}[g]===x})?[...c,f,h]:c},[]);return wR(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),it=(t,e)=>{const r=E.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...c},u)=>E.createElement("svg",{ref:u,..._se,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Sse(t)}`,s].join(" "),...c},[...e.map(([f,h])=>E.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=it("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=it("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=it("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=it("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=it("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=it("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=it("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=it("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=it("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=it("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=it("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=it("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=it("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=it("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=it("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=it("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=it("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=it("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=it("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=it("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=it("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=it("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=it("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=it("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=it("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=it("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=it("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=it("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=it("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=it("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=it("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=it("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=it("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=it("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=it("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=it("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=it("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=it("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=it("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=it("Refrigerator",[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=it("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=it("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=it("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=it("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=it("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=it("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=it("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=it("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=it("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=it("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=it("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=it("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=it("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=it("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=it("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=it("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=it("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=it("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=it("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=it("TreeDeciduous",[["path",{d:"M8 19a4 4 0 0 1-2.24-7.32A3.5 3.5 0 0 1 9 6.03V6a3 3 0 1 1 6 0v.04a3.5 3.5 0 0 1 3.24 5.65A4 4 0 0 1 16 19Z",key:"oadzkq"}],["path",{d:"M12 19v3",key:"npa21l"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=it("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=it("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=it("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=it("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=it("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=it("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),XI="-",Jse=t=>{const e=tle(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(XI);return s[0]===""&&s.length!==1&&s.shift(),hH(s,e)||ele(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},hH=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?hH(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(XI);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},PR=/^\[(.+)\]$/,ele=t=>{if(PR.test(t)){const e=PR.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},tle=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return nle(Object.entries(t.classGroups),r).forEach(([a,o])=>{B4(o,n,a,e)}),n},B4=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:IR(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(rle(i)){B4(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{B4(o,IR(e,a),r,n)})})},IR=(t,e)=>{let r=t;return e.split(XI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rle=t=>t.isThemeGetter,nle=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,ile=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},pH="!",ale=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let c=0,u=0,f;for(let x=0;x<s.length;x++){let v=s[x];if(c===0){if(v===i&&(n||s.slice(x,x+a)===e)){l.push(s.slice(u,x)),u=x+a;continue}if(v==="/"){f=x;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?s:s.substring(u),p=h.startsWith(pH),m=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},ole=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},sle=t=>({cache:ile(t.cacheSize),parseClassName:ale(t),...Jse(t)}),lle=/\s+/,cle=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(lle);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const x=ole(u).join(":"),v=f?x+pH:x,y=v+g;if(a.includes(y))continue;a.push(y);const w=i(g,m);for(let C=0;C<w.length;++C){const A=w[C];a.push(v+A)}s=c+(s.length>0?" "+s:s)}return s};function ule(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=mH(e))&&(n&&(n+=" "),n+=r);return n}const mH=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=mH(t[n]))&&(r&&(r+=" "),r+=e);return r};function dle(t,...e){let r,n,i,a=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return r=sle(c),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=cle(l,r);return i(l,u),u}return function(){return a(ule.apply(null,arguments))}}const un=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},gH=/^\[(?:([a-z-]+):)?(.+)\]$/i,fle=/^\d+\/\d+$/,hle=new Set(["px","full","screen"]),ple=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uc=t=>Zm(t)||hle.has(t)||fle.test(t),ld=t=>xg(t,"length",Cle),Zm=t=>!!t&&!Number.isNaN(Number(t)),LE=t=>xg(t,"number",Zm),w1=t=>!!t&&Number.isInteger(Number(t)),xle=t=>t.endsWith("%")&&Zm(t.slice(0,-1)),Zt=t=>gH.test(t),cd=t=>ple.test(t),wle=new Set(["length","size","percentage"]),ble=t=>xg(t,wle,vH),_le=t=>xg(t,"position",vH),Sle=new Set(["image","url"]),Ale=t=>xg(t,Sle,Tle),Ele=t=>xg(t,"",Nle),b1=()=>!0,xg=(t,e,r)=>{const n=gH.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Cle=t=>mle.test(t)&&!gle.test(t),vH=()=>!1,Nle=t=>vle.test(t),Tle=t=>yle.test(t),Ple=()=>{const t=un("colors"),e=un("spacing"),r=un("blur"),n=un("brightness"),i=un("borderColor"),a=un("borderRadius"),o=un("borderSpacing"),s=un("borderWidth"),l=un("contrast"),c=un("grayscale"),u=un("hueRotate"),f=un("invert"),h=un("gap"),p=un("gradientColorStops"),m=un("gradientColorStopPositions"),g=un("inset"),x=un("margin"),v=un("opacity"),y=un("padding"),w=un("saturate"),C=un("scale"),A=un("sepia"),O=un("skew"),N=un("space"),S=un("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Zt,e],k=()=>[Zt,e],D=()=>["",Uc,ld],z=()=>["auto",Zm,Zt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Zt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Zm,Zt];return{cacheSize:500,separator:":",theme:{colors:[b1],spacing:[Uc,ld],blur:["none","",cd,Zt],brightness:ie(),borderColor:[t],borderRadius:["none","","full",cd,Zt],borderSpacing:k(),borderWidth:D(),contrast:ie(),grayscale:H(),hueRotate:ie(),invert:H(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[xle,ld],inset:I(),margin:I(),opacity:ie(),padding:k(),saturate:ie(),scale:ie(),sepia:H(),skew:ie(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Zt]}],container:["container"],columns:[{columns:[cd]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Zt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",w1,Zt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",w1,Zt]}],"grid-cols":[{"grid-cols":[b1]}],"col-start-end":[{col:["auto",{span:["full",w1,Zt]},Zt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[b1]}],"row-start-end":[{row:["auto",{span:[w1,Zt]},Zt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zt,e]}],"min-w":[{"min-w":[Zt,e,"min","max","fit"]}],"max-w":[{"max-w":[Zt,e,"none","full","min","max","fit","prose",{screen:[cd]},cd]}],h:[{h:[Zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cd,ld]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",LE]}],"font-family":[{font:[b1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zt]}],"line-clamp":[{"line-clamp":["none",Zm,LE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Uc,Zt]}],"list-image":[{"list-image":["none",Zt]}],"list-style-type":[{list:["none","disc","decimal",Zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Uc,ld]}],"underline-offset":[{"underline-offset":["auto",Uc,Zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),_le]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ble]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ale]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Uc,Zt]}],"outline-w":[{outline:[Uc,ld]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Uc,ld]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cd,Ele]}],"shadow-color":[{shadow:[b1]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cd,Zt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zt]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Zt]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[w1,Zt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Uc,ld,LE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ile=dle(Ple);function dt(...t){return Ile(pr(t))}const po={light:()=>{navigator.vibrate&&navigator.vibrate(25)},medium:()=>{navigator.vibrate&&navigator.vibrate(50)},heavy:()=>{navigator.vibrate&&navigator.vibrate(75)},success:()=>{navigator.vibrate&&navigator.vibrate([25,50,75])},error:()=>{navigator.vibrate&&navigator.vibrate([75,50,75])},warning:()=>{navigator.vibrate&&navigator.vibrate([50,30,50])},notification:()=>{navigator.vibrate&&navigator.vibrate([25,50,25])},longPress:()=>{navigator.vibrate&&navigator.vibrate([30,30,60])},custom:t=>{navigator.vibrate&&navigator.vibrate(t)}},Ole=bse,yH=E.forwardRef(({className:t,...e},r)=>d.jsx(Zz,{ref:r,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yH.displayName=Zz.displayName;const kle=gg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xH=E.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(Jz,{ref:n,className:dt(kle({variant:e}),t),...r}));xH.displayName=Jz.displayName;const jle=E.forwardRef(({className:t,...e},r)=>d.jsx(rH,{ref:r,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));jle.displayName=rH.displayName;const wH=E.forwardRef(({className:t,...e},r)=>d.jsx(nH,{ref:r,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Xa,{className:"h-4 w-4"})}));wH.displayName=nH.displayName;const bH=E.forwardRef(({className:t,...e},r)=>d.jsx(eH,{ref:r,className:dt("text-sm font-semibold",t),...e}));bH.displayName=eH.displayName;const _H=E.forwardRef(({className:t,...e},r)=>d.jsx(tH,{ref:r,className:dt("text-sm opacity-90",t),...e}));_H.displayName=tH.displayName;function Rle(){const{toasts:t}=_n();return d.jsxs(Ole,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return d.jsxs(xH,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(bH,{children:r}),n&&d.jsx(_H,{children:n})]}),i,d.jsx(wH,{})]},e)}),d.jsx(yH,{})]})}var Dle=t=>{switch(t){case"success":return Fle;case"info":return $le;case"warning":return Ble;case"error":return Ule;default:return null}},Mle=Array(12).fill(0),Lle=({visible:t})=>he.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},he.createElement("div",{className:"sonner-spinner"},Mle.map((e,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Fle=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ble=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$le=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ule=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Vle=()=>{let[t,e]=he.useState(document.hidden);return he.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},$4=1,zle=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:$4++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0;return i.then(async o=>{if(qle(o)&&!o.ok){a=!1;let s=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,l=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:s,description:l})}else if(r.success!==void 0){a=!1;let s=typeof r.success=="function"?await r.success(o):r.success,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:s,description:l})}}).catch(async o=>{if(r.error!==void 0){a=!1;let s=typeof r.error=="function"?await r.error(o):r.error,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:s,description:l})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||$4++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Uo=new zle,Hle=(t,e)=>{let r=(e==null?void 0:e.id)||$4++;return Uo.addToast({title:t,...e,id:r}),r},qle=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Wle=Hle,Gle=()=>Uo.toasts;Object.assign(Wle,{success:Uo.success,info:Uo.info,warning:Uo.warning,error:Uo.error,custom:Uo.custom,message:Uo.message,promise:Uo.promise,dismiss:Uo.dismiss,loading:Uo.loading},{getHistory:Gle});function Kle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Kle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function k2(t){return t.label!==void 0}var Yle=3,Xle="32px",Qle=4e3,Zle=356,Jle=14,ece=20,tce=200;function rce(...t){return t.filter(Boolean).join(" ")}var nce=t=>{var e,r,n,i,a,o,s,l,c,u;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:x,heights:v,index:y,toasts:w,expanded:C,removeToast:A,defaultRichColors:O,closeButton:N,style:S,cancelButtonStyle:P,actionButtonStyle:R,className:I="",descriptionClassName:k="",duration:D,position:z,gap:J,loadingIcon:U,expandByDefault:K,classNames:$,icons:H,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ie,cn:F}=t,[q,Q]=he.useState(!1),[se,G]=he.useState(!1),[le,de]=he.useState(!1),[ae,ye]=he.useState(!1),[ge,ve]=he.useState(0),[Re,Me]=he.useState(0),Se=he.useRef(null),W=he.useRef(null),Pe=y===0,ce=y+1<=x,me=h.type,we=h.dismissible!==!1,Ue=h.className||"",ze=h.descriptionClassName||"",et=he.useMemo(()=>v.findIndex(ct=>ct.toastId===h.id)||0,[v,h.id]),at=he.useMemo(()=>{var ct;return(ct=h.closeButton)!=null?ct:N},[h.closeButton,N]),Te=he.useMemo(()=>h.duration||D||Qle,[h.duration,D]),Fe=he.useRef(0),Ge=he.useRef(0),Ye=he.useRef(0),rt=he.useRef(null),[vt,tt]=z.split("-"),Yt=he.useMemo(()=>v.reduce((ct,Jt,It)=>It>=et?ct:ct+Jt.height,0),[v,et]),$t=Vle(),Fn=h.invert||f,Et=me==="loading";Ge.current=he.useMemo(()=>et*J+Yt,[et,Yt]),he.useEffect(()=>{Q(!0)},[]),he.useLayoutEffect(()=>{if(!q)return;let ct=W.current,Jt=ct.style.height;ct.style.height="auto";let It=ct.getBoundingClientRect().height;ct.style.height=Jt,Me(It),g(Wr=>Wr.find(xn=>xn.toastId===h.id)?Wr.map(xn=>xn.toastId===h.id?{...xn,height:It}:xn):[{toastId:h.id,height:It,position:h.position},...Wr])},[q,h.title,h.description,g,h.id]);let jt=he.useCallback(()=>{G(!0),ve(Ge.current),g(ct=>ct.filter(Jt=>Jt.toastId!==h.id)),setTimeout(()=>{A(h)},tce)},[h,A,g,Ge]);he.useEffect(()=>{if(h.promise&&me==="loading"||h.duration===1/0||h.type==="loading")return;let ct,Jt=Te;return C||m||ie&&$t?(()=>{if(Ye.current<Fe.current){let It=new Date().getTime()-Fe.current;Jt=Jt-It}Ye.current=new Date().getTime()})():Jt!==1/0&&(Fe.current=new Date().getTime(),ct=setTimeout(()=>{var It;(It=h.onAutoClose)==null||It.call(h,h),jt()},Jt)),()=>clearTimeout(ct)},[C,m,K,h,Te,jt,h.promise,me,ie,$t]),he.useEffect(()=>{let ct=W.current;if(ct){let Jt=ct.getBoundingClientRect().height;return Me(Jt),g(It=>[{toastId:h.id,height:Jt,position:h.position},...It]),()=>g(It=>It.filter(Wr=>Wr.toastId!==h.id))}},[g,h.id]),he.useEffect(()=>{h.delete&&jt()},[jt,h.delete]);function Ii(){return H!=null&&H.loading?he.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},H.loading):U?he.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},U):he.createElement(Lle,{visible:me==="loading"})}return he.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:W,className:F(I,Ue,$==null?void 0:$.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[me],(r=h==null?void 0:h.classNames)==null?void 0:r[me]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:O,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":q,"data-promise":!!h.promise,"data-removed":se,"data-visible":ce,"data-y-position":vt,"data-x-position":tt,"data-index":y,"data-front":Pe,"data-swiping":le,"data-dismissible":we,"data-type":me,"data-invert":Fn,"data-swipe-out":ae,"data-expanded":!!(C||K&&q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${se?ge:Ge.current}px`,"--initial-height":K?"auto":`${Re}px`,...S,...h.style},onPointerDown:ct=>{Et||!we||(Se.current=new Date,ve(Ge.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(de(!0),rt.current={x:ct.clientX,y:ct.clientY}))},onPointerUp:()=>{var ct,Jt,It,Wr;if(ae||!we)return;rt.current=null;let xn=Number(((ct=W.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ar=new Date().getTime()-((Jt=Se.current)==null?void 0:Jt.getTime()),Tt=Math.abs(xn)/Ar;if(Math.abs(xn)>=ece||Tt>.11){ve(Ge.current),(It=h.onDismiss)==null||It.call(h,h),jt(),ye(!0);return}(Wr=W.current)==null||Wr.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:ct=>{var Jt;if(!rt.current||!we)return;let It=ct.clientY-rt.current.y,Wr=ct.clientX-rt.current.x,xn=(vt==="top"?Math.min:Math.max)(0,It),Ar=ct.pointerType==="touch"?10:2;Math.abs(xn)>Ar?(Jt=W.current)==null||Jt.style.setProperty("--swipe-amount",`${It}px`):Math.abs(Wr)>Ar&&(rt.current=null)}},at&&!h.jsx?he.createElement("button",{"aria-label":te,"data-disabled":Et,"data-close-button":!0,onClick:Et||!we?()=>{}:()=>{var ct;jt(),(ct=h.onDismiss)==null||ct.call(h,h)},className:F($==null?void 0:$.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||he.isValidElement(h.title)?h.jsx||h.title:he.createElement(he.Fragment,null,me||h.icon||h.promise?he.createElement("div",{"data-icon":"",className:F($==null?void 0:$.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ii():null,h.type!=="loading"?h.icon||(H==null?void 0:H[me])||Dle(me):null):null,he.createElement("div",{"data-content":"",className:F($==null?void 0:$.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},he.createElement("div",{"data-title":"",className:F($==null?void 0:$.title,(s=h==null?void 0:h.classNames)==null?void 0:s.title)},h.title),h.description?he.createElement("div",{"data-description":"",className:F(k,ze,$==null?void 0:$.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),he.isValidElement(h.cancel)?h.cancel:h.cancel&&k2(h.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:ct=>{var Jt,It;k2(h.cancel)&&we&&((It=(Jt=h.cancel).onClick)==null||It.call(Jt,ct),jt())},className:F($==null?void 0:$.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,he.isValidElement(h.action)?h.action:h.action&&k2(h.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:ct=>{var Jt,It;k2(h.action)&&(ct.defaultPrevented||((It=(Jt=h.action).onClick)==null||It.call(Jt,ct),jt()))},className:F($==null?void 0:$.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function OR(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var ice=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:s,theme:l="light",richColors:c,duration:u,style:f,visibleToasts:h=Yle,toastOptions:p,dir:m=OR(),gap:g=Jle,loadingIcon:x,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:C=rce}=t,[A,O]=he.useState([]),N=he.useMemo(()=>Array.from(new Set([r].concat(A.filter(ie=>ie.position).map(ie=>ie.position)))),[A,r]),[S,P]=he.useState([]),[R,I]=he.useState(!1),[k,D]=he.useState(!1),[z,J]=he.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=he.useRef(null),K=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=he.useRef(null),H=he.useRef(!1),te=he.useCallback(ie=>{var F;(F=A.find(q=>q.id===ie.id))!=null&&F.delete||Uo.dismiss(ie.id),O(q=>q.filter(({id:Q})=>Q!==ie.id))},[A]);return he.useEffect(()=>Uo.subscribe(ie=>{if(ie.dismiss){O(F=>F.map(q=>q.id===ie.id?{...q,delete:!0}:q));return}setTimeout(()=>{jz.flushSync(()=>{O(F=>{let q=F.findIndex(Q=>Q.id===ie.id);return q!==-1?[...F.slice(0,q),{...F[q],...ie},...F.slice(q+1)]:[ie,...F]})})})}),[]),he.useEffect(()=>{if(l!=="system"){J(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ie})=>{J(ie?"dark":"light")})},[l]),he.useEffect(()=>{A.length<=1&&I(!1)},[A]),he.useEffect(()=>{let ie=F=>{var q,Q;n.every(se=>F[se]||F.code===se)&&(I(!0),(q=U.current)==null||q.focus()),F.code==="Escape"&&(document.activeElement===U.current||(Q=U.current)!=null&&Q.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[n]),he.useEffect(()=>{if(U.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,H.current=!1)}},[U.current]),A.length?he.createElement("section",{"aria-label":`${y} ${K}`,tabIndex:-1},N.map((ie,F)=>{var q;let[Q,se]=ie.split("-");return he.createElement("ol",{key:ie,dir:m==="auto"?OR():m,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Q,"data-x-position":se,style:{"--front-toast-height":`${((q=S[0])==null?void 0:q.height)||0}px`,"--offset":typeof s=="number"?`${s}px`:s||Xle,"--width":`${Zle}px`,"--gap":`${g}px`,...f},onBlur:G=>{H.current&&!G.currentTarget.contains(G.relatedTarget)&&(H.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||H.current||(H.current=!0,$.current=G.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{k||I(!1)},onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},A.filter(G=>!G.position&&F===0||G.position===ie).map((G,le)=>{var de,ae;return he.createElement(nce,{key:G.id,icons:v,index:le,toast:G,defaultRichColors:c,duration:(de=p==null?void 0:p.duration)!=null?de:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ae=p==null?void 0:p.closeButton)!=null?ae:a,interacting:k,position:ie,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:te,toasts:A.filter(ye=>ye.position==G.position),heights:S.filter(ye=>ye.position==G.position),setHeights:P,expandByDefault:i,gap:g,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:w,cn:C})}))})):null};const ace=({...t})=>{const[e,r]=E.useState("system");return E.useEffect(()=>{const n=document.documentElement.classList.contains("dark"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(n||i?"dark":"light")},[]),d.jsx(ice,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var oce=IU.useId||(()=>{}),sce=0;function Es(t){const[e,r]=E.useState(oce());return zi(()=>{r(n=>n??String(sce++))},[t]),e?`radix-${e}`:""}const lce=["top","right","bottom","left"],af=Math.min,Ho=Math.max,Db=Math.round,j2=Math.floor,of=t=>({x:t,y:t}),cce={left:"right",right:"left",bottom:"top",top:"bottom"},uce={start:"end",end:"start"};function U4(t,e,r){return Ho(t,af(e,r))}function mu(t,e){return typeof t=="function"?t(e):t}function gu(t){return t.split("-")[0]}function wg(t){return t.split("-")[1]}function QI(t){return t==="x"?"y":"x"}function ZI(t){return t==="y"?"height":"width"}function sf(t){return["top","bottom"].includes(gu(t))?"y":"x"}function JI(t){return QI(sf(t))}function dce(t,e,r){r===void 0&&(r=!1);const n=wg(t),i=JI(t),a=ZI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Mb(o)),[o,Mb(o)]}function fce(t){const e=Mb(t);return[V4(t),e,V4(e)]}function V4(t){return t.replace(/start|end/g,e=>uce[e])}function hce(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function pce(t,e,r,n){const i=wg(t);let a=hce(gu(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(V4)))),a}function Mb(t){return t.replace(/left|right|bottom|top/g,e=>cce[e])}function mce(t){return{top:0,right:0,bottom:0,left:0,...t}}function SH(t){return typeof t!="number"?mce(t):{top:t,right:t,bottom:t,left:t}}function Lb(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function kR(t,e,r){let{reference:n,floating:i}=t;const a=sf(e),o=JI(e),s=ZI(o),l=gu(e),c=a==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(wg(e)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const gce=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=kR(c,n,l),h=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:x,fn:v}=s[g],{x:y,y:w,data:C,reset:A}=await v({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,f=w??f,p={...p,[x]:{...p[x],...C}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:f}=kR(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function Jv(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=mu(e,t),m=SH(p),x=s[h?f==="floating"?"reference":"floating":f],v=Lb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),C=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},A=Lb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-A.top+m.top)/C.y,bottom:(A.bottom-v.bottom+m.bottom)/C.y,left:(v.left-A.left+m.left)/C.x,right:(A.right-v.right+m.right)/C.x}}const vce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=mu(t,e)||{};if(c==null)return{};const f=SH(u),h={x:r,y:n},p=JI(i),m=ZI(p),g=await o.getDimensions(c),x=p==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",C=a.reference[m]+a.reference[p]-h[p]-a.floating[m],A=h[p]-a.reference[p],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=O?O[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(O)))&&(N=s.floating[w]||a.floating[m]);const S=C/2-A/2,P=N/2-g[m]/2-1,R=af(f[v],P),I=af(f[y],P),k=R,D=N-g[m]-I,z=N/2-g[m]/2+S,J=U4(k,z,D),U=!l.arrow&&wg(i)!=null&&z!==J&&a.reference[m]/2-(z<k?R:I)-g[m]/2<0,K=U?z<k?z-k:z-D:0;return{[p]:h[p]+K,data:{[p]:J,centerOffset:z-J-K,...U&&{alignmentOffset:K}},reset:U}}}),yce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...x}=mu(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=gu(i),y=sf(s),w=gu(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(w||!g?[Mb(s)]:fce(s)),O=m!=="none";!h&&O&&A.push(...pce(s,g,m,C));const N=[s,...A],S=await Jv(e,x),P=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(S[v]),f){const z=dce(i,o,C);P.push(S[z[0]],S[z[1]])}if(R=[...R,{placement:i,overflows:P}],!P.every(z=>z<=0)){var I,k;const z=(((I=a.flip)==null?void 0:I.index)||0)+1,J=N[z];if(J)return{data:{index:z,overflows:R},reset:{placement:J}};let U=(k=R.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(p){case"bestFit":{var D;const K=(D=R.filter($=>{if(O){const H=sf($.placement);return H===y||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,te)=>H+te,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:D[0];K&&(U=K);break}case"initialPlacement":U=s;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function jR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RR(t){return lce.some(e=>t[e]>=0)}const xce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=mu(t,e);switch(n){case"referenceHidden":{const a=await Jv(e,{...i,elementContext:"reference"}),o=jR(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:RR(o)}}}case"escaped":{const a=await Jv(e,{...i,altBoundary:!0}),o=jR(a,r.floating);return{data:{escapedOffsets:o,escaped:RR(o)}}}default:return{}}}}};async function wce(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=gu(r),s=wg(r),l=sf(r)==="y",c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,f=mu(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const bce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await wce(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},_ce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...l}=mu(t,e),c={x:r,y:n},u=await Jv(e,l),f=sf(gu(i)),h=QI(f);let p=c[h],m=c[f];if(a){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[x],w=p-u[v];p=U4(y,p,w)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=m+u[x],w=m-u[v];m=U4(y,m,w)}const g=s.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},Sce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=mu(t,e),u={x:r,y:n},f=sf(i),h=QI(f);let p=u[h],m=u[f];const g=mu(s,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",C=a.reference[h]-a.floating[w]+x.mainAxis,A=a.reference[h]+a.reference[w]-x.mainAxis;p<C?p=C:p>A&&(p=A)}if(c){var v,y;const w=h==="y"?"width":"height",C=["top","left"].includes(gu(i)),A=a.reference[f]-a.floating[w]+(C&&((v=o.offset)==null?void 0:v[f])||0)+(C?0:x.crossAxis),O=a.reference[f]+a.reference[w]+(C?0:((y=o.offset)==null?void 0:y[f])||0)-(C?x.crossAxis:0);m<A?m=A:m>O&&(m=O)}return{[h]:p,[f]:m}}}},Ace=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=mu(t,e),u=await Jv(e,c),f=gu(i),h=wg(i),p=sf(i)==="y",{width:m,height:g}=a.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=g-u.top-u.bottom,w=m-u.left-u.right,C=af(g-u[x],y),A=af(m-u[v],w),O=!e.middlewareData.shift;let N=C,S=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(S=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=y),O&&!h){const R=Ho(u.left,0),I=Ho(u.right,0),k=Ho(u.top,0),D=Ho(u.bottom,0);p?S=m-2*(R!==0||I!==0?R+I:Ho(u.left,u.right)):N=g-2*(k!==0||D!==0?k+D:Ho(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:N});const P=await o.getDimensions(s.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function K5(){return typeof window<"u"}function bg(t){return AH(t)?(t.nodeName||"").toLowerCase():"#document"}function Yo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yc(t){var e;return(e=(AH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AH(t){return K5()?t instanceof Node||t instanceof Yo(t).Node:!1}function Sl(t){return K5()?t instanceof Element||t instanceof Yo(t).Element:!1}function fc(t){return K5()?t instanceof HTMLElement||t instanceof Yo(t).HTMLElement:!1}function DR(t){return!K5()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yo(t).ShadowRoot}function ux(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Al(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Ece(t){return["table","td","th"].includes(bg(t))}function Y5(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function eO(t){const e=tO(),r=Sl(t)?Al(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Cce(t){let e=lf(t);for(;fc(e)&&!A0(e);){if(eO(e))return e;if(Y5(e))return null;e=lf(e)}return null}function tO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function A0(t){return["html","body","#document"].includes(bg(t))}function Al(t){return Yo(t).getComputedStyle(t)}function X5(t){return Sl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lf(t){if(bg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DR(t)&&t.host||yc(t);return DR(e)?e.host:e}function EH(t){const e=lf(t);return A0(e)?t.ownerDocument?t.ownerDocument.body:t.body:fc(e)&&ux(e)?e:EH(e)}function ey(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=EH(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=Yo(i);if(a){const s=z4(o);return e.concat(o,o.visualViewport||[],ux(i)?i:[],s&&r?ey(s):[])}return e.concat(i,ey(i,[],r))}function z4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CH(t){const e=Al(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=fc(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Db(r)!==a||Db(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function rO(t){return Sl(t)?t:t.contextElement}function Jm(t){const e=rO(t);if(!fc(e))return of(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=CH(e);let o=(a?Db(r.width):r.width)/n,s=(a?Db(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Nce=of(0);function NH(t){const e=Yo(t);return!tO()||!e.visualViewport?Nce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tce(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Yo(t)?!1:e}function Xh(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=rO(t);let o=of(1);e&&(n?Sl(n)&&(o=Jm(n)):o=Jm(t));const s=Tce(a,r,n)?NH(a):of(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(a){const h=Yo(a),p=n&&Sl(n)?Yo(n):n;let m=h,g=z4(m);for(;g&&n&&p!==m;){const x=Jm(g),v=g.getBoundingClientRect(),y=Al(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,C=v.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,f*=x.y,l+=w,c+=C,m=Yo(g),g=z4(m)}}return Lb({width:u,height:f,x:l,y:c})}function Pce(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=yc(n),s=e?Y5(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=of(1);const u=of(0),f=fc(n);if((f||!f&&!a)&&((bg(n)!=="body"||ux(o))&&(l=X5(n)),fc(n))){const h=Xh(n);c=Jm(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}}function Ice(t){return Array.from(t.getClientRects())}function H4(t,e){const r=X5(t).scrollLeft;return e?e.left+r:Xh(yc(t)).left+r}function Oce(t){const e=yc(t),r=X5(t),n=t.ownerDocument.body,i=Ho(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ho(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+H4(t);const s=-r.scrollTop;return Al(n).direction==="rtl"&&(o+=Ho(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function kce(t,e){const r=Yo(t),n=yc(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=tO();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function jce(t,e){const r=Xh(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=fc(t)?Jm(t):of(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function MR(t,e,r){let n;if(e==="viewport")n=kce(t,r);else if(e==="document")n=Oce(yc(t));else if(Sl(e))n=jce(e,r);else{const i=NH(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Lb(n)}function TH(t,e){const r=lf(t);return r===e||!Sl(r)||A0(r)?!1:Al(r).position==="fixed"||TH(r,e)}function Rce(t,e){const r=e.get(t);if(r)return r;let n=ey(t,[],!1).filter(s=>Sl(s)&&bg(s)!=="body"),i=null;const a=Al(t).position==="fixed";let o=a?lf(t):t;for(;Sl(o)&&!A0(o);){const s=Al(o),l=eO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ux(o)&&!l&&TH(t,o))?n=n.filter(u=>u!==o):i=s,o=lf(o)}return e.set(t,n),n}function Dce(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Y5(e)?[]:Rce(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const f=MR(e,u,i);return c.top=Ho(f.top,c.top),c.right=af(f.right,c.right),c.bottom=af(f.bottom,c.bottom),c.left=Ho(f.left,c.left),c},MR(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Mce(t){const{width:e,height:r}=CH(t);return{width:e,height:r}}function Lce(t,e,r){const n=fc(e),i=yc(e),a=r==="fixed",o=Xh(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=of(0);if(n||!n&&!a)if((bg(e)!=="body"||ux(i))&&(s=X5(e)),n){const p=Xh(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=H4(i));let c=0,u=0;if(i&&!n&&!a){const p=i.getBoundingClientRect();u=p.top+s.scrollTop,c=p.left+s.scrollLeft-H4(i,p)}const f=o.left+s.scrollLeft-l.x-c,h=o.top+s.scrollTop-l.y-u;return{x:f,y:h,width:o.width,height:o.height}}function FE(t){return Al(t).position==="static"}function LR(t,e){if(!fc(t)||Al(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return yc(t)===r&&(r=r.ownerDocument.body),r}function PH(t,e){const r=Yo(t);if(Y5(t))return r;if(!fc(t)){let i=lf(t);for(;i&&!A0(i);){if(Sl(i)&&!FE(i))return i;i=lf(i)}return r}let n=LR(t,e);for(;n&&Ece(n)&&FE(n);)n=LR(n,e);return n&&A0(n)&&FE(n)&&!eO(n)?r:n||Cce(t)||r}const Fce=async function(t){const e=this.getOffsetParent||PH,r=this.getDimensions,n=await r(t.floating);return{reference:Lce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Bce(t){return Al(t).direction==="rtl"}const $ce={convertOffsetParentRelativeRectToViewportRelativeRect:Pce,getDocumentElement:yc,getClippingRect:Dce,getOffsetParent:PH,getElementRects:Fce,getClientRects:Ice,getDimensions:Mce,getScale:Jm,isElement:Sl,isRTL:Bce};function Uce(t,e){let r=null,n;const i=yc(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const p=j2(u),m=j2(i.clientWidth-(c+f)),g=j2(i.clientHeight-(u+h)),x=j2(c),y={rootMargin:-p+"px "+-m+"px "+-g+"px "+-x+"px",threshold:Ho(0,af(1,l))||1};let w=!0;function C(A){const O=A[0].intersectionRatio;if(O!==l){if(!w)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,y)}r.observe(t)}return o(!0),a}function Vce(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=rO(t),u=i||a?[...c?ey(c):[],...ey(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=c&&s?Uce(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Xh(t):null;l&&x();function x(){const v=Xh(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&r(),g=v,m=requestAnimationFrame(x)}return r(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const zce=bce,Hce=_ce,qce=yce,Wce=Ace,Gce=xce,FR=vce,Kce=Sce,Yce=(t,e,r)=>{const n=new Map,i={platform:$ce,...r},a={...i.platform,_c:n};return gce(t,e,{...i,platform:a})};var Lw=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Fb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Fb(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Fb(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function IH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BR(t,e){const r=IH(t);return Math.round(e*r)/r}function BE(t){const e=E.useRef(t);return Lw(()=>{e.current=t}),e}function Xce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=E.useState(n);Fb(h,n)||p(n);const[m,g]=E.useState(null),[x,v]=E.useState(null),y=E.useCallback($=>{$!==O.current&&(O.current=$,g($))},[]),w=E.useCallback($=>{$!==N.current&&(N.current=$,v($))},[]),C=a||m,A=o||x,O=E.useRef(null),N=E.useRef(null),S=E.useRef(u),P=l!=null,R=BE(l),I=BE(i),k=BE(c),D=E.useCallback(()=>{if(!O.current||!N.current)return;const $={placement:e,strategy:r,middleware:h};I.current&&($.platform=I.current),Yce(O.current,N.current,$).then(H=>{const te={...H,isPositioned:k.current!==!1};z.current&&!Fb(S.current,te)&&(S.current=te,dp.flushSync(()=>{f(te)}))})},[h,e,r,I,k]);Lw(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const z=E.useRef(!1);Lw(()=>(z.current=!0,()=>{z.current=!1}),[]),Lw(()=>{if(C&&(O.current=C),A&&(N.current=A),C&&A){if(R.current)return R.current(C,A,D);D()}},[C,A,D,R,P]);const J=E.useMemo(()=>({reference:O,floating:N,setReference:y,setFloating:w}),[y,w]),U=E.useMemo(()=>({reference:C,floating:A}),[C,A]),K=E.useMemo(()=>{const $={position:r,left:0,top:0};if(!U.floating)return $;const H=BR(U.floating,u.x),te=BR(U.floating,u.y);return s?{...$,transform:"translate("+H+"px, "+te+"px)",...IH(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:te}},[r,s,U.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:D,refs:J,elements:U,floatingStyles:K}),[u,D,J,U,K])}const Qce=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?FR({element:n.current,padding:i}).fn(r):{}:n?FR({element:n,padding:i}).fn(r):{}}}},Zce=(t,e)=>({...zce(t),options:[t,e]}),Jce=(t,e)=>({...Hce(t),options:[t,e]}),eue=(t,e)=>({...Kce(t),options:[t,e]}),tue=(t,e)=>({...qce(t),options:[t,e]}),rue=(t,e)=>({...Wce(t),options:[t,e]}),nue=(t,e)=>({...Gce(t),options:[t,e]}),iue=(t,e)=>({...Qce(t),options:[t,e]});var aue="Arrow",OH=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return d.jsx(Nt.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});OH.displayName=aue;var oue=OH;function sue(t,e=[]){let r=[];function n(a,o){const s=E.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,x=E.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:x,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=E.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>E.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,lue(i,...e)]}function lue(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function nO(t){const[e,r]=E.useState(void 0);return zi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var iO="Popper",[kH,Sf]=sue(iO),[cue,jH]=kH(iO),RH=t=>{const{__scopePopper:e,children:r}=t,[n,i]=E.useState(null);return d.jsx(cue,{scope:e,anchor:n,onAnchorChange:i,children:r})};RH.displayName=iO;var DH="PopperAnchor",MH=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=jH(DH,r),o=E.useRef(null),s=dr(e,o);return E.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(Nt.div,{...i,ref:s})});MH.displayName=DH;var aO="PopperContent",[uue,due]=kH(aO),LH=E.forwardRef((t,e)=>{var le,de,ae,ye,ge,ve;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,x=jH(aO,r),[v,y]=E.useState(null),w=dr(e,Re=>y(Re)),[C,A]=E.useState(null),O=nO(C),N=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,P=n+(a!=="center"?"-"+a:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],k=I.length>0,D={padding:R,boundary:I.filter(hue),altBoundary:k},{refs:z,floatingStyles:J,placement:U,isPositioned:K,middlewareData:$}=Xce({strategy:"fixed",placement:P,whileElementsMounted:(...Re)=>Vce(...Re,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Zce({mainAxis:i+S,alignmentAxis:o}),l&&Jce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?eue():void 0,...D}),l&&tue({...D}),rue({...D,apply:({elements:Re,rects:Me,availableWidth:Se,availableHeight:W})=>{const{width:Pe,height:ce}=Me.reference,me=Re.floating.style;me.setProperty("--radix-popper-available-width",`${Se}px`),me.setProperty("--radix-popper-available-height",`${W}px`),me.setProperty("--radix-popper-anchor-width",`${Pe}px`),me.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),C&&iue({element:C,padding:s}),pue({arrowWidth:N,arrowHeight:S}),h&&nue({strategy:"referenceHidden",...D})]}),[H,te]=$H(U),ie=sa(m);zi(()=>{K&&(ie==null||ie())},[K,ie]);const F=(le=$.arrow)==null?void 0:le.x,q=(de=$.arrow)==null?void 0:de.y,Q=((ae=$.arrow)==null?void 0:ae.centerOffset)!==0,[se,G]=E.useState();return zi(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),d.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ye=$.transformOrigin)==null?void 0:ye.x,(ge=$.transformOrigin)==null?void 0:ge.y].join(" "),...((ve=$.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(uue,{scope:r,placedSide:H,onArrowChange:A,arrowX:F,arrowY:q,shouldHideArrow:Q,children:d.jsx(Nt.div,{"data-side":H,"data-align":te,...g,ref:w,style:{...g.style,animation:K?void 0:"none"}})})})});LH.displayName=aO;var FH="PopperArrow",fue={top:"bottom",right:"left",bottom:"top",left:"right"},BH=E.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=due(FH,n),o=fue[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(oue,{...i,ref:r,style:{...i.style,display:"block"}})})});BH.displayName=FH;function hue(t){return t!==null}var pue=t=>({name:"transformOrigin",options:t,fn(e){var x,v,y;const{placement:r,rects:n,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=$H(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((v=i.arrow)==null?void 0:v.x)??0)+s/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?f:`${h}px`,g=`${-l}px`):c==="top"?(m=o?f:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?f:`${p}px`):c==="left"&&(m=`${n.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function $H(t){const[e,r="center"]=t.split("-");return[e,r]}var Q5=RH,dx=MH,Z5=LH,J5=BH,[eS,ptt]=Nl("Tooltip",[Sf]),tS=Sf(),UH="TooltipProvider",mue=700,q4="tooltip.open",[gue,oO]=eS(UH),VH=t=>{const{__scopeTooltip:e,delayDuration:r=mue,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,s]=E.useState(!0),l=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(gue,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};VH.displayName=UH;var rS="Tooltip",[vue,nS]=eS(rS),zH=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=t,l=oO(rS,t.__scopeTooltip),c=tS(e),[u,f]=E.useState(null),h=Es(),p=E.useRef(0),m=o??l.disableHoverableContent,g=s??l.delayDuration,x=E.useRef(!1),[v=!1,y]=_l({prop:n,defaultProp:i,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(q4))):l.onClose(),a==null||a(N)}}),w=E.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),C=E.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,y(!0)},[y]),A=E.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),O=E.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,y(!0),p.current=0},g)},[g,y]);return E.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),d.jsx(Q5,{...c,children:d.jsx(vue,{scope:e,contentId:h,open:v,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:E.useCallback(()=>{l.isOpenDelayed?O():C()},[l.isOpenDelayed,O,C]),onTriggerLeave:E.useCallback(()=>{m?A():(window.clearTimeout(p.current),p.current=0)},[A,m]),onOpen:C,onClose:A,disableHoverableContent:m,children:r})})};zH.displayName=rS;var W4="TooltipTrigger",HH=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=nS(W4,r),a=oO(W4,r),o=tS(r),s=E.useRef(null),l=dr(e,s,i.onTriggerChange),c=E.useRef(!1),u=E.useRef(!1),f=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(dx,{asChild:!0,...o,children:d.jsx(Nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:st(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:st(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:st(t.onBlur,i.onClose),onClick:st(t.onClick,i.onClose)})})});HH.displayName=W4;var yue="TooltipPortal",[mtt,xue]=eS(yue,{forceMount:void 0}),E0="TooltipContent",qH=E.forwardRef((t,e)=>{const r=xue(E0,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=nS(E0,t.__scopeTooltip);return d.jsx(Co,{present:n||o.open,children:o.disableHoverableContent?d.jsx(WH,{side:i,...a,ref:e}):d.jsx(wue,{side:i,...a,ref:e})})}),wue=E.forwardRef((t,e)=>{const r=nS(E0,t.__scopeTooltip),n=oO(E0,t.__scopeTooltip),i=E.useRef(null),a=dr(e,i),[o,s]=E.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:f}=n,h=E.useCallback(()=>{s(null),f(!1)},[f]),p=E.useCallback((m,g)=>{const x=m.currentTarget,v={x:m.clientX,y:m.clientY},y=Aue(v,x.getBoundingClientRect()),w=Eue(v,y),C=Cue(g.getBoundingClientRect()),A=Tue([...w,...C]);s(A),f(!0)},[f]);return E.useEffect(()=>()=>h(),[h]),E.useEffect(()=>{if(l&&u){const m=x=>p(x,u),g=x=>p(x,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,h]),E.useEffect(()=>{if(o){const m=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),w=!Nue(v,o);y?h():w&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),d.jsx(WH,{...t,ref:a})}),[bue,_ue]=eS(rS,{isInside:!1}),WH=E.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=nS(E0,r),c=tS(r),{onClose:u}=l;return E.useEffect(()=>(document.addEventListener(q4,u),()=>document.removeEventListener(q4,u)),[u]),E.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(Z5,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Dz,{children:n}),d.jsx(bue,{scope:r,isInside:!0,children:d.jsx(nse,{id:l.contentId,role:"tooltip",children:i||n})})]})})});qH.displayName=E0;var GH="TooltipArrow",Sue=E.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=tS(r);return _ue(GH,r).isInside?null:d.jsx(J5,{...i,...n,ref:e})});Sue.displayName=GH;function Aue(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Eue(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Cue(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Nue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,u=e[o].y;l>n!=u>n&&r<(c-s)*(n-l)/(u-l)+s&&(i=!i)}return i}function Tue(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Pue(e)}function Pue(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Iue=VH,Oue=zH,kue=HH,KH=qH;const sO=Iue,YH=Oue,XH=kue,lO=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(KH,{ref:n,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));lO.displayName=KH.displayName;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ty.apply(this,arguments)}var jd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jd||(jd={}));const $R="popstate";function jue(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=pp(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),G4("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof a=="string"?a:Bb(a))}function n(i,a){iS(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Due(e,r,n,t)}function Xn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rue(){return Math.random().toString(36).substr(2,8)}function UR(t,e){return{usr:t.state,key:t.key,idx:e}}function G4(t,e,r,n){return r===void 0&&(r=null),ty({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pp(e):e,{state:r,key:e&&e.key||n||Rue()})}function Bb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Due(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=jd.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ty({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=jd.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:s,location:g.location,delta:v})}function h(x,v){s=jd.Push;let y=G4(g.location,x,v);r&&r(y,x),c=u()+1;let w=UR(y,c),C=g.createHref(y);try{o.pushState(w,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(C)}a&&l&&l({action:s,location:g.location,delta:1})}function p(x,v){s=jd.Replace;let y=G4(g.location,x,v);r&&r(y,x),c=u();let w=UR(y,c),C=g.createHref(y);o.replaceState(w,"",C),a&&l&&l({action:s,location:g.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:Bb(x);return Xn(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return s},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($R,f),l=x,()=>{i.removeEventListener($R,f),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return g}var VR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(VR||(VR={}));function Mue(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?pp(e):e,i=cO(n.pathname||"/",r);if(i==null)return null;let a=QH(t);Lue(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=Wue(a[s],Yue(i));return o}function QH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Xn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Gd([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Xn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QH(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Hue(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of ZH(a.path))i(a,o,l)}),e}function ZH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=ZH(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Lue(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:que(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Fue=/^:\w+$/,Bue=3,$ue=2,Uue=1,Vue=10,zue=-2,zR=t=>t==="*";function Hue(t,e){let r=t.split("/"),n=r.length;return r.some(zR)&&(n+=zue),e&&(n+=$ue),r.filter(i=>!zR(i)).reduce((i,a)=>i+(Fue.test(a)?Bue:a===""?Uue:Vue),n)}function que(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Wue(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Gue({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let f=s.route;a.push({params:n,pathname:Gd([i,u.pathname]),pathnameBase:ede(Gd([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Gd([i,u.pathnameBase]))}return a}function Gue(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kue(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=Xue(m||"",h),c},{}),pathname:a,pathnameBase:o,pattern:t}}function Kue(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),iS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yue(t){try{return decodeURI(t)}catch(e){return iS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xue(t,e){try{return decodeURIComponent(t)}catch(r){return iS(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function cO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Que(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?pp(t):t;return{pathname:r?r.startsWith("/")?r:Zue(r,e):e,search:tde(n),hash:rde(i)}}function Zue(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $E(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jue(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function uO(t){return Jue(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function dO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=pp(t):(i=ty({},t),Xn(!i.pathname||!i.pathname.includes("?"),$E("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),$E("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),$E("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}s="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=Que(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Gd=t=>t.join("/").replace(/\/\/+/g,"/"),ede=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JH=["post","put","patch","delete"];new Set(JH);const ide=["get",...JH];new Set(ide);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}const fO=E.createContext(null),ade=E.createContext(null),_g=E.createContext(null),aS=E.createContext(null),Af=E.createContext({outlet:null,matches:[],isDataRoute:!1}),eq=E.createContext(null);function ode(t,e){let{relative:r}=e===void 0?{}:e;Sg()||Xn(!1);let{basename:n,navigator:i}=E.useContext(_g),{hash:a,pathname:o,search:s}=rq(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Gd([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Sg(){return E.useContext(aS)!=null}function Rs(){return Sg()||Xn(!1),E.useContext(aS).location}function tq(t){E.useContext(_g).static||E.useLayoutEffect(t)}function xc(){let{isDataRoute:t}=E.useContext(Af);return t?xde():sde()}function sde(){Sg()||Xn(!1);let t=E.useContext(fO),{basename:e,navigator:r}=E.useContext(_g),{matches:n}=E.useContext(Af),{pathname:i}=Rs(),a=JSON.stringify(uO(n)),o=E.useRef(!1);return tq(()=>{o.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=dO(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Gd([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,a,i,t])}function rq(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=E.useContext(Af),{pathname:i}=Rs(),a=JSON.stringify(uO(n));return E.useMemo(()=>dO(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function lde(t,e){return cde(t,e)}function cde(t,e,r){Sg()||Xn(!1);let{navigator:n}=E.useContext(_g),{matches:i}=E.useContext(Af),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=Rs(),c;if(e){var u;let g=typeof e=="string"?pp(e):e;s==="/"||(u=g.pathname)!=null&&u.startsWith(s)||Xn(!1),c=g}else c=l;let f=c.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",p=Mue(t,{pathname:h}),m=pde(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Gd([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:Gd([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&m?E.createElement(aS.Provider,{value:{location:$b({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jd.Pop}},m):m}function ude(){let t=yde(),e=nde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,null)}const dde=E.createElement(ude,null);class fde extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?E.createElement(Af.Provider,{value:this.props.routeContext},E.createElement(eq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hde(t){let{routeContext:e,match:r,children:n}=t,i=E.useContext(fO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(Af.Provider,{value:e},n)}function pde(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Xn(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||dde);let h=e.concat(a.slice(0,c+1)),p=()=>{let m;return u?m=f:l.route.Component?m=E.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,E.createElement(hde,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?E.createElement(fde,{location:r.location,revalidation:r.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var nq=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nq||{}),iq=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iq||{});function mde(t){let e=E.useContext(fO);return e||Xn(!1),e}function gde(t){let e=E.useContext(ade);return e||Xn(!1),e}function vde(t){let e=E.useContext(Af);return e||Xn(!1),e}function aq(t){let e=vde(),r=e.matches[e.matches.length-1];return r.route.id||Xn(!1),r.route.id}function yde(){var t;let e=E.useContext(eq),r=gde(),n=aq();return e||((t=r.errors)==null?void 0:t[n])}function xde(){let{router:t}=mde(nq.UseNavigateStable),e=aq(iq.UseNavigateStable),r=E.useRef(!1);return tq(()=>{r.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$b({fromRouteId:e},a)))},[t,e])}function oq(t){let{to:e,replace:r,state:n,relative:i}=t;Sg()||Xn(!1);let{matches:a}=E.useContext(Af),{pathname:o}=Rs(),s=xc(),l=dO(e,uO(a),o,i==="path"),c=JSON.stringify(l);return E.useEffect(()=>s(JSON.parse(c),{replace:r,state:n,relative:i}),[s,c,i,r,n]),null}function Fo(t){Xn(!1)}function wde(t){let{basename:e="/",children:r=null,location:n,navigationType:i=jd.Pop,navigator:a,static:o=!1}=t;Sg()&&Xn(!1);let s=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=pp(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:p="default"}=n,m=E.useMemo(()=>{let g=cO(c,s);return g==null?null:{location:{pathname:g,search:u,hash:f,state:h,key:p},navigationType:i}},[s,c,u,f,h,p,i]);return m==null?null:E.createElement(_g.Provider,{value:l},E.createElement(aS.Provider,{children:r,value:m}))}function bde(t){let{children:e,location:r}=t;return lde(K4(e),r)}new Promise(()=>{});function K4(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let a=[...e,i];if(n.type===E.Fragment){r.push.apply(r,K4(n.props.children,a));return}n.type!==Fo&&Xn(!1),!n.props.index||!n.props.children||Xn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=K4(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y4(){return Y4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y4.apply(this,arguments)}function _de(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Sde(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ade(t,e){return t.button===0&&(!e||e==="_self")&&!Sde(t)}const Ede=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Cde="startTransition",HR=IU[Cde];function Nde(t){let{basename:e,children:r,future:n,window:i}=t,a=E.useRef();a.current==null&&(a.current=jue({window:i,v5Compat:!0}));let o=a.current,[s,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=E.useCallback(f=>{c&&HR?HR(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(wde,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}const Tde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pde=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sq=E.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=_de(e,Ede),{basename:p}=E.useContext(_g),m,g=!1;if(typeof c=="string"&&Pde.test(c)&&(m=c,Tde))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),A=cO(C.pathname,p);C.origin===w.origin&&A!=null?c=A+C.search+C.hash:g=!0}catch{}let x=ode(c,{relative:i}),v=Ide(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||v(w)}return E.createElement("a",Y4({},h,{href:m||x,onClick:g||a?n:y,ref:r,target:l}))});var qR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qR||(qR={}));var WR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WR||(WR={}));function Ide(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=xc(),c=Rs(),u=rq(t,{relative:o});return E.useCallback(f=>{if(Ade(f,r)){f.preventDefault();let h=n!==void 0?n:Bb(c)===Bb(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}const Ode=[{id:"1",title:"Pick up dry cleaning",dueDate:"2025-05-05",location:"Downtown Cleaners",coordinates:{lat:39.9622,lng:-83.0007},priority:"high",completed:!1,isRotating:!1,assignees:[{id:"1",name:"You",avatar:""},{id:"2",name:"Rachel",avatar:""}],notes:"Don't forget the receipt"},{id:"2",title:"Return library books",dueDate:"2025-05-08",location:"Columbus Public Library",coordinates:{lat:39.9611,lng:-83.0101},priority:"medium",completed:!1,isRotating:!0,assignees:[{id:"1",name:"You",avatar:""}],notes:"Books due by 8pm"},{id:"3",title:"Get groceries from Trader Joe's",dueDate:"2025-05-02",location:"Trader Joe's",coordinates:{lat:39.9702,lng:-83.015},priority:"high",completed:!0,isRotating:!1,assignees:[{id:"3",name:"Brian",avatar:""},{id:"4",name:"Ella",avatar:""}],notes:"See shopping list in app"}],kde=[{id:"1",store:"Trader Joe's",location:"Trader Joe's",coordinates:{lat:39.9702,lng:-83.015},shopper:{name:"Rachel",avatar:"https://example.com/rachel.jpg"},eta:"10 min",status:"open",items:[{id:"1-1",name:"Milk",quantity:1,price:3.99,unit:"gal",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1},{id:"1-2",name:"Eggs",quantity:1,price:4.49,unit:"dozen",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"},{id:"2",name:"Rachel",avatar:"https://example.com/rachel.jpg"}],date:new Date().toISOString()},{id:"2",store:"Costco",location:"Costco",coordinates:{lat:39.965,lng:-83.02},shopper:{name:"You",avatar:"https://example.com/you.jpg"},eta:"15 min",status:"shopping",items:[{id:"2-1",name:"Paper Towels",quantity:2,price:19.99,unit:"pack",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!0}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"}],date:new Date(Date.now()+864e5).toISOString()},{id:"3",store:"Whole Foods",location:"Whole Foods",coordinates:{lat:39.96,lng:-83.018},shopper:{name:"Alex",avatar:"https://example.com/alex.jpg"},eta:"Completed",status:"completed",items:[{id:"3-1",name:"Organic Bananas",quantity:1,price:3.99,unit:"bunch",addedBy:{name:"Alex",avatar:"https://example.com/alex.jpg"},checked:!0}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"},{id:"3",name:"Alex",avatar:"https://example.com/alex.jpg"}],date:new Date(Date.now()-864e5).toISOString()}],lq=E.createContext(void 0),jde=({children:t})=>{const[e,r]=E.useState(Ode),[n,i]=E.useState(kde);E.useEffect(()=>{const p=localStorage.getItem("tasks"),m=localStorage.getItem("trips");if(p)try{r(JSON.parse(p))}catch(g){console.error("Error parsing stored tasks:",g)}if(m)try{const g=JSON.parse(m);i(g)}catch(g){console.error("Error parsing stored trips:",g)}},[]),E.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(e))},[e]);const a=(p,m)=>m instanceof Date?m.toISOString():m;E.useEffect(()=>{try{localStorage.setItem("trips",JSON.stringify(n,a))}catch(p){console.error("Error saving trips to localStorage:",p)}},[n]);const o=p=>{const m={...p,id:Date.now().toString(),completed:p.completed!==void 0?p.completed:!1};r([...e,m])},s=(p,m)=>{r(e.map(g=>g.id===p?{...g,...m}:g))},l=p=>{r(e.filter(m=>m.id!==p))},c=p=>{const m={...p,id:Date.now().toString(),date:p.date?new Date(p.date).toISOString():new Date().toISOString()};i(g=>{const x=[...g,m];return localStorage.setItem("trips",JSON.stringify(x,a)),x})},u=(p,m)=>{i(g=>{const x=g.map(v=>{if(v.id===p){const y=m.date?new Date(m.date).toISOString():v.date;return{...v,...m,date:y}}return v});return localStorage.setItem("trips",JSON.stringify(x,a)),x})},f=p=>{const m=n.find(g=>g.id===p);if(i(n.filter(g=>g.id!==p)),m){const g=`Trip to ${m.store}`,x=e.find(v=>v.title===g);x&&l(x.id)}},h=()=>{n.forEach(p=>{if(p.coordinates){const m=`Trip to ${p.store}`;e.find(x=>x.title===m)||o({title:m,dueDate:new Date().toISOString().split("T")[0],location:p.store,coordinates:p.coordinates,priority:"medium"})}}),e.forEach(p=>{if(p.title.startsWith("Trip to ")){const m=p.title.replace("Trip to ",""),g=n.find(x=>x.store===m);g&&g.coordinates&&s(p.id,{location:g.store,coordinates:g.coordinates})}})};return d.jsx(lq.Provider,{value:{tasks:e,trips:n,addTask:o,updateTask:s,deleteTask:l,addTrip:c,updateTrip:u,deleteTrip:f,syncTasksWithTrips:h},children:t})},mp=()=>{const t=E.useContext(lq);if(t===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return t},cq=E.createContext(void 0),_1="authUser",Rde=({children:t})=>{const[e,r]=E.useState(null),[n,i]=E.useState(!0),[a,o]=E.useState(null);E.useEffect(()=>{try{i(!0);const f=localStorage.getItem(_1);if(f){const h=JSON.parse(f);r({...h,chorePreferences:h.chorePreferences||[]})}}catch(f){console.error("Error loading auth state:",f),localStorage.removeItem(_1)}finally{i(!1)}},[]);const u={user:e,isLoading:n,error:a,loginWithGoogle:async()=>{try{i(!0),o(null),await new Promise(h=>setTimeout(h,1e3));const f={id:"google_"+Math.random().toString(36).substring(2,9),name:"Demo User",email:"demo@example.com",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=random",chorePreferences:[]};r(f),localStorage.setItem(_1,JSON.stringify(f))}catch(f){console.error("Google login error:",f),o("Failed to login with Google. Please try again.")}finally{i(!1)}},logout:async()=>{try{i(!0),await new Promise(f=>setTimeout(f,500)),localStorage.removeItem(_1),r(null)}catch(f){console.error("Logout error:",f),o("Failed to logout. Please try again.")}finally{i(!1)}},updateChorePreferences:async f=>{if(e)try{i(!0);const h={...e,chorePreferences:f};r(h),localStorage.setItem(_1,JSON.stringify(h))}catch(h){console.error("Error updating preferences:",h),o("Failed to update preferences. Please try again.")}finally{i(!1)}}};return d.jsx(cq.Provider,{value:u,children:t})},oS=()=>{const t=E.useContext(cq);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Dde=E.createContext(void 0),GR="taska_trips",Mde=({children:t})=>{const[e,r]=E.useState([]);E.useEffect(()=>{const u=localStorage.getItem(GR);u&&r(JSON.parse(u))},[]),E.useEffect(()=>{localStorage.setItem(GR,JSON.stringify(e))},[e]);const n=u=>{const f={...u,id:Date.now().toString(),createdAt:Date.now()};r(h=>[...h,f])},i=(u,f)=>{r(h=>h.map(p=>p.id===u?{...p,...f}:p))},a=u=>{r(f=>f.filter(h=>h.id!==u))},o=(u,f)=>{const h={...f,id:Date.now().toString()};r(p=>p.map(m=>m.id===u?{...m,items:[...m.items,h]}:m))},s=(u,f,h)=>{r(p=>p.map(m=>m.id===u?{...m,items:m.items.map(g=>g.id===f?{...g,...h}:g)}:m))},l=(u,f)=>{r(h=>h.map(p=>p.id===u?{...p,items:p.items.filter(m=>m.id!==f)}:p))},c=u=>{r(f=>f.map(h=>h.id===u?{...h,isComplete:!0}:h))};return d.jsx(Dde.Provider,{value:{trips:e,setTrips:r,addTrip:n,updateTrip:i,deleteTrip:a,addItemToTrip:o,updateTripItem:s,deleteTripItem:l,completeTrip:c},children:t})},uq=E.createContext(void 0),Lde=()=>{const t=E.useContext(uq);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},Fde=({children:t})=>{const[e,r]=E.useState([{id:"1",type:"info",title:"Welcome to Taska-Loop",message:"Your household management companion. Start by creating a shopping trip!",timestamp:new Date,read:!1,actionText:"New Trip",actionUrl:"/trips"}]);E.useEffect(()=>{const l=localStorage.getItem("notifications");if(l)try{const u=JSON.parse(l).map(f=>({...f,timestamp:new Date(f.timestamp)}));r(u)}catch(c){console.error("Failed to parse stored notifications:",c)}},[]),E.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=l=>{const c={...l,id:Date.now().toString(),timestamp:new Date};r(u=>[c,...u])},i=l=>{r(c=>c.filter(u=>u.id!==l))},a=l=>{r(c=>c.map(u=>u.id===l?{...u,read:!0}:u))},o=()=>{r(l=>l.map(c=>({...c,read:!0})))},s=()=>{r([])};return d.jsx(uq.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,markAsRead:a,markAllAsRead:o,clearAll:s},children:t})},Fw=gg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),De=E.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,withHaptics:i=!1,onClick:a,...o},s)=>{const l=n?hu:"button",c=u=>{i&&(i===!0||i==="light"?po.light():i==="medium"?po.medium():i==="heavy"?po.heavy():i==="success"?po.success():i==="error"?po.error():i==="warning"&&po.warning()),a&&a(u)};return d.jsx(l,{className:dt(Fw({variant:e,size:r,className:t})),ref:s,onClick:c,...o})});De.displayName="Button";const dq=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sS=E.createContext({}),lS=E.createContext(null),cS=typeof document<"u",hO=cS?E.useLayoutEffect:E.useEffect,fq=E.createContext({strict:!1}),pO=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Bde="framerAppearId",hq="data-"+pO(Bde);function $de(t,e,r,n){const{visualElement:i}=E.useContext(sS),a=E.useContext(fq),o=E.useContext(lS),s=E.useContext(dq).reducedMotion,l=E.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;E.useInsertionEffect(()=>{c&&c.update(r,o)});const u=E.useRef(!!(r[hq]&&!window.HandoffComplete));return hO(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function km(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ude(t,e,r){return E.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):km(r)&&(r.current=n))},[e])}function ry(t){return typeof t=="string"||Array.isArray(t)}function uS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const mO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gO=["initial",...mO];function dS(t){return uS(t.animate)||gO.some(e=>ry(t[e]))}function pq(t){return!!(dS(t)||t.variants)}function Vde(t,e){if(dS(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ry(r)?r:void 0,animate:ry(n)?n:void 0}}return t.inherit!==!1?e:{}}function zde(t){const{initial:e,animate:r}=Vde(t,E.useContext(sS));return E.useMemo(()=>({initial:e,animate:r}),[KR(e),KR(r)])}function KR(t){return Array.isArray(t)?t.join(" "):t}const YR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ny={};for(const t in YR)ny[t]={isEnabled:e=>YR[t].some(r=>!!e[r])};function Hde(t){for(const e in t)ny[e]={...ny[e],...t[e]}}const vO=E.createContext({}),mq=E.createContext({}),qde=Symbol.for("motionComponentSymbol");function Wde({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&Hde(t);function a(s,l){let c;const u={...E.useContext(dq),...s,layoutId:Gde(s)},{isStatic:f}=u,h=zde(s),p=n(s,f);if(!f&&cS){h.visualElement=$de(i,p,u,e);const m=E.useContext(mq),g=E.useContext(fq).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,g,t,m))}return E.createElement(sS.Provider,{value:h},c&&h.visualElement?E.createElement(c,{visualElement:h.visualElement,...u}):null,r(i,s,Ude(p,h.visualElement,l),p,f,h.visualElement))}const o=E.forwardRef(a);return o[qde]=i,o}function Gde({layoutId:t}){const e=E.useContext(vO).id;return e&&t!==void 0?e+"-"+t:t}function Kde(t){function e(n,i={}){return Wde(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const Yde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yO(t){return typeof t!="string"||t.includes("-")?!1:!!(Yde.indexOf(t)>-1||/[A-Z]/.test(t))}const Ub={};function Xde(t){Object.assign(Ub,t)}const fx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gp=new Set(fx);function gq(t,{layout:e,layoutId:r}){return gp.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Ub[t]||t==="opacity")}const So=t=>!!(t&&t.getVelocity),Qde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zde=fx.length;function Jde(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<Zde;o++){const s=fx[o];if(t[s]!==void 0){const l=Qde[s]||s;a+=`${l}(${t[s]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const vq=t=>e=>typeof e=="string"&&e.startsWith(t),yq=vq("--"),X4=vq("var(--"),efe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tfe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cf=(t,e,r)=>Math.min(Math.max(r,t),e),vp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gv={...vp,transform:t=>cf(0,1,t)},R2={...vp,default:1},vv=t=>Math.round(t*1e5)/1e5,fS=/(-)?([\d]*\.?[\d])+/g,xq=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hx(t){return typeof t=="string"}const px=t=>({test:e=>hx(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vd=px("deg"),ic=px("%"),Lt=px("px"),nfe=px("vh"),ife=px("vw"),XR={...ic,parse:t=>ic.parse(t)/100,transform:t=>ic.transform(t*100)},QR={...vp,transform:Math.round},wq={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,size:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,rotate:vd,rotateX:vd,rotateY:vd,rotateZ:vd,scale:R2,scaleX:R2,scaleY:R2,scaleZ:R2,skew:vd,skewX:vd,skewY:vd,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:gv,originX:XR,originY:XR,originZ:Lt,zIndex:QR,fillOpacity:gv,strokeOpacity:gv,numOctaves:QR};function xO(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:s}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(yq(f)){a[f]=h;continue}const p=wq[f],m=tfe(h,p);if(gp.has(f)){if(l=!0,o[f]=m,!u)continue;h!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,s[f]=m):i[f]=m}if(e.transform||(l||n?i.transform=Jde(t.transform,r,u,n):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${h} ${p}`}}const wO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bq(t,e,r){for(const n in e)!So(e[n])&&!gq(n,r)&&(t[n]=e[n])}function afe({transformTemplate:t},e,r){return E.useMemo(()=>{const n=wO();return xO(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function ofe(t,e,r){const n=t.style||{},i={};return bq(i,n,t),Object.assign(i,afe(t,e,r)),t.transformValues?t.transformValues(i):i}function sfe(t,e,r){const n={},i=ofe(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const lfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lfe.has(t)}let _q=t=>!Vb(t);function cfe(t){t&&(_q=e=>e.startsWith("on")?!Vb(e):t(e))}try{cfe(require("@emotion/is-prop-valid").default)}catch{}function ufe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(_q(i)||r===!0&&Vb(i)||!e&&!Vb(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function ZR(t,e,r){return typeof t=="string"?t:Lt.transform(e+r*t)}function dfe(t,e,r){const n=ZR(e,t.x,t.width),i=ZR(r,t.y,t.height);return`${n} ${i}`}const ffe={offset:"stroke-dashoffset",array:"stroke-dasharray"},hfe={offset:"strokeDashoffset",array:"strokeDasharray"};function pfe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?ffe:hfe;t[a.offset]=Lt.transform(-n);const o=Lt.transform(e),s=Lt.transform(r);t[a.array]=`${o} ${s}`}function bO(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,f,h){if(xO(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=dfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&pfe(p,o,s,l,!1)}const Sq=()=>({...wO(),attrs:{}}),_O=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mfe(t,e,r,n){const i=E.useMemo(()=>{const a=Sq();return bO(a,e,{enableHardwareAcceleration:!1},_O(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};bq(a,t.style,t),i.style={...a,...i.style}}return i}function gfe(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(yO(r)?mfe:sfe)(n,a,o,r),u={...ufe(n,typeof r=="string",t),...l,ref:i},{children:f}=n,h=E.useMemo(()=>So(f)?f.get():f,[f]);return E.createElement(r,{...u,children:h})}}function Aq(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const Eq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cq(t,e,r,n){Aq(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Eq.has(i)?i:pO(i),e.attrs[i])}function SO(t,e){const{style:r}=t,n={};for(const i in r)(So(r[i])||e.style&&So(e.style[i])||gq(i,t))&&(n[i]=r[i]);return n}function Nq(t,e){const r=SO(t,e);for(const n in t)if(So(t[n])||So(e[n])){const i=fx.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function AO(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function Tq(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const zb=t=>Array.isArray(t),vfe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yfe=t=>zb(t)?t[t.length-1]||0:t;function Bw(t){const e=So(t)?t.get():t;return vfe(e)?e.toValue():e}function xfe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:wfe(n,i,a,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const Pq=t=>(e,r)=>{const n=E.useContext(sS),i=E.useContext(lS),a=()=>xfe(t,e,n,i);return r?a():Tq(a)};function wfe(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=Bw(a[h]);let{initial:o,animate:s}=t;const l=dS(t),c=pq(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?s:o;return f&&typeof f!="boolean"&&!uS(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=AO(t,p);if(!m)return;const{transitionEnd:g,transition:x,...v}=m;for(const y in v){let w=v[y];if(Array.isArray(w)){const C=u?w.length-1:0;w=w[C]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}),i}const Kn=t=>t;class JR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function bfe(t){let e=new JR,r=new JR,n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:r;return c&&o.add(l),h.add(l)&&f&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let c=0;c<n;c++){const u=e.order[c];u(l),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(l))}};return s}const D2=["prepare","read","update","preRender","render","postRender"],_fe=40;function Sfe(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=D2.reduce((f,h)=>(f[h]=bfe(()=>r=!0),f),{}),o=f=>a[f].process(i),s=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,_fe),1),i.timestamp=f,i.isProcessing=!0,D2.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,i.isProcessing||t(s)};return{schedule:D2.reduce((f,h)=>{const p=a[h];return f[h]=(m,g=!1,x=!1)=>(r||l(),p.schedule(m,g,x)),f},{}),cancel:f=>D2.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:on,cancel:vu,state:ba,steps:UE}=Sfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0),Afe={useVisualState:Pq({scrapeMotionValuesFromProps:Nq,createRenderState:Sq,onMount:(t,e,{renderState:r,latestValues:n})=>{on.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),on.render(()=>{bO(r,n,{enableHardwareAcceleration:!1},_O(e.tagName),t.transformTemplate),Cq(e,r)})}})},Efe={useVisualState:Pq({scrapeMotionValuesFromProps:SO,createRenderState:wO})};function Cfe(t,{forwardMotionProps:e=!1},r,n){return{...yO(t)?Afe:Efe,preloadedFeatures:r,useRender:gfe(e),createVisualElement:n,Component:t}}function Xc(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const Iq=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function hS(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Nfe=t=>e=>Iq(e)&&t(e,hS(e));function nu(t,e,r,n){return Xc(t,e,Nfe(r),n)}const Tfe=(t,e)=>r=>e(t(r)),Kd=(...t)=>t.reduce(Tfe);function Oq(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const eD=Oq("dragHorizontal"),tD=Oq("dragVertical");function kq(t){let e=!1;if(t==="y")e=tD();else if(t==="x")e=eD();else{const r=eD(),n=tD();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function jq(){const t=kq(!0);return t?(t(),!1):!0}class Ef{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rD(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||jq())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&on.update(()=>s[n](a,o))};return nu(t.current,r,i,{passive:!t.getProps()[n]})}class Pfe extends Ef{mount(){this.unmount=Kd(rD(this.node,!0),rD(this.node,!1))}unmount(){}}class Ife extends Ef{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Xc(this.node.current,"focus",()=>this.onFocus()),Xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Rq=(t,e)=>e?t===e?!0:Rq(t,e.parentElement):!1;function VE(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,hS(r))}class Ofe extends Ef{constructor(){super(...arguments),this.removeStartListeners=Kn,this.removeEndListeners=Kn,this.removeAccessibleListeners=Kn,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=nu(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();on.update(()=>{!f&&!Rq(this.node.current,s.target)?u&&u(s,l):c&&c(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=nu(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Kd(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||VE("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&on.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Xc(this.node.current,"keyup",o),VE("down",(s,l)=>{this.startPress(s,l)})},r=Xc(this.node.current,"keydown",e),n=()=>{this.isPressing&&VE("cancel",(a,o)=>this.cancelPress(a,o))},i=Xc(this.node.current,"blur",n);this.removeAccessibleListeners=Kd(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&on.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jq()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&on.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=nu(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Xc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kd(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Q4=new WeakMap,zE=new WeakMap,kfe=t=>{const e=Q4.get(t.target);e&&e(t)},jfe=t=>{t.forEach(kfe)};function Rfe({root:t,...e}){const r=t||document;zE.has(r)||zE.set(r,{});const n=zE.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jfe,{root:t,...e})),n[i]}function Dfe(t,e,r){const n=Rfe(e);return Q4.set(t,r),n.observe(t),()=>{Q4.delete(t),n.unobserve(t)}}const Mfe={some:0,all:1};class Lfe extends Ef{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Mfe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Dfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Ffe(e,r))&&this.startObserver()}unmount(){}}function Ffe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Bfe={inView:{Feature:Lfe},tap:{Feature:Ofe},focus:{Feature:Ife},hover:{Feature:Pfe}};function Dq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $fe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Ufe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function pS(t,e,r){const n=t.getProps();return AO(n,e,r!==void 0?r:n.custom,$fe(t),Ufe(t))}let EO=Kn;const Mh=t=>t*1e3,iu=t=>t/1e3,Vfe={current:!1},Mq=t=>Array.isArray(t)&&typeof t[0]=="number";function Lq(t){return!!(!t||typeof t=="string"&&Fq[t]||Mq(t)||Array.isArray(t)&&t.every(Lq))}const G1=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Fq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:G1([0,.65,.55,1]),circOut:G1([.55,0,1,.45]),backIn:G1([.31,.01,.66,-.59]),backOut:G1([.33,1.53,.69,.99])};function Bq(t){if(t)return Mq(t)?G1(t):Array.isArray(t)?t.map(Bq):Fq[t]}function zfe(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const c={[e]:r};l&&(c.offset=l);const u=Bq(s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Hfe(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const $q=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,qfe=1e-7,Wfe=12;function Gfe(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=$q(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>qfe&&++s<Wfe);return o}function mx(t,e,r,n){if(t===e&&r===n)return Kn;const i=a=>Gfe(a,0,1,t,r);return a=>a===0||a===1?a:$q(i(a),e,n)}const Kfe=mx(.42,0,1,1),Yfe=mx(0,0,.58,1),Uq=mx(.42,0,.58,1),Xfe=t=>Array.isArray(t)&&typeof t[0]!="number",Vq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zq=t=>e=>1-t(1-e),CO=t=>1-Math.sin(Math.acos(t)),Hq=zq(CO),Qfe=Vq(CO),qq=mx(.33,1.53,.69,.99),NO=zq(qq),Zfe=Vq(NO),Jfe=t=>(t*=2)<1?.5*NO(t):.5*(2-Math.pow(2,-10*(t-1))),ehe={linear:Kn,easeIn:Kfe,easeInOut:Uq,easeOut:Yfe,circIn:CO,circInOut:Qfe,circOut:Hq,backIn:NO,backInOut:Zfe,backOut:qq,anticipate:Jfe},nD=t=>{if(Array.isArray(t)){EO(t.length===4);const[e,r,n,i]=t;return mx(e,r,n,i)}else if(typeof t=="string")return ehe[t];return t},TO=(t,e)=>r=>!!(hx(r)&&rfe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),Wq=(t,e,r)=>n=>{if(!hx(n))return n;const[i,a,o,s]=n.match(fS);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},the=t=>cf(0,255,t),HE={...vp,transform:t=>Math.round(the(t))},Ch={test:TO("rgb","red"),parse:Wq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+HE.transform(t)+", "+HE.transform(e)+", "+HE.transform(r)+", "+vv(gv.transform(n))+")"};function rhe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Z4={test:TO("#"),parse:rhe,transform:Ch.transform},jm={test:TO("hsl","hue"),parse:Wq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ic.transform(vv(e))+", "+ic.transform(vv(r))+", "+vv(gv.transform(n))+")"},Wa={test:t=>Ch.test(t)||Z4.test(t)||jm.test(t),parse:t=>Ch.test(t)?Ch.parse(t):jm.test(t)?jm.parse(t):Z4.parse(t),transform:t=>hx(t)?t:t.hasOwnProperty("red")?Ch.transform(t):jm.transform(t)},En=(t,e,r)=>-r*t+r*e+t;function qE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function nhe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=qE(l,s,t+1/3),a=qE(l,s,t),o=qE(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const WE=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},ihe=[Z4,Ch,jm],ahe=t=>ihe.find(e=>e.test(t));function iD(t){const e=ahe(t);let r=e.parse(t);return e===jm&&(r=nhe(r)),r}const Gq=(t,e)=>{const r=iD(t),n=iD(e),i={...r};return a=>(i.red=WE(r.red,n.red,a),i.green=WE(r.green,n.green,a),i.blue=WE(r.blue,n.blue,a),i.alpha=En(r.alpha,n.alpha,a),Ch.transform(i))};function ohe(t){var e,r;return isNaN(t)&&hx(t)&&(((e=t.match(fS))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(xq))===null||r===void 0?void 0:r.length)||0)>0}const Kq={regex:efe,countKey:"Vars",token:"${v}",parse:Kn},Yq={regex:xq,countKey:"Colors",token:"${c}",parse:Wa.parse},Xq={regex:fS,countKey:"Numbers",token:"${n}",parse:vp.parse};function GE(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function Hb(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&GE(r,Kq),GE(r,Yq),GE(r,Xq),r}function Qq(t){return Hb(t).values}function Zq(t){const{values:e,numColors:r,numVars:n,tokenised:i}=Hb(t),a=e.length;return o=>{let s=i;for(let l=0;l<a;l++)l<n?s=s.replace(Kq.token,o[l]):l<n+r?s=s.replace(Yq.token,Wa.transform(o[l])):s=s.replace(Xq.token,vv(o[l]));return s}}const she=t=>typeof t=="number"?0:t;function lhe(t){const e=Qq(t);return Zq(t)(e.map(she))}const uf={test:ohe,parse:Qq,createTransformer:Zq,getAnimatableNone:lhe},Jq=(t,e)=>r=>`${r>0?e:t}`;function eW(t,e){return typeof t=="number"?r=>En(t,e,r):Wa.test(t)?Gq(t,e):t.startsWith("var(")?Jq(t,e):rW(t,e)}const tW=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>eW(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},che=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=eW(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},rW=(t,e)=>{const r=uf.createTransformer(e),n=Hb(t),i=Hb(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Kd(tW(n.values,i.values),r):Jq(t,e)},iy=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},aD=(t,e)=>r=>En(t,e,r);function uhe(t){return typeof t=="number"?aD:typeof t=="string"?Wa.test(t)?Gq:rW:Array.isArray(t)?tW:typeof t=="object"?che:aD}function dhe(t,e,r){const n=[],i=r||uhe(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Kn:e;s=Kd(l,s)}n.push(s)}return n}function nW(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(EO(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=dhe(e,n,i),s=o.length,l=c=>{let u=0;if(s>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=iy(t[u],t[u+1],c);return o[u](f)};return r?c=>l(cf(t[0],t[a-1],c)):l}function fhe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=iy(0,e,n);t.push(En(r,1,i))}}function hhe(t){const e=[0];return fhe(e,t.length-1),e}function phe(t,e){return t.map(r=>r*e)}function mhe(t,e){return t.map(()=>e||Uq).splice(0,t.length-1)}function qb({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Xfe(n)?n.map(nD):nD(n),a={done:!1,value:e[0]},o=phe(r&&r.length===e.length?r:hhe(e),t),s=nW(o,e,{ease:Array.isArray(i)?i:mhe(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}function iW(t,e){return e?t*(1e3/e):0}const ghe=5;function aW(t,e,r){const n=Math.max(e-ghe,0);return iW(r-t(n),e-n)}const oD=.001,vhe=.01,yhe=10,xhe=.05,whe=1;function bhe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a,o=1-e;o=cf(xhe,whe,o),t=cf(vhe,yhe,iu(t)),o<1?(i=c=>{const u=c*o,f=u*t,h=u-r,p=J4(c,o),m=Math.exp(-f);return oD-h/p*m},a=c=>{const f=c*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-f),g=J4(Math.pow(c,2),o);return(-i(c)+oD>0?-1:1)*((h-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),f=(c-r)*t+1;return-.001+u*f},a=c=>{const u=Math.exp(-c*t),f=(r-c)*(t*t);return u*f});const s=5/t,l=She(i,a,s);if(t=Mh(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const _he=12;function She(t,e,r){let n=r;for(let i=1;i<_he;i++)n=n-t(n)/e(n);return n}function J4(t,e){return t*Math.sqrt(1-e*e)}const Ahe=["duration","bounce"],Ehe=["stiffness","damping","mass"];function sD(t,e){return e.some(r=>t[r]!==void 0)}function Che(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!sD(t,Ehe)&&sD(t,Ahe)){const r=bhe(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function oW({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=Che({...n,velocity:-iu(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*c)),g=a-i,x=iu(Math.sqrt(s/c)),v=Math.abs(g)<5;r||(r=v?.01:2),e||(e=v?.005:.5);let y;if(m<1){const w=J4(x,m);y=C=>{const A=Math.exp(-m*x*C);return a-A*((p+m*x*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(m===1)y=w=>a-Math.exp(-x*w)*(g+(p+x*g)*w);else{const w=x*Math.sqrt(m*m-1);y=C=>{const A=Math.exp(-m*x*C),O=Math.min(w*C,300);return a-A*((p+m*x*g)*Math.sinh(O)+w*g*Math.cosh(O))/w}}return{calculatedDuration:h&&u||null,next:w=>{const C=y(w);if(h)o.done=w>=u;else{let A=p;w!==0&&(m<1?A=aW(y,w,C):A=0);const O=Math.abs(A)<=r,N=Math.abs(a-C)<=e;o.done=O&&N}return o.value=o.done?a:C,o}}}function lD({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=S=>s!==void 0&&S<s||l!==void 0&&S>l,m=S=>s===void 0?l:l===void 0||Math.abs(s-S)<Math.abs(l-S)?s:l;let g=r*e;const x=f+g,v=o===void 0?x:o(x);v!==x&&(g=v-f);const y=S=>-g*Math.exp(-S/n),w=S=>v+y(S),C=S=>{const P=y(S),R=w(S);h.done=Math.abs(P)<=c,h.value=h.done?v:R};let A,O;const N=S=>{p(h.value)&&(A=S,O=oW({keyframes:[h.value,m(h.value)],velocity:aW(w,S,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:S=>{let P=!1;return!O&&A===void 0&&(P=!0,C(S),N(S)),A!==void 0&&S>A?O.next(S-A):(!P&&C(S),h)}}}const Nhe=t=>{const e=({timestamp:r})=>t(r);return{start:()=>on.update(e,!0),stop:()=>vu(e),now:()=>ba.isProcessing?ba.timestamp:performance.now()}},cD=2e4;function uD(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<cD;)e+=r,n=t.next(e);return e>=cD?1/0:e}const The={decay:lD,inertia:lD,tween:qb,keyframes:qb,spring:oW};function Wb({autoplay:t=!0,delay:e=0,driver:r=Nhe,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let p=1,m=!1,g,x;const v=()=>{x=new Promise(ie=>{g=ie})};v();let y;const w=The[i]||qb;let C;w!==qb&&typeof n[0]!="number"&&(C=nW([0,100],n,{clamp:!1}),n=[0,100]);const A=w({...h,keyframes:n});let O;s==="mirror"&&(O=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let N="idle",S=null,P=null,R=null;A.calculatedDuration===null&&a&&(A.calculatedDuration=uD(A));const{calculatedDuration:I}=A;let k=1/0,D=1/0;I!==null&&(k=I+o,D=k*(a+1)-o);let z=0;const J=ie=>{if(P===null)return;p>0&&(P=Math.min(P,ie)),p<0&&(P=Math.min(ie-D/p,P)),S!==null?z=S:z=Math.round(ie-P)*p;const F=z-e*(p>=0?1:-1),q=p>=0?F<0:F>D;z=Math.max(F,0),N==="finished"&&S===null&&(z=D);let Q=z,se=A;if(a){const ae=Math.min(z,D)/k;let ye=Math.floor(ae),ge=ae%1;!ge&&ae>=1&&(ge=1),ge===1&&ye--,ye=Math.min(ye,a+1),!!(ye%2)&&(s==="reverse"?(ge=1-ge,o&&(ge-=o/k)):s==="mirror"&&(se=O)),Q=cf(0,1,ge)*k}const G=q?{done:!1,value:n[0]}:se.next(Q);C&&(G.value=C(G.value));let{done:le}=G;!q&&I!==null&&(le=p>=0?z>=D:z<=0);const de=S===null&&(N==="finished"||N==="running"&&le);return f&&f(G.value),de&&$(),G},U=()=>{y&&y.stop(),y=void 0},K=()=>{N="idle",U(),g(),v(),P=R=null},$=()=>{N="finished",u&&u(),U(),g()},H=()=>{if(m)return;y||(y=r(J));const ie=y.now();l&&l(),S!==null?P=ie-S:(!P||N==="finished")&&(P=ie),N==="finished"&&v(),R=P,S=null,N="running",y.start()};t&&H();const te={then(ie,F){return x.then(ie,F)},get time(){return iu(z)},set time(ie){ie=Mh(ie),z=ie,S!==null||!y||p===0?S=ie:P=y.now()-ie/p},get duration(){const ie=A.calculatedDuration===null?uD(A):A.calculatedDuration;return iu(ie)},get speed(){return p},set speed(ie){ie===p||!y||(p=ie,te.time=iu(z))},get state(){return N},play:H,pause:()=>{N="paused",S=z},stop:()=>{m=!0,N!=="idle"&&(N="idle",c&&c(),K())},cancel:()=>{R!==null&&J(R),K()},complete:()=>{N="finished"},sample:ie=>(P=0,J(ie))};return te}function Phe(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ihe=Phe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ohe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),M2=10,khe=2e4,jhe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Lq(e.ease);function Rhe(t,e,{onUpdate:r,onComplete:n,...i}){if(!(Ihe()&&Ohe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,c=!1;const u=()=>{l=new Promise(w=>{s=w})};u();let{keyframes:f,duration:h=300,ease:p,times:m}=i;if(jhe(e,i)){const w=Wb({...i,repeat:0,delay:0});let C={done:!1,value:f[0]};const A=[];let O=0;for(;!C.done&&O<khe;)C=w.sample(O),A.push(C.value),O+=M2;m=void 0,f=A,h=O-M2,p="linear"}const g=zfe(t.owner.current,e,f,{...i,duration:h,ease:p,times:m}),x=()=>{c=!1,g.cancel()},v=()=>{c=!0,on.update(x),s(),u()};return g.onfinish=()=>{c||(t.set(Hfe(f,i)),n&&n(),v())},{then(w,C){return l.then(w,C)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Kn},get time(){return iu(g.currentTime||0)},set time(w){g.currentTime=Mh(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return iu(h)},play:()=>{o||(g.play(),vu(x))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const C=Wb({...i,autoplay:!1});t.setWithVelocity(C.sample(w-M2).value,C.sample(w).value,M2)}v()},complete:()=>{c||g.finish()},cancel:v}}function Dhe({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Kn,pause:Kn,stop:Kn,then:a=>(a(),Promise.resolve()),cancel:Kn,complete:Kn});return e?Wb({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Mhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Lhe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fhe={type:"keyframes",duration:.8},Bhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$he=(t,{keyframes:e})=>e.length>2?Fhe:gp.has(t)?t.startsWith("scale")?Lhe(e[1]):Mhe:Bhe,eN=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(uf.test(e)||e==="0")&&!e.startsWith("url(")),Uhe=new Set(["brightness","contrast","saturate","opacity"]);function Vhe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(fS)||[];if(!n)return t;const i=r.replace(n,"");let a=Uhe.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const zhe=/([a-z-]*)\(.*?\)/g,tN={...uf,getAnimatableNone:t=>{const e=t.match(zhe);return e?e.map(Vhe).join(" "):t}},Hhe={...wq,color:Wa,backgroundColor:Wa,outlineColor:Wa,fill:Wa,stroke:Wa,borderColor:Wa,borderTopColor:Wa,borderRightColor:Wa,borderBottomColor:Wa,borderLeftColor:Wa,filter:tN,WebkitFilter:tN},PO=t=>Hhe[t];function sW(t,e){let r=PO(t);return r!==tN&&(r=uf),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const lW=t=>/^0[^.\s]+$/.test(t);function qhe(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||lW(t)}function Whe(t,e,r,n){const i=eN(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?o:a[c-1]),qhe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++){const u=l[c];a[u]=sW(e,s)}return a}function Ghe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function IO(t,e){return t[e]||t.default||t}const Khe={skipAnimations:!1},OO=(t,e,r,n={})=>i=>{const a=IO(n,t)||{},o=a.delay||n.delay||0;let{elapsed:s=0}=n;s=s-Mh(o);const l=Whe(e,t,r,a),c=l[0],u=l[l.length-1],f=eN(t,c),h=eN(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Ghe(a)||(p={...p,...$he(t,p)}),p.duration&&(p.duration=Mh(p.duration)),p.repeatDelay&&(p.repeatDelay=Mh(p.repeatDelay)),!f||!h||Vfe.current||a.type===!1||Khe.skipAnimations)return Dhe(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=Rhe(e,t,p);if(m)return m}return Wb(p)};function Gb(t){return!!(So(t)&&t.add)}const cW=t=>/^\-?\d*\.?\d+$/.test(t);function kO(t,e){t.indexOf(e)===-1&&t.push(e)}function jO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class RO{constructor(){this.subscriptions=[]}add(e){return kO(this.subscriptions,e),()=>jO(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yhe=t=>!isNaN(parseFloat(t));class Xhe{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=ba;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,on.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>on.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Yhe(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new RO);const n=this.events[e].add(r);return e==="change"?()=>{n(),on.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?iW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function C0(t,e){return new Xhe(t,e)}const uW=t=>e=>e.test(t),Qhe={test:t=>t==="auto",parse:t=>t},dW=[vp,Lt,ic,vd,ife,nfe,Qhe],S1=t=>dW.find(uW(t)),Zhe=[...dW,Wa,uf],Jhe=t=>Zhe.find(uW(t));function epe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,C0(r))}function tpe(t,e){const r=pS(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const s=yfe(a[o]);epe(t,o,s)}}function rpe(t,e,r){var n,i;const a=Object.keys(e).filter(s=>!t.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(cW(u)||lW(u))?u=parseFloat(u):!Jhe(u)&&uf.test(c)&&(u=sW(l,c)),t.addValue(l,C0(u,{owner:t})),r[l]===void 0&&(r[l]=u),u!==null&&t.setBaseTarget(l,u))}}function npe(t,e){return e?(e[t]||e.default||e).from:void 0}function ipe(t,e,r){const n={};for(const i in t){const a=npe(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function ape({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ope(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function fW(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(a=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f),p=s[f];if(!h||p===void 0||u&&ape(u,f))continue;const m={delay:r,elapsed:0,...IO(a||{},f)};if(window.HandoffAppearAnimations){const v=t.getProps()[hq];if(v){const y=window.HandoffAppearAnimations(v,f,h,on);y!==null&&(m.elapsed=y,m.isHandoff=!0)}}let g=!m.isHandoff&&!ope(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(OO(f,h,p,t.shouldReduceMotion&&gp.has(f)?{type:!1}:m));const x=h.animation;Gb(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&tpe(t,o)}),c}function rN(t,e,r={}){const n=pS(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(fW(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return spe(t,e,c+l,u,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(r.delay)])}function spe(t,e,r=0,n=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>s-c*n;return Array.from(t.variantChildren).sort(lpe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(rN(c,e,{...a,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function lpe(t,e){return t.sortNodePosition(e)}function cpe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>rN(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=rN(t,e,r);else{const i=typeof e=="function"?pS(t,e,r.custom):e;n=Promise.all(fW(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const upe=[...mO].reverse(),dpe=mO.length;function fpe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>cpe(t,r,n)))}function hpe(t){let e=fpe(t);const r=mpe();let n=!0;const i=(l,c)=>{const u=pS(t,c);if(u){const{transition:f,transitionEnd:h,...p}=u;l={...l,...p,...h}}return l};function a(l){e=l(t)}function o(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let v=0;v<dpe;v++){const y=upe[v],w=r[y],C=u[y]!==void 0?u[y]:f[y],A=ry(C),O=y===c?w.isActive:null;O===!1&&(g=v);let N=C===f[y]&&C!==u[y]&&A;if(N&&n&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&O===null||!C&&!w.prevProp||uS(C)||typeof C=="boolean")continue;let P=ppe(w.prevProp,C)||y===c&&w.isActive&&!N&&A||v>g&&A,R=!1;const I=Array.isArray(C)?C:[C];let k=I.reduce(i,{});O===!1&&(k={});const{prevResolvedValues:D={}}=w,z={...D,...k},J=U=>{P=!0,p.has(U)&&(R=!0,p.delete(U)),w.needsAnimating[U]=!0};for(const U in z){const K=k[U],$=D[U];if(m.hasOwnProperty(U))continue;let H=!1;zb(K)&&zb($)?H=!Dq(K,$):H=K!==$,H?K!==void 0?J(U):p.add(U):K!==void 0&&p.has(U)?J(U):w.protectedKeys[U]=!0}w.prevProp=C,w.prevResolvedValues=k,w.isActive&&(m={...m,...k}),n&&t.blockInitialAnimation&&(P=!1),P&&(!N||R)&&h.push(...I.map(U=>({animation:U,options:{type:y,...l}})))}if(p.size){const v={};p.forEach(y=>{const w=t.getBaseTarget(y);w!==void 0&&(v[y]=w)}),h.push({animation:v})}let x=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(h):Promise.resolve()}function s(l,c,u){var f;if(r[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),r[l].isActive=c;const h=o(u,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r}}function ppe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dq(e,t):!1}function ah(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mpe(){return{animate:ah(!0),whileInView:ah(),whileHover:ah(),whileTap:ah(),whileDrag:ah(),whileFocus:ah(),exit:ah()}}class gpe extends Ef{constructor(e){super(e),e.animationState||(e.animationState=hpe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),uS(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let vpe=0;class ype extends Ef{constructor(){super(...arguments),this.id=vpe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xpe={animation:{Feature:gpe},exit:{Feature:ype}},dD=(t,e)=>Math.abs(t-e);function wpe(t,e){const r=dD(t.x,e.x),n=dD(t.y,e.y);return Math.sqrt(r**2+n**2)}class hW{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=YE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=wpe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=ba;this.history.push({...m,timestamp:g});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=KE(h,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=YE(f.type==="pointercancel"?this.lastMoveEventInfo:KE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),m&&m(f,x)},!Iq(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=hS(e),s=KE(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ba;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(e,YE(s,this.history)),this.removeListeners=Kd(nu(this.contextWindow,"pointermove",this.handlePointerMove),nu(this.contextWindow,"pointerup",this.handlePointerUp),nu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vu(this.updatePoint)}}function KE(t,e){return e?{point:e(t.point)}:t}function fD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function YE({point:t},e){return{point:t,delta:fD(t,pW(e)),offset:fD(t,bpe(e)),velocity:_pe(e,.1)}}function bpe(t){return t[0]}function pW(t){return t[t.length-1]}function _pe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=pW(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Mh(e)));)r--;if(!n)return{x:0,y:0};const a=iu(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zo(t){return t.max-t.min}function nN(t,e=0,r=.01){return Math.abs(t-e)<=r}function hD(t,e,r,n=.5){t.origin=n,t.originPoint=En(e.min,e.max,t.origin),t.scale=Zo(r)/Zo(e),(nN(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=En(r.min,r.max,t.origin)-t.originPoint,(nN(t.translate)||isNaN(t.translate))&&(t.translate=0)}function yv(t,e,r,n){hD(t.x,e.x,r.x,n?n.originX:void 0),hD(t.y,e.y,r.y,n?n.originY:void 0)}function pD(t,e,r){t.min=r.min+e.min,t.max=t.min+Zo(e)}function Spe(t,e,r){pD(t.x,e.x,r.x),pD(t.y,e.y,r.y)}function mD(t,e,r){t.min=e.min-r.min,t.max=t.min+Zo(e)}function xv(t,e,r){mD(t.x,e.x,r.x),mD(t.y,e.y,r.y)}function Ape(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?En(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?En(r,t,n.max):Math.min(t,r)),t}function gD(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Epe(t,{top:e,left:r,bottom:n,right:i}){return{x:gD(t.x,r,i),y:gD(t.y,e,n)}}function vD(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Cpe(t,e){return{x:vD(t.x,e.x),y:vD(t.y,e.y)}}function Npe(t,e){let r=.5;const n=Zo(t),i=Zo(e);return i>n?r=iy(e.min,e.max-n,t.min):n>i&&(r=iy(t.min,t.max-i,e.min)),cf(0,1,r)}function Tpe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const iN=.35;function Ppe(t=iN){return t===!1?t=0:t===!0&&(t=iN),{x:yD(t,"left","right"),y:yD(t,"top","bottom")}}function yD(t,e,r){return{min:xD(t,e),max:xD(t,r)}}function xD(t,e){return typeof t=="number"?t:t[e]||0}const wD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rm=()=>({x:wD(),y:wD()}),bD=()=>({min:0,max:0}),ii=()=>({x:bD(),y:bD()});function gs(t){return[t("x"),t("y")]}function mW({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Ipe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ope(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function XE(t){return t===void 0||t===1}function aN({scale:t,scaleX:e,scaleY:r}){return!XE(t)||!XE(e)||!XE(r)}function fh(t){return aN(t)||gW(t)||t.z||t.rotate||t.rotateX||t.rotateY}function gW(t){return _D(t.x)||_D(t.y)}function _D(t){return t&&t!=="0%"}function Kb(t,e,r){const n=t-r,i=e*n;return r+i}function SD(t,e,r,n,i){return i!==void 0&&(t=Kb(t,i,n)),Kb(t,r,n)+e}function oN(t,e=0,r=1,n,i){t.min=SD(t.min,e,r,n,i),t.max=SD(t.max,e,r,n,i)}function vW(t,{x:e,y:r}){oN(t.x,e.translate,e.scale,e.originPoint),oN(t.y,r.translate,r.scale,r.originPoint)}function kpe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Dm(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,vW(t,o)),n&&fh(a.latestValues)&&Dm(t,a.latestValues))}e.x=AD(e.x),e.y=AD(e.y)}function AD(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function bd(t,e){t.min=t.min+e,t.max=t.max+e}function ED(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=En(t.min,t.max,a);oN(t,e[r],e[n],o,e.scale)}const jpe=["x","scaleX","originX"],Rpe=["y","scaleY","originY"];function Dm(t,e){ED(t.x,e,jpe),ED(t.y,e,Rpe)}function yW(t,e){return mW(Ope(t.getBoundingClientRect(),e))}function Dpe(t,e,r){const n=yW(t,r),{scroll:i}=e;return i&&(bd(n.x,i.offset.x),bd(n.y,i.offset.y)),n}const xW=({current:t})=>t?t.ownerDocument.defaultView:null,Mpe=new WeakMap;class Lpe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ii(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(hS(u,"page").point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kq(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(x=>{let v=this.getAxisMotionValue(x).get()||0;if(ic.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[x];w&&(v=Zo(w)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&on.update(()=>m(u,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=Fpe(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),g&&g(u,f)},s=(u,f)=>this.stop(u,f),l=()=>gs(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new hW(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xW(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&on.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!L2(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Ape(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&km(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Epe(i.layoutBox,r):this.constraints=!1,this.elastic=Ppe(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Tpe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!km(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Dpe(n,i.root,this.visualElement.getTransformPagePoint());let o=Cpe(i.layout.layoutBox,a);if(r){const s=r(Ipe(o));this.hasMutatedConstraints=!!s,s&&(o=mW(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=gs(u=>{if(!L2(u,r,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(OO(e,n,0,r))}stopAnimation(){gs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gs(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gs(r=>{const{drag:n}=this.getProps();if(!L2(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-En(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!km(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gs(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=Npe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gs(o=>{if(!L2(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(En(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Mpe.set(this.visualElement,this);const e=this.visualElement.current,r=nu(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();km(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Xc(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(gs(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=iN,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function L2(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Fpe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Bpe extends Ef{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new Lpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const CD=t=>(e,r)=>{t&&on.update(()=>t(e,r))};class $pe extends Ef{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new hW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:CD(e),onStart:CD(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&on.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=nu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Upe(){const t=E.useContext(lS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=E.useId();return E.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const $w={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ND(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const A1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Lt.test(t))t=parseFloat(t);else return t;const r=ND(t,e.target.x),n=ND(t,e.target.y);return`${r}% ${n}%`}},Vpe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=uf.parse(t);if(i.length>5)return n;const a=uf.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=En(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class zpe extends he.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;Xde(Hpe),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$w.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||on.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wW(t){const[e,r]=Upe(),n=E.useContext(vO);return he.createElement(zpe,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(mq),isPresent:e,safeToRemove:r})}const Hpe={borderRadius:{...A1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:A1,borderTopRightRadius:A1,borderBottomLeftRadius:A1,borderBottomRightRadius:A1,boxShadow:Vpe},bW=["TopLeft","TopRight","BottomLeft","BottomRight"],qpe=bW.length,TD=t=>typeof t=="string"?parseFloat(t):t,PD=t=>typeof t=="number"||Lt.test(t);function Wpe(t,e,r,n,i,a){i?(t.opacity=En(0,r.opacity!==void 0?r.opacity:1,Gpe(n)),t.opacityExit=En(e.opacity!==void 0?e.opacity:1,0,Kpe(n))):a&&(t.opacity=En(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<qpe;o++){const s=`border${bW[o]}Radius`;let l=ID(e,s),c=ID(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PD(l)===PD(c)?(t[s]=Math.max(En(TD(l),TD(c),n),0),(ic.test(c)||ic.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||r.rotate)&&(t.rotate=En(e.rotate||0,r.rotate||0,n))}function ID(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Gpe=_W(0,.5,Hq),Kpe=_W(.5,.95,Kn);function _W(t,e,r){return n=>n<t?0:n>e?1:r(iy(t,e,n))}function OD(t,e){t.min=e.min,t.max=e.max}function hs(t,e){OD(t.x,e.x),OD(t.y,e.y)}function kD(t,e,r,n,i){return t-=e,t=Kb(t,1/r,n),i!==void 0&&(t=Kb(t,1/i,n)),t}function Ype(t,e=0,r=1,n=.5,i,a=t,o=t){if(ic.test(e)&&(e=parseFloat(e),e=En(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=En(a.min,a.max,n);t===a&&(s-=e),t.min=kD(t.min,e,r,s,i),t.max=kD(t.max,e,r,s,i)}function jD(t,e,[r,n,i],a,o){Ype(t,e[r],e[n],e[i],e.scale,a,o)}const Xpe=["x","scaleX","originX"],Qpe=["y","scaleY","originY"];function RD(t,e,r,n){jD(t.x,e,Xpe,r?r.x:void 0,n?n.x:void 0),jD(t.y,e,Qpe,r?r.y:void 0,n?n.y:void 0)}function DD(t){return t.translate===0&&t.scale===1}function SW(t){return DD(t.x)&&DD(t.y)}function Zpe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function AW(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function MD(t){return Zo(t.x)/Zo(t.y)}class Jpe{constructor(){this.members=[]}add(e){kO(this.members,e),e.scheduleRender()}remove(e){if(jO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LD(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:c,rotateY:u}=r;l&&(n+=`rotate(${l}deg) `),c&&(n+=`rotateX(${c}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const eme=(t,e)=>t.depth-e.depth;class tme{constructor(){this.children=[],this.isDirty=!1}add(e){kO(this.children,e),this.isDirty=!0}remove(e){jO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eme),this.isDirty=!1,this.children.forEach(e)}}function rme(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(vu(n),t(a-e))};return on.read(n,!0),()=>vu(n)}function nme(t){window.MotionDebug&&window.MotionDebug.record(t)}function ime(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ame(t,e,r){const n=So(t)?t:C0(t);return n.start(OO("",n,e,r)),n.animation}const FD=["","X","Y","Z"],ome={visibility:"hidden"},BD=1e3;let sme=0;const hh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function EW({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=sme++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hh.totalNodes=hh.resolvedTargetDeltas=hh.recalculatedProjection=0,this.nodes.forEach(ume),this.nodes.forEach(mme),this.nodes.forEach(gme),this.nodes.forEach(dme),nme(hh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tme)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RO),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ime(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rme(h,250),$w.hasAnimatedSinceResize&&($w.hasAnimatedSinceResize=!1,this.nodes.forEach(UD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||bme,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!AW(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...IO(g,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||UD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vme),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($D);return}this.isUpdating||this.nodes.forEach(hme),this.isUpdating=!1,this.nodes.forEach(pme),this.nodes.forEach(lme),this.nodes.forEach(cme),this.clearAllSnapshots();const s=performance.now();ba.delta=cf(0,1e3/60,s-ba.timestamp),ba.timestamp=s,ba.isProcessing=!0,UE.update.process(ba),UE.preRender.process(ba),UE.render.process(ba),ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fme),this.sharedNodes.forEach(yme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!SW(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(s||fh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),_me(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ii();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bd(s.x,l.offset.x),bd(s.y,l.offset.y)),s}removeElementScroll(o){const s=ii();hs(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){hs(s,o);const{scroll:h}=this.root;h&&(bd(s.x,-h.offset.x),bd(s.y,-h.offset.y))}bd(s.x,u.offset.x),bd(s.y,u.offset.y)}}return s}applyTransform(o,s=!1){const l=ii();hs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Dm(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fh(u.latestValues)&&Dm(l,u.latestValues)}return fh(this.latestValues)&&Dm(l,this.latestValues),l}removeTransform(o){const s=ii();hs(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fh(c.latestValues))continue;aN(c.latestValues)&&c.updateSnapshot();const u=ii(),f=c.measurePageBox();hs(u,f),RD(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return fh(this.latestValues)&&RD(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ba.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),xv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ii(),this.targetWithTransforms=ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Spe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),vW(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),xv(this.relativeTargetOrigin,this.target,p.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||aN(this.parent.latestValues)||gW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ba.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;hs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;kpe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=Rm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Rm(),this.projectionDeltaWithTransform=Rm());const g=this.projectionTransform;yv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=LD(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),hh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Rm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=ii(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,x=this.getStack(),v=!x||x.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(wme));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const A=C/1e3;VD(f.x,o.x,A),VD(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xme(this.relativeTarget,this.relativeTargetOrigin,h,A),w&&Zpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ii()),hs(w,this.relativeTarget)),g&&(this.animationValues=u,Wpe(u,c,this.latestValues,A,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{$w.hasAnimatedSinceResize=!0,this.currentAnimation=ame(0,BD,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&CW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ii();const f=Zo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Zo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}hs(s,l),Dm(s,u),yv(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jpe),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const c={};for(let u=0;u<FD.length;u++){const f="rotate"+FD[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ome;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Bw(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Bw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fh(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=LD(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Ub){if(h[g]===void 0)continue;const{correct:x,applyTo:v}=Ub[g],y=c.transform==="none"?h[g]:x(h[g],f);if(v){const w=v.length;for(let C=0;C<w;C++)c[v[C]]=y}else c[g]=y}return this.options.layoutId&&(c.pointerEvents=f===this?Bw(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach($D),this.root.sharedNodes.clear()}}}function lme(t){t.updateLayout()}function cme(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Zo(h);h.min=n[f].min,h.max=h.min+p}):CW(a,r.layoutBox,n)&&gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Zo(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=Rm();yv(s,n,r.layoutBox);const l=Rm();o?yv(l,t.applyTransform(i,!0),r.measuredBox):yv(l,n,r.layoutBox);const c=!SW(s);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=ii();xv(m,r.layoutBox,h.layoutBox);const g=ii();xv(g,n,p.layoutBox),AW(m,g)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function ume(t){hh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fme(t){t.clearSnapshot()}function $D(t){t.clearMeasurements()}function hme(t){t.isLayoutDirty=!1}function pme(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function UD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mme(t){t.resolveTargetDelta()}function gme(t){t.calcProjection()}function vme(t){t.resetRotation()}function yme(t){t.removeLeadSnapshot()}function VD(t,e,r){t.translate=En(e.translate,0,r),t.scale=En(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function zD(t,e,r,n){t.min=En(e.min,r.min,n),t.max=En(e.max,r.max,n)}function xme(t,e,r,n){zD(t.x,e.x,r.x,n),zD(t.y,e.y,r.y,n)}function wme(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bme={duration:.45,ease:[.4,0,.1,1]},HD=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),qD=HD("applewebkit/")&&!HD("chrome/")?Math.round:Kn;function WD(t){t.min=qD(t.min),t.max=qD(t.max)}function _me(t){WD(t.x),WD(t.y)}function CW(t,e,r){return t==="position"||t==="preserve-aspect"&&!nN(MD(e),MD(r),.2)}const Sme=EW({attachResizeListener:(t,e)=>Xc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QE={current:void 0},NW=EW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!QE.current){const t=new Sme({});t.mount(window),t.setOptions({layoutScroll:!0}),QE.current=t}return QE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ame={pan:{Feature:$pe},drag:{Feature:Bpe,ProjectionNode:NW,MeasureLayout:wW}},Eme=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Cme(t){const e=Eme.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function sN(t,e,r=1){const[n,i]=Cme(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return cW(o)?parseFloat(o):o}else return X4(i)?sN(i,e,r+1):i}function Nme(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!X4(a))return;const o=sN(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!X4(a))continue;const o=sN(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const Tme=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TW=t=>Tme.has(t),Pme=t=>Object.keys(t).some(TW),GD=t=>t===vp||t===Lt,KD=(t,e)=>parseFloat(t.split(", ")[e]),YD=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return KD(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?KD(a[1],t):0}},Ime=new Set(["x","y","z"]),Ome=fx.filter(t=>!Ime.has(t));function kme(t){const e=[];return Ome.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const N0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:YD(4,13),y:YD(5,14)};N0.translateX=N0.x;N0.translateY=N0.y;const jme=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(c=>{s[c]=N0[c](n,a)}),e.render();const l=e.measureViewportBox();return r.forEach(c=>{const u=e.getValue(c);u&&u.jump(s[c]),t[c]=N0[c](l,a)}),t},Rme=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(TW);let a=[],o=!1;const s=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=r[l],f=S1(u);const h=e[l];let p;if(zb(h)){const m=h.length,g=h[0]===null?1:0;u=h[g],f=S1(u);for(let x=g;x<m&&h[x]!==null;x++)p?EO(S1(h[x])===p):p=S1(h[x])}else p=S1(h);if(f!==p)if(GD(f)&&GD(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Lt&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(h):(o||(a=kme(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],c.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=jme(e,t,s);return a.length&&a.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),cS&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function Dme(t,e,r,n){return Pme(e)?Rme(t,e,r,n):{target:e,transitionEnd:n}}const Mme=(t,e,r,n)=>{const i=Nme(t,e,n);return e=i.target,n=i.transitionEnd,Dme(t,e,r,n)},lN={current:null},PW={current:!1};function Lme(){if(PW.current=!0,!!cS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lN.current=t.matches;t.addListener(e),e()}else lN.current=!1}function Fme(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(So(a))t.addValue(i,a),Gb(n)&&n.add(i);else if(So(o))t.addValue(i,C0(a,{owner:t})),Gb(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=t.getStaticValue(i);t.addValue(i,C0(s!==void 0?s:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const XD=new WeakMap,IW=Object.keys(ny),Bme=IW.length,QD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$me=gO.length;class Ume{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>on.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=dS(r),this.isVariantNode=pq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{});for(const f in u){const h=u[f];s[f]!==void 0&&So(h)&&(h.set(s[f],!1),Gb(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,XD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),PW.current||Lme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){XD.delete(this.current),this.projection&&this.projection.unmount(),vu(this.notifyUpdate),vu(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=gp.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&on.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,s;for(let l=0;l<Bme;l++){const c=IW[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:p}=ny[c];h&&(o=h),u(r)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&km(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ii()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<QD.length;n++){const i=QD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Fme(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<$me;n++){const i=gO[n],a=this.props[i];(ry(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=C0(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=AO(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!So(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new RO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class OW extends Ume{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=ipe(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){rpe(this,n,o);const s=Mme(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function Vme(t){return window.getComputedStyle(t)}class zme extends OW{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(gp.has(r)){const n=PO(r);return n&&n.default||0}else{const n=Vme(e),i=(yq(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return yW(e,r)}build(e,r,n,i){xO(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return SO(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;So(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){Aq(e,r,n,i)}}class Hme extends OW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(gp.has(r)){const n=PO(r);return n&&n.default||0}return r=Eq.has(r)?r:pO(r),e.getAttribute(r)}measureInstanceViewportBox(){return ii()}scrapeMotionValuesFromProps(e,r){return Nq(e,r)}build(e,r,n,i){bO(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){Cq(e,r,n,i)}mount(e){this.isSVGTag=_O(e.tagName),super.mount(e)}}const qme=(t,e)=>yO(t)?new Hme(e,{enableHardwareAcceleration:!1}):new zme(e,{enableHardwareAcceleration:!0}),Wme={layout:{ProjectionNode:NW,MeasureLayout:wW}},Gme={...xpe,...Bfe,...Ame,...Wme},ot=Kde((t,e)=>Cfe(t,e,Gme,qme));function kW(){const t=E.useRef(!1);return hO(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Kme(){const t=kW(),[e,r]=E.useState(0),n=E.useCallback(()=>{t.current&&r(e+1)},[e]);return[E.useCallback(()=>on.postRender(n),[n]),e]}class Yme extends E.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xme({children:t,isPresent:e}){const r=E.useId(),n=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(Yme,{isPresent:e,childRef:n,sizeRef:i},E.cloneElement(t,{ref:n}))}const ZE=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=Tq(Qme),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:u=>{s.set(u,!0);for(const f of s.values())if(!f)return;n&&n()},register:u=>(s.set(u,!1),()=>s.delete(u))}),a?void 0:[r]);return E.useMemo(()=>{s.forEach((u,f)=>s.set(f,!1))},[r]),E.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(t=E.createElement(Xme,{isPresent:r},t)),E.createElement(lS.Provider,{value:c},t)};function Qme(){return new Map}function Zme(t){return E.useEffect(()=>()=>t(),[])}const ph=t=>t.key||"";function Jme(t,e){t.forEach(r=>{const n=ph(r);e.set(n,r)})}function e0e(t){const e=[];return E.Children.forEach(t,r=>{E.isValidElement(r)&&e.push(r)}),e}const Ka=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=E.useContext(vO).forceRender||Kme()[0],l=kW(),c=e0e(t);let u=c;const f=E.useRef(new Map).current,h=E.useRef(u),p=E.useRef(new Map).current,m=E.useRef(!0);if(hO(()=>{m.current=!1,Jme(c,p),h.current=u}),Zme(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return E.createElement(E.Fragment,null,u.map(y=>E.createElement(ZE,{key:ph(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},y)));u=[...u];const g=h.current.map(ph),x=c.map(ph),v=g.length;for(let y=0;y<v;y++){const w=g[y];x.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(u=[]),f.forEach((y,w)=>{if(x.indexOf(w)!==-1)return;const C=p.get(w);if(!C)return;const A=g.indexOf(w);let O=y;if(!O){const N=()=>{f.delete(w);const S=Array.from(p.keys()).filter(P=>!x.includes(P));if(S.forEach(P=>p.delete(P)),h.current=c.filter(P=>{const R=ph(P);return R===w||S.includes(R)}),!f.size){if(l.current===!1)return;s(),n&&n()}};O=E.createElement(ZE,{key:ph(C),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:a,mode:o},C),f.set(w,O)}u.splice(A,0,O)}),u=u.map(y=>{const w=y.key;return f.has(w)?y:E.createElement(ZE,{key:ph(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),E.createElement(E.Fragment,null,f.size?u:u.map(y=>E.cloneElement(y)))},t0e=()=>{const t=xc(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return d.jsxs("div",{className:"min-h-screen overflow-x-hidden w-full",children:[d.jsx("section",{className:"w-full pt-12 md:pt-16 pb-16 md:pb-24 bg-gradient-to-b from-blue-500/10 via-green-500/10 to-blue-500/10 dark:from-blue-900/30 dark:via-green-900/30 dark:to-blue-900/30",children:d.jsx("div",{className:"w-full px-[5vw] md:px-[8vw] lg:px-[10vw]",children:d.jsxs(ot.div,{className:"max-w-xl md:max-w-3xl lg:max-w-4xl mx-auto text-center",initial:"hidden",animate:"visible",variants:e,children:[d.jsx(ot.h1,{className:"text-4xl md:text-5xl font-bold tracking-tight mb-4 md:mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",variants:r,children:"TaskaLoop"}),d.jsx(ot.p,{className:"text-xl md:text-2xl mb-8 md:mb-10 text-gray-700 dark:text-gray-200",variants:r,children:"Simplify household tasks, shopping trips, and expense sharing"}),d.jsx(ot.div,{className:"flex justify-center mb-10 md:mb-14",variants:r,children:d.jsx("div",{className:"w-full max-w-sm md:max-w-md px-6 md:px-8 py-8 md:py-10 bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-100 dark:border-gray-700",children:d.jsxs("div",{className:"space-y-5 md:space-y-6",children:[d.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[d.jsx("div",{className:"mt-1 bg-gradient-to-r from-blue-500 to-green-500 p-2.5 md:p-3 rounded-full shadow-md",children:d.jsx(Xr,{className:"h-4 w-4 md:h-5 md:w-5 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-base md:text-lg",children:"Rachel is heading to Trader Joe's"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ETA: 20 minutes"})]})]}),d.jsx("div",{className:"pl-10 md:pl-14",children:d.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 md:p-4 border border-gray-200 dark:border-gray-600 shadow-sm",children:[d.jsx("p",{className:"font-medium mb-2",children:"Need anything?"}),d.jsxs("div",{className:"flex justify-start space-x-2 md:space-x-3",children:[d.jsx(De,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0 text-xs md:text-sm px-2 md:px-3",children:"Add Items"}),d.jsx(De,{size:"sm",variant:"outline",className:"bg-white dark:bg-gray-800 text-xs md:text-sm px-2 md:px-3",children:"No Thanks"})]})]})})]})})}),d.jsx(ot.div,{variants:r,children:d.jsxs(De,{onClick:()=>t("/home"),size:"lg",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white text-base md:text-lg px-6 md:px-8 py-5 md:py-6 h-auto rounded-full shadow-lg",children:["Get Started",d.jsx(I4,{className:"ml-2 h-4 w-4 md:h-5 md:w-5"})]})})]})})}),d.jsx("section",{className:"w-full py-16 md:py-20 bg-gradient-to-br from-blue-500/20 via-green-500/20 to-blue-500/20 dark:from-blue-900/30 dark:via-green-900/30 dark:to-blue-900/30",children:d.jsxs("div",{className:"w-full px-[5vw] md:px-[8vw] lg:px-[10vw]",children:[d.jsx("h2",{className:"text-center mb-12 md:mb-16 text-[clamp(1.875rem,4vw,3rem)] md:text-[clamp(2.25rem,5vw,3.75rem)] font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"All Features in One Place"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:[d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(Xr,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Shopping Trips"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Create, share and manage shopping trips with your household members."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Create shopping trips to specific stores"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Track item quantities, prices, and status"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Reactivate completed trips for repeat shopping"})]})]})]})}),d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.1},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(S0,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Cost Splitting"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Fair and transparent expense sharing with automatic ledger updates."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Split costs equally, by percentage, or custom amounts"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Track who paid for what and who owes whom"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Settlement transactions logged in shared ledger"})]})]})]})}),d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.2},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(Hse,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Scan & Track"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Digitize your shopping with quick scanning tools."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Scan product barcodes to add items quickly"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Receipt scanning to capture all purchases"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Detect duplicate items and prevent double-buying"})]})]})]})}),d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.3},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(_0,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Map Integration"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Location-based features for better shopping planning."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Find nearby stores and view on an interactive map"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Optimize shopping routes for multiple stops"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Get precise distance and travel-time estimates"})]})]})]})}),d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.4},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(YI,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Price Tracking"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Never overpay for household items again."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Track prices across different stores"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Compare prices to find the best deals"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"View price history for common purchases"})]})]})]})}),d.jsx(ot.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 h-full overflow-hidden",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.5},viewport:{once:!0},children:d.jsxs("div",{className:"p-6 md:p-8",children:[d.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 mb-6 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center shadow-md",children:d.jsx(cH,{className:"h-7 w-7 md:h-8 md:w-8 text-white"})}),d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-3",children:"Task Management"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Coordinate household responsibilities seamlessly."}),d.jsxs("ul",{className:"space-y-3",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Create and assign tasks with priorities"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Set due dates and get reminders"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx($r,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Track completion and rotation schedules"})]})]})]})})]})]})}),d.jsx("section",{className:"w-full py-12 md:py-16 bg-gradient-to-br from-green-500/20 via-blue-500/20 to-green-500/20 dark:from-green-800/30 dark:via-blue-800/30 dark:to-green-800/30",children:d.jsxs("div",{className:"w-full px-[5vw] md:px-[8vw] lg:px-[10vw]",children:[d.jsx("h2",{className:"text-center mb-8 md:mb-12 text-2xl md:text-3xl font-bold",children:"More Great Features"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:[d.jsxs("div",{className:"text-center bg-white/90 dark:bg-gray-800/90 p-4 md:p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 mx-auto mb-3 md:mb-4 bg-gradient-to-r from-blue-500/20 to-green-500/20 dark:from-blue-900/30 dark:to-green-900/30 rounded-full flex items-center justify-center",children:d.jsx(KI,{className:"h-6 w-6 md:h-7 md:w-7 text-blue-600 dark:text-blue-400"})}),d.jsx("p",{className:"font-medium",children:"Dark Mode"})]}),d.jsxs("div",{className:"text-center bg-white/90 dark:bg-gray-800/90 p-4 md:p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 mx-auto mb-3 md:mb-4 bg-gradient-to-r from-blue-500/20 to-green-500/20 dark:from-blue-900/30 dark:to-green-900/30 rounded-full flex items-center justify-center",children:d.jsx(Qm,{className:"h-6 w-6 md:h-7 md:w-7 text-blue-600 dark:text-blue-400"})}),d.jsx("p",{className:"font-medium",children:"Multi-User Support"})]}),d.jsxs("div",{className:"text-center bg-white/90 dark:bg-gray-800/90 p-4 md:p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 mx-auto mb-3 md:mb-4 bg-gradient-to-r from-blue-500/20 to-green-500/20 dark:from-blue-900/30 dark:to-green-900/30 rounded-full flex items-center justify-center",children:d.jsx(Zv,{className:"h-6 w-6 md:h-7 md:w-7 text-blue-600 dark:text-blue-400"})}),d.jsx("p",{className:"font-medium",children:"Shared Receipts"})]}),d.jsxs("div",{className:"text-center bg-white/90 dark:bg-gray-800/90 p-4 md:p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 mx-auto mb-3 md:mb-4 bg-gradient-to-r from-blue-500/20 to-green-500/20 dark:from-blue-900/30 dark:to-green-900/30 rounded-full flex items-center justify-center",children:d.jsx(ta,{className:"h-6 w-6 md:h-7 md:w-7 text-blue-600 dark:text-blue-400"})}),d.jsx("p",{className:"font-medium",children:"Real-time Updates"})]})]})]})}),d.jsx("section",{className:"w-full py-14 md:py-20 bg-gradient-to-r from-blue-600 to-green-500 text-white",children:d.jsxs("div",{className:"w-full px-[5vw] md:px-[8vw] lg:px-[10vw] text-center",children:[d.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-4 md:mb-6",children:"Ready to simplify your household management?"}),d.jsx("p",{className:"text-lg md:text-xl mb-8 md:mb-10 text-white/90 max-w-2xl mx-auto",children:"Join TaskaLoop today and start saving time, money, and effort with our comprehensive household coordination platform."}),d.jsxs(De,{onClick:()=>t("/home"),size:"lg",className:"bg-white text-blue-600 hover:bg-white/90 text-base md:text-lg px-6 md:px-8 py-5 md:py-6 h-auto rounded-full shadow-lg",children:["Start Using TaskaLoop Now",d.jsx(I4,{className:"ml-2 h-4 w-4 md:h-5 md:w-5"})]})]})}),d.jsx("footer",{className:"w-full py-10 md:py-12 bg-gradient-to-r from-blue-500/10 to-green-500/10 dark:from-blue-900/30 dark:to-green-900/30",children:d.jsxs("div",{className:"w-full px-[5vw] md:px-[8vw] lg:px-[10vw]",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 md:mb-8",children:[d.jsxs("div",{className:"mb-4 md:mb-0",children:[d.jsx("h3",{className:"text-lg md:text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"TaskaLoop"}),d.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Simplify your household management"})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-0 md:space-x-8",children:[d.jsx("button",{onClick:()=>t("/home"),className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-500",children:"Home"}),d.jsx("button",{onClick:()=>t("/trips"),className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-500",children:"Trips"}),d.jsx("button",{onClick:()=>t("/map"),className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-500",children:"Map"}),d.jsx("button",{onClick:()=>t("/ledger"),className:"text-sm text-gray-600 dark:text-gray-300 hover:text-blue-500",children:"Ledger"})]})]}),d.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 md:pt-8 text-center",children:d.jsx("p",{className:"text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"© 2025 TaskaLoop. All rights reserved."})})]})})]})},r0e=gg("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ring-1 ring-inset",{variants:{variant:{default:"bg-primary-50 text-primary-700 ring-primary-600/20 dark:bg-primary-900/30 dark:text-primary-300 dark:ring-primary-400/20",secondary:"bg-gray-50 text-gray-600 ring-gray-500/10 dark:bg-gray-400/10 dark:text-gray-300 dark:ring-gray-400/20",success:"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-900/30 dark:text-green-300 dark:ring-green-400/30",warning:"bg-amber-50 text-amber-700 ring-amber-600/20 dark:bg-amber-900/30 dark:text-amber-300 dark:ring-amber-400/30",danger:"bg-red-50 text-red-700 ring-red-600/10 dark:bg-red-900/30 dark:text-red-300 dark:ring-red-400/20",info:"bg-blue-50 text-blue-700 ring-blue-600/20 dark:bg-blue-900/30 dark:text-blue-300 dark:ring-blue-400/30",open:"bg-emerald-50 text-emerald-700 ring-emerald-600/20 dark:bg-emerald-900/30 dark:text-emerald-300 dark:ring-emerald-400/30",shopping:"bg-sky-50 text-sky-700 ring-sky-600/20 dark:bg-sky-900/30 dark:text-sky-300 dark:ring-sky-400/30",outline:"bg-transparent ring-1 ring-inset ring-current"}},defaultVariants:{variant:"default"}});function n0e({className:t,variant:e,icon:r,children:n,...i}){return d.jsxs("div",{className:dt(r0e({variant:e}),t),...i,children:[r&&d.jsx("span",{className:"mr-1",children:r}),n]})}const jW=({trip:t,onAddItem:e,onTripClick:r,onDeleteTrip:n,onShareTrip:i,onCompleteTrip:a,onEditTrip:o,onReactivateTrip:s,isPast:l=!1})=>{const{store:c,shopper:u,eta:f,itemCount:h,status:p}=t,[m,g]=E.useState(!1),[x,v]=E.useState(0),[y,w]=E.useState(!1),C=E.useRef(0),A=E.useRef(null),O=80,N=()=>{switch(p){case"open":return"open";case"shopping":return"shopping";case"completed":return"secondary";case"cancelled":return"danger";default:return"secondary"}},S=K=>{C.current=K.touches[0].clientX},P=K=>{if(p==="completed"||p==="cancelled")return;const H=K.touches[0].clientX-C.current;H<0?v(Math.max(H,-80)):v(Math.min(H,O))},R=()=>{p==="completed"||p==="cancelled"||(x<=-80&&n?n():x>=O&&a&&a(),v(0))},I=()=>{g(!0)},k=()=>{g(!1)},D=K=>{if(r){K.preventDefault(),K.stopPropagation();const $=K.target;$.tagName==="BUTTON"||$.closest("button")!==null||$.role==="button"||$.getAttribute("aria-label")!==null||r()}},z=K=>{K.preventDefault(),!(p==="completed"||p==="cancelled")&&e&&(e({name:"New Item",quantity:1,addedBy:{name:"You",avatar:"https://example.com/avatar.jpg"},checked:!1}),navigator.vibrate&&navigator.vibrate(50))},J=K=>{if(A.current){const $=A.current.lastTap||0,H=K.timeStamp;H-$<300&&z(K),A.current.lastTap=H}S(K)},U=K=>{K.stopPropagation(),w(!y),navigator.vibrate&&navigator.vibrate(20)};return d.jsxs("div",{className:"relative",children:[x!==0&&d.jsxs(d.Fragment,{children:[x>0&&d.jsx("div",{className:"swipe-action swipe-action-left",children:d.jsx(dc,{className:"h-5 w-5"})}),x<0&&d.jsx("div",{className:"swipe-action swipe-action-right",children:d.jsx(yg,{className:"h-5 w-5"})})]}),d.jsx(ot.div,{ref:A,className:"premium-card overflow-hidden relative shadow-md dark:shadow-lg",style:{x,touchAction:"pan-y"},onTouchStart:J,onTouchMove:P,onTouchEnd:R,onMouseEnter:I,onMouseLeave:k,onClick:D,onDoubleClick:p!=="completed"&&p!=="cancelled"?e:void 0,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:c}),d.jsxs("div",{className:"flex items-center text-gloop-text-muted dark:text-gloop-dark-text-muted mt-1",children:[d.jsx(pu,{className:"h-3.5 w-3.5 mr-1"}),d.jsx("span",{className:"text-[clamp(0.875rem,2vw,1rem)]",children:u.name}),d.jsx("span",{className:"mx-1.5",children:"•"}),d.jsx(ta,{className:"h-3.5 w-3.5 mr-1"}),d.jsx("span",{className:"text-[clamp(0.875rem,2vw,1rem)]",children:f})]})]}),d.jsx("div",{className:"flex flex-col items-end gap-2",children:d.jsx(n0e,{variant:N(),className:"capitalize",children:p})})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs("div",{className:"flex items-center bg-gloop-accent dark:bg-gloop-dark-accent px-3 py-1.5 rounded-full cursor-pointer hover:bg-gloop-accent/80 transition-colors min-h-[40px]",onClick:K=>{K.stopPropagation(),r&&r()},"aria-label":"View trip items",children:[d.jsx(Xr,{className:"h-4 w-4 mr-2 text-gloop-primary"}),d.jsxs("span",{className:"text-[clamp(0.75rem,1.8vw,0.875rem)] font-medium",children:[h??0," items"]}),d.jsx(vg,{className:"h-4 w-4 ml-1 text-gloop-primary"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(m||y)&&d.jsxs(d.Fragment,{children:[p!=="completed"&&p!=="cancelled"&&d.jsx(ot.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"min-w-[40px] min-h-[40px] p-2 flex items-center justify-center rounded-full bg-gloop-accent/50 hover:bg-gloop-accent dark:bg-gloop-dark-accent/50 dark:hover:bg-gloop-dark-accent",onClick:K=>{K.stopPropagation(),e&&e({name:"New Item",quantity:1,addedBy:{name:"You",avatar:"https://example.com/avatar.jpg"},checked:!1})},"aria-label":"Add item",children:d.jsx(Wd,{className:"h-5 w-5 text-gloop-primary"})}),p!=="completed"&&p!=="cancelled"&&o&&d.jsx(ot.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{delay:.05}},className:"min-w-[40px] min-h-[40px] p-2 flex items-center justify-center rounded-full bg-gloop-accent/50 hover:bg-gloop-accent dark:bg-gloop-dark-accent/50 dark:hover:bg-gloop-dark-accent",onClick:K=>{K.stopPropagation(),o&&o()},"aria-label":"Edit trip",children:d.jsx(Qv,{className:"h-5 w-5 text-gloop-primary"})}),i&&d.jsx(ot.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{delay:.1}},className:"min-w-[40px] min-h-[40px] p-2 flex items-center justify-center rounded-full bg-gloop-accent/50 hover:bg-gloop-accent dark:bg-gloop-dark-accent/50 dark:hover:bg-gloop-dark-accent",onClick:K=>{K.stopPropagation(),i&&i()},"aria-label":"Share trip",children:d.jsx(uH,{className:"h-5 w-5 text-gloop-primary"})})]}),d.jsx(ot.button,{whileTap:{scale:.95},className:"min-w-[40px] min-h-[40px] p-2 flex items-center justify-center rounded-full bg-gloop-accent hover:bg-gloop-accent/80 dark:bg-gloop-dark-accent dark:hover:bg-gloop-dark-accent/80",onClick:U,"aria-label":y?"Hide actions":"Show actions",children:y?d.jsx(Xa,{className:"h-5 w-5 text-gloop-primary"}):d.jsx(ot.span,{animate:{rotate:y?180:0},transition:{duration:.2},className:"text-xs font-medium",children:d.jsx(hp,{className:"h-5 w-5 text-gloop-primary"})})})]})]})]})})]})};var JE="focusScope.autoFocusOnMount",e3="focusScope.autoFocusOnUnmount",ZD={bubbles:!1,cancelable:!0},i0e="FocusScope",gx=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=E.useState(null),c=sa(i),u=sa(a),f=E.useRef(null),h=dr(e,g=>l(g)),p=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let g=function(w){if(p.paused||!s)return;const C=w.target;s.contains(C)?f.current=C:yd(f.current,{select:!0})},x=function(w){if(p.paused||!s)return;const C=w.relatedTarget;C!==null&&(s.contains(C)||yd(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const A of w)A.removedNodes.length>0&&yd(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(v);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[n,s,p.paused]),E.useEffect(()=>{if(s){eM.add(p);const g=document.activeElement;if(!s.contains(g)){const v=new CustomEvent(JE,ZD);s.addEventListener(JE,c),s.dispatchEvent(v),v.defaultPrevented||(a0e(u0e(RW(s)),{select:!0}),document.activeElement===g&&yd(s))}return()=>{s.removeEventListener(JE,c),setTimeout(()=>{const v=new CustomEvent(e3,ZD);s.addEventListener(e3,u),s.dispatchEvent(v),v.defaultPrevented||yd(g??document.body,{select:!0}),s.removeEventListener(e3,u),eM.remove(p)},0)}}},[s,c,u,p]);const m=E.useCallback(g=>{if(!r&&!n||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const y=g.currentTarget,[w,C]=o0e(y);w&&C?!g.shiftKey&&v===C?(g.preventDefault(),r&&yd(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),r&&yd(C,{select:!0})):v===y&&g.preventDefault()}},[r,n,p.paused]);return d.jsx(Nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});gx.displayName=i0e;function a0e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(yd(n,{select:e}),document.activeElement!==r)return}function o0e(t){const e=RW(t),r=JD(e,t),n=JD(e.reverse(),t);return[r,n]}function RW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function JD(t,e){for(const r of t)if(!s0e(r,{upTo:e}))return r}function s0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function l0e(t){return t instanceof HTMLInputElement&&"select"in t}function yd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&l0e(t)&&e&&t.select()}}var eM=c0e();function c0e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=tM(t,e),t.unshift(e)},remove(e){var r;t=tM(t,e),(r=t[0])==null||r.resume()}}}function tM(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function u0e(t){return t.filter(e=>e.tagName!=="A")}var t3=0;function mS(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rM()),document.body.insertAdjacentElement("beforeend",t[1]??rM()),t3++,()=>{t3===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),t3--}},[])}function rM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ql=function(){return Ql=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ql.apply(this,arguments)};function vx(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function d0e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Uw="right-scroll-bar-position",Vw="width-before-scroll-bar",f0e="with-scroll-bars-hidden",h0e="--removed-body-scroll-bar-size";function r3(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function p0e(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var m0e=typeof window<"u"?E.useLayoutEffect:E.useEffect,nM=new WeakMap;function g0e(t,e){var r=p0e(null,function(n){return t.forEach(function(i){return r3(i,n)})});return m0e(function(){var n=nM.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||r3(s,null)}),a.forEach(function(s){i.has(s)||r3(s,o)})}nM.set(r,t)},[t]),r}function v0e(t){return t}function y0e(t,e){e===void 0&&(e=v0e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function x0e(t){t===void 0&&(t={});var e=y0e(null);return e.options=Ql({async:!0,ssr:!1},t),e}var DW=function(t){var e=t.sideCar,r=vx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,Ql({},r))};DW.isSideCarExport=!0;function w0e(t,e){return t.useMedium(e),DW}var MW=x0e(),n3=function(){},gS=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:n3,onWheelCapture:n3,onTouchMoveCapture:n3}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,w=vx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,A=g0e([r,e]),O=Ql(Ql({},w),i);return E.createElement(E.Fragment,null,u&&E.createElement(C,{sideCar:MW,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?E.cloneElement(E.Children.only(s),Ql(Ql({},O),{ref:A})):E.createElement(v,Ql({},O,{className:l,ref:A}),s))});gS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gS.classNames={fullWidth:Vw,zeroRight:Uw};var b0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=b0e();return e&&t.setAttribute("nonce",e),t}function S0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function A0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var E0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=_0e())&&(S0e(e,r),A0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C0e=function(){var t=E0e();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},LW=function(){var t=C0e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},N0e={left:0,top:0,right:0,gap:0},i3=function(t){return parseInt(t||"",10)||0},T0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[i3(r),i3(n),i3(i)]},P0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return N0e;var e=T0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},I0e=LW(),e0="data-scroll-locked",O0e=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(f0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(e0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uw,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Vw,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Uw," .").concat(Uw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Vw," .").concat(Vw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(e0,`] {
    `).concat(h0e,": ").concat(s,`px;
  }
`)},iM=function(){var t=parseInt(document.body.getAttribute(e0)||"0",10);return isFinite(t)?t:0},k0e=function(){E.useEffect(function(){return document.body.setAttribute(e0,(iM()+1).toString()),function(){var t=iM()-1;t<=0?document.body.removeAttribute(e0):document.body.setAttribute(e0,t.toString())}},[])},j0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;k0e();var a=E.useMemo(function(){return P0e(i)},[i]);return E.createElement(I0e,{styles:O0e(a,!e,i,r?"":"!important")})},cN=!1;if(typeof window<"u")try{var F2=Object.defineProperty({},"passive",{get:function(){return cN=!0,!0}});window.addEventListener("test",F2,F2),window.removeEventListener("test",F2,F2)}catch{cN=!1}var em=cN?{passive:!1}:!1,R0e=function(t){return t.tagName==="TEXTAREA"},FW=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!R0e(t)&&r[e]==="visible")},D0e=function(t){return FW(t,"overflowY")},M0e=function(t){return FW(t,"overflowX")},aM=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=BW(t,n);if(i){var a=$W(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},L0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},F0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},BW=function(t,e){return t==="v"?D0e(e):M0e(e)},$W=function(t,e){return t==="v"?L0e(e):F0e(e)},B0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},$0e=function(t,e,r,n,i){var a=B0e(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,u=o>0,f=0,h=0;do{var p=$W(t,s),m=p[0],g=p[1],x=p[2],v=g-x-a*m;(m||v)&&BW(t,s)&&(f+=v,h+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},B2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oM=function(t){return[t.deltaX,t.deltaY]},sM=function(t){return t&&"current"in t?t.current:t},U0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},z0e=0,tm=[];function H0e(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),i=E.useState(z0e++)[0],a=E.useState(LW)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=d0e([t.lockRef.current],(t.shards||[]).map(sM),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=E.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=B2(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-v[0],C="deltaY"in g?g.deltaY:y[1]-v[1],A,O=g.target,N=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in g&&N==="h"&&O.type==="range")return!1;var S=aM(N,O);if(!S)return!0;if(S?A=N:(A=N==="v"?"h":"v",S=aM(N,O)),!S)return!1;if(!n.current&&"changedTouches"in g&&(w||C)&&(n.current=A),!A)return!0;var P=n.current||A;return $0e(P,x,g,P==="h"?w:C)},[]),l=E.useCallback(function(g){var x=g;if(!(!tm.length||tm[tm.length-1]!==a)){var v="deltaY"in x?oM(x):B2(x),y=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&U0e(A.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(sM).filter(Boolean).filter(function(A){return A.contains(x.target)}),C=w.length>0?s(x,w[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=E.useCallback(function(g,x,v,y){var w={name:g,delta:x,target:v,should:y,shadowParent:q0e(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(C){return C!==w})},1)},[]),u=E.useCallback(function(g){r.current=B2(g),n.current=void 0},[]),f=E.useCallback(function(g){c(g.type,oM(g),g.target,s(g,t.lockRef.current))},[]),h=E.useCallback(function(g){c(g.type,B2(g),g.target,s(g,t.lockRef.current))},[]);E.useEffect(function(){return tm.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,em),document.addEventListener("touchmove",l,em),document.addEventListener("touchstart",u,em),function(){tm=tm.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,em),document.removeEventListener("touchmove",l,em),document.removeEventListener("touchstart",u,em)}},[]);var p=t.removeScrollBar,m=t.inert;return E.createElement(E.Fragment,null,m?E.createElement(a,{styles:V0e(i)}):null,p?E.createElement(j0e,{gapMode:t.gapMode}):null)}function q0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const W0e=w0e(MW,H0e);var yx=E.forwardRef(function(t,e){return E.createElement(gS,Ql({},t,{ref:e,sideCar:W0e}))});yx.classNames=gS.classNames;var G0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rm=new WeakMap,$2=new WeakMap,U2={},a3=0,UW=function(t){return t&&(t.host||UW(t.parentNode))},K0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=UW(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Y0e=function(t,e,r,n){var i=K0e(e,Array.isArray(t)?t:[t]);U2[r]||(U2[r]=new WeakMap);var a=U2[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))u(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(rm.get(h)||0)+1,x=(a.get(h)||0)+1;rm.set(h,g),a.set(h,x),o.push(h),g===1&&m&&$2.set(h,!0),x===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),s.clear(),a3++,function(){o.forEach(function(f){var h=rm.get(f)-1,p=a.get(f)-1;rm.set(f,h),a.set(f,p),h||($2.has(f)||f.removeAttribute(n),$2.delete(f)),p||f.removeAttribute(r)}),a3--,a3||(rm=new WeakMap,rm=new WeakMap,$2=new WeakMap,U2={})}},vS=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=G0e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Y0e(n,i,r,"aria-hidden")):function(){return null}},DO="Dialog",[VW,vtt]=Nl(DO),[X0e,Tl]=VW(DO),zW=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=E.useRef(null),l=E.useRef(null),[c=!1,u]=_l({prop:n,defaultProp:i,onChange:a});return d.jsx(X0e,{scope:e,triggerRef:s,contentRef:l,contentId:Es(),titleId:Es(),descriptionId:Es(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};zW.displayName=DO;var HW="DialogTrigger",qW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tl(HW,r),a=dr(e,i.triggerRef);return d.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FO(i.open),...n,ref:a,onClick:st(t.onClick,i.onOpenToggle)})});qW.displayName=HW;var MO="DialogPortal",[Q0e,WW]=VW(MO,{forceMount:void 0}),GW=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Tl(MO,e);return d.jsx(Q0e,{scope:e,forceMount:r,children:E.Children.map(n,o=>d.jsx(Co,{present:r||a.open,children:d.jsx(mg,{asChild:!0,container:i,children:o})}))})};GW.displayName=MO;var Yb="DialogOverlay",KW=E.forwardRef((t,e)=>{const r=WW(Yb,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Tl(Yb,t.__scopeDialog);return a.modal?d.jsx(Co,{present:n||a.open,children:d.jsx(Z0e,{...i,ref:e})}):null});KW.displayName=Yb;var Z0e=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tl(Yb,r);return d.jsx(yx,{as:hu,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Nt.div,{"data-state":FO(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Qh="DialogContent",YW=E.forwardRef((t,e)=>{const r=WW(Qh,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Tl(Qh,t.__scopeDialog);return d.jsx(Co,{present:n||a.open,children:a.modal?d.jsx(J0e,{...i,ref:e}):d.jsx(ege,{...i,ref:e})})});YW.displayName=Qh;var J0e=E.forwardRef((t,e)=>{const r=Tl(Qh,t.__scopeDialog),n=E.useRef(null),i=dr(e,r.contentRef,n);return E.useEffect(()=>{const a=n.current;if(a)return vS(a)},[]),d.jsx(XW,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:st(t.onFocusOutside,a=>a.preventDefault())})}),ege=E.forwardRef((t,e)=>{const r=Tl(Qh,t.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return d.jsx(XW,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),XW=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=Tl(Qh,r),l=E.useRef(null),c=dr(e,l);return mS(),d.jsxs(d.Fragment,{children:[d.jsx(gx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(fp,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":FO(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(tge,{titleId:s.titleId}),d.jsx(nge,{contentRef:l,descriptionId:s.descriptionId})]})]})}),LO="DialogTitle",QW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tl(LO,r);return d.jsx(Nt.h2,{id:i.titleId,...n,ref:e})});QW.displayName=LO;var ZW="DialogDescription",JW=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tl(ZW,r);return d.jsx(Nt.p,{id:i.descriptionId,...n,ref:e})});JW.displayName=ZW;var eG="DialogClose",tG=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tl(eG,r);return d.jsx(Nt.button,{type:"button",...n,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});tG.displayName=eG;function FO(t){return t?"open":"closed"}var rG="DialogTitleWarning",[ytt,nG]=Boe(rG,{contentName:Qh,titleName:LO,docsSlug:"dialog"}),tge=({titleId:t})=>{const e=nG(rG),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},rge="DialogDescriptionWarning",nge=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nG(rge).contentName}}.`;return E.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},ige=zW,age=qW,oge=GW,iG=KW,aG=YW,oG=QW,sG=JW,sge=tG;const Hi=ige,lge=age,cge=oge,lG=E.forwardRef(({className:t,...e},r)=>d.jsx(iG,{ref:r,className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lG.displayName=iG.displayName;const Ci=E.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(cge,{children:[d.jsx(lG,{}),d.jsxs(aG,{ref:n,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(sge,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Xa,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ci.displayName=aG.displayName;const Ni=({className:t,...e})=>d.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ni.displayName="DialogHeader";const hc=({className:t,...e})=>d.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hc.displayName="DialogFooter";const Ti=E.forwardRef(({className:t,...e},r)=>d.jsx(oG,{ref:r,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ti.displayName=oG.displayName;const Jo=E.forwardRef(({className:t,...e},r)=>d.jsx(sG,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));Jo.displayName=sG.displayName;const ur=E.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ur.displayName="Input";var uge="Label",cG=E.forwardRef((t,e)=>d.jsx(Nt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));cG.displayName=uge;var uG=cG;const dge=gg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=E.forwardRef(({className:t,...e},r)=>d.jsx(uG,{ref:r,className:dt(dge(),t),...e}));gt.displayName=uG.displayName;function yS({className:t,selected:e,onSelect:r,showOutsideDays:n=!0,...i}){const[a,o]=E.useState(e||new Date),s=()=>{o(v=>{const y=new Date(v);return y.setMonth(y.getMonth()-1),y})},l=()=>{o(v=>{const y=new Date(v);return y.setMonth(y.getMonth()+1),y})},c=(v,y)=>new Date(v,y+1,0).getDate(),u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=a.toLocaleString("default",{month:"long"}),h=a.getFullYear(),p=a.getMonth(),m=c(h,p),g=new Date(h,p,1).getDay(),x=[];for(let v=0;v<g;v++)x.push(null);for(let v=1;v<=m;v++)x.push(new Date(h,p,v));return d.jsxs("div",{className:dt("p-3",t),children:[d.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[d.jsx("button",{onClick:s,className:dt(Fw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),children:d.jsx(sH,{className:"h-4 w-4"})}),d.jsxs("div",{className:"text-sm font-medium",children:[f," ",h]}),d.jsx("button",{onClick:l,className:dt(Fw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),children:d.jsx(vg,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"flex w-full",children:u.map(v=>d.jsx("div",{className:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",children:v},v))}),d.jsx("div",{className:"flex flex-wrap mt-2",children:x.map((v,y)=>d.jsx("button",{disabled:!v,className:dt(Fw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",v&&e&&v.toDateString()===e.toDateString()?"bg-primary text-primary-foreground":"",v&&v.toDateString()===new Date().toDateString()?"bg-accent text-accent-foreground":"",v?"":"invisible"),onClick:()=>v&&r&&r(v),children:v?v.getDate():""},y))})]})]})}yS.displayName="Calendar";function Tr(t){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(t)}function El(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function gr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function jr(t){gr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Tr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xb(t,e){gr(2,arguments);var r=jr(t),n=El(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function fge(t,e){gr(2,arguments);var r=jr(t),n=El(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function hge(t,e){gr(2,arguments);var r=jr(t).getTime(),n=El(e);return new Date(r+n)}var pge={};function xx(){return pge}function uN(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function lM(t){gr(1,arguments);var e=jr(t);return e.setHours(0,0,0,0),e}function cM(t,e){gr(2,arguments);var r=El(e),n=r*7;return Xb(t,n)}function zw(t,e){gr(2,arguments);var r=jr(t),n=jr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var dG=6e4,fG=36e5;function hG(t,e){gr(2,arguments);var r=lM(t),n=lM(e);return r.getTime()===n.getTime()}function mge(t){return gr(1,arguments),t instanceof Date||Tr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gge(t){if(gr(1,arguments),!mge(t)&&typeof t!="number")return!1;var e=jr(t);return!isNaN(Number(e))}function vge(t,e){gr(2,arguments);var r=jr(t),n=jr(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function yge(t,e){return gr(2,arguments),jr(t).getTime()-jr(e).getTime()}var xge={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},wge="trunc";function bge(t){return xge[wge]}function _ge(t){gr(1,arguments);var e=jr(t);return e.setHours(23,59,59,999),e}function Sge(t){gr(1,arguments);var e=jr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Age(t){gr(1,arguments);var e=jr(t);return _ge(e).getTime()===Sge(e).getTime()}function Ege(t,e){gr(2,arguments);var r=jr(t),n=jr(e),i=zw(r,n),a=Math.abs(vge(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var s=zw(r,n)===-i;Age(jr(t))&&a===1&&zw(t,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function Cge(t,e,r){gr(2,arguments);var n=yge(t,e)/1e3;return bge()(n)}function Nge(t,e){gr(2,arguments);var r=El(e);return hge(t,-r)}var Tge=864e5;function Pge(t){gr(1,arguments);var e=jr(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/Tge)+1}function Qb(t){gr(1,arguments);var e=1,r=jr(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function pG(t){gr(1,arguments);var e=jr(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Qb(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=Qb(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Ige(t){gr(1,arguments);var e=pG(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Qb(r);return n}var Oge=6048e5;function kge(t){gr(1,arguments);var e=jr(t),r=Qb(e).getTime()-Ige(e).getTime();return Math.round(r/Oge)+1}function Zb(t,e){var r,n,i,a,o,s,l,c;gr(1,arguments);var u=xx(),f=El((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=jr(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function mG(t,e){var r,n,i,a,o,s,l,c;gr(1,arguments);var u=jr(t),f=u.getUTCFullYear(),h=xx(),p=El((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=Zb(m,e),x=new Date(0);x.setUTCFullYear(f,0,p),x.setUTCHours(0,0,0,0);var v=Zb(x,e);return u.getTime()>=g.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function jge(t,e){var r,n,i,a,o,s,l,c;gr(1,arguments);var u=xx(),f=El((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=mG(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Zb(p,e);return m}var Rge=6048e5;function Dge(t,e){gr(1,arguments);var r=jr(t),n=Zb(r,e).getTime()-jge(r,e).getTime();return Math.round(n/Rge)+1}function Ur(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var ud={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ur(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Ur(n+1,2)},d:function(e,r){return Ur(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Ur(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ur(e.getUTCHours(),r.length)},m:function(e,r){return Ur(e.getUTCMinutes(),r.length)},s:function(e,r){return Ur(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Ur(a,r.length)}},nm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mge={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return ud.y(e,r)},Y:function(e,r,n,i){var a=mG(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Ur(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ur(o,r.length)},R:function(e,r){var n=pG(e);return Ur(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Ur(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Ur(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Ur(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return ud.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Ur(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=Dge(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Ur(a,r.length)},I:function(e,r,n){var i=kge(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Ur(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):ud.d(e,r)},D:function(e,r,n){var i=Pge(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ur(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Ur(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Ur(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Ur(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=nm.noon:i===0?a=nm.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=nm.evening:i>=12?a=nm.afternoon:i>=4?a=nm.morning:a=nm.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ud.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ud.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ur(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ur(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ud.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ud.s(e,r)},S:function(e,r){return ud.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return dM(o);case"XXXX":case"XX":return mh(o);case"XXXXX":case"XXX":default:return mh(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return dM(o);case"xxxx":case"xx":return mh(o);case"xxxxx":case"xxx":default:return mh(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+uM(o,":");case"OOOO":default:return"GMT"+mh(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+uM(o,":");case"zzzz":default:return"GMT"+mh(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Ur(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Ur(o,r.length)}};function uM(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Ur(a,2)}function dM(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Ur(Math.abs(t)/60,2)}return mh(t,e)}function mh(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Ur(Math.floor(i/60),2),o=Ur(i%60,2);return n+a+r+o}var fM=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},gG=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Lge=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return fM(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",fM(i,r)).replace("{{time}}",gG(a,r))},Fge={p:gG,P:Lge},Bge=["D","DD"],$ge=["YY","YYYY"];function Uge(t){return Bge.indexOf(t)!==-1}function Vge(t){return $ge.indexOf(t)!==-1}function hM(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hge=function(e,r,n){var i,a=zge[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function o3(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var qge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kge={date:o3({formats:qge,defaultWidth:"full"}),time:o3({formats:Wge,defaultWidth:"full"}),dateTime:o3({formats:Gge,defaultWidth:"full"})},Yge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xge=function(e,r,n,i){return Yge[e]};function E1(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var Qge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},n1e=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},i1e={ordinalNumber:n1e,era:E1({values:Qge,defaultWidth:"wide"}),quarter:E1({values:Zge,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:E1({values:Jge,defaultWidth:"wide"}),day:E1({values:e1e,defaultWidth:"wide"}),dayPeriod:E1({values:t1e,defaultWidth:"wide",formattingValues:r1e,defaultFormattingWidth:"wide"})};function C1(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?o1e(s,function(f){return f.test(o)}):a1e(s,function(f){return f.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function a1e(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function o1e(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function s1e(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var l1e=/^(\d+)(th|st|nd|rd)?/i,c1e=/\d+/i,u1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d1e={any:[/^b/i,/^(a|c)/i]},f1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},h1e={any:[/1/i,/2/i,/3/i,/4/i]},p1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},v1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w1e={ordinalNumber:s1e({matchPattern:l1e,parsePattern:c1e,valueCallback:function(e){return parseInt(e,10)}}),era:C1({matchPatterns:u1e,defaultMatchWidth:"wide",parsePatterns:d1e,defaultParseWidth:"any"}),quarter:C1({matchPatterns:f1e,defaultMatchWidth:"wide",parsePatterns:h1e,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:C1({matchPatterns:p1e,defaultMatchWidth:"wide",parsePatterns:m1e,defaultParseWidth:"any"}),day:C1({matchPatterns:g1e,defaultMatchWidth:"wide",parsePatterns:v1e,defaultParseWidth:"any"}),dayPeriod:C1({matchPatterns:y1e,defaultMatchWidth:"any",parsePatterns:x1e,defaultParseWidth:"any"})},vG={code:"en-US",formatDistance:Hge,formatLong:Kge,formatRelative:Xge,localize:i1e,match:w1e,options:{weekStartsOn:0,firstWeekContainsDate:1}},b1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S1e=/^'([^]*?)'?$/,A1e=/''/g,E1e=/[a-zA-Z]/;function Ya(t,e,r){var n,i,a,o,s,l,c,u,f,h,p,m,g,x;gr(2,arguments);var v=String(e),y=xx(),w=(n=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&n!==void 0?n:vG,C=El((a=(o=(s=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&s!==void 0?s:y.firstWeekContainsDate)!==null&&o!==void 0?o:(c=y.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=El((f=(h=(p=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&p!==void 0?p:y.weekStartsOn)!==null&&h!==void 0?h:(g=y.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var O=jr(t);if(!gge(O))throw new RangeError("Invalid time value");var N=uN(O),S=Nge(O,N),P={firstWeekContainsDate:C,weekStartsOn:A,locale:w,_originalDate:O},R=v.match(_1e).map(function(I){var k=I[0];if(k==="p"||k==="P"){var D=Fge[k];return D(I,w.formatLong)}return I}).join("").match(b1e).map(function(I){if(I==="''")return"'";var k=I[0];if(k==="'")return C1e(I);var D=Mge[k];if(D)return Vge(I)&&hM(I,e,String(t)),Uge(I)&&hM(I,e,String(t)),D(S,I,w.localize,P);if(k.match(E1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return I}).join("");return R}function C1e(t){var e=t.match(S1e);return e?e[1].replace(A1e,"'"):t}function yG(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function N1e(t){return yG({},t)}var pM=1440,T1e=2520,s3=43200,P1e=86400;function I1e(t,e,r){var n,i;gr(2,arguments);var a=xx(),o=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:vG;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=zw(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l=yG(N1e(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:s}),c,u;s>0?(c=jr(e),u=jr(t)):(c=jr(t),u=jr(e));var f=Cge(u,c),h=(uN(u)-uN(c))/1e3,p=Math.round((f-h)/60),m;if(p<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,l):f<10?o.formatDistance("lessThanXSeconds",10,l):f<20?o.formatDistance("lessThanXSeconds",20,l):f<40?o.formatDistance("halfAMinute",0,l):f<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<pM){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}else{if(p<T1e)return o.formatDistance("xDays",1,l);if(p<s3){var x=Math.round(p/pM);return o.formatDistance("xDays",x,l)}else if(p<P1e)return m=Math.round(p/s3),o.formatDistance("aboutXMonths",m,l)}if(m=Ege(u,c),m<12){var v=Math.round(p/s3);return o.formatDistance("xMonths",v,l)}else{var y=m%12,w=Math.floor(m/12);return y<3?o.formatDistance("aboutXYears",w,l):y<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function T0(t,e){return gr(1,arguments),I1e(t,Date.now(),e)}function V2(t){return gr(1,arguments),jr(t).getTime()<Date.now()}function im(t){return gr(1,arguments),hG(t,Date.now())}function l3(t){return gr(1,arguments),hG(t,Xb(Date.now(),1))}function Rn(t,e){var r;gr(1,arguments);var n=El((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=R1e(t),a;if(i.date){var o=D1e(i.date,n);a=M1e(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,c;if(i.time&&(l=L1e(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=F1e(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(s+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(s+l+c)}var z2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},O1e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k1e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,j1e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function R1e(t){var e={},r=t.split(z2.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],z2.timeZoneDelimiter.test(e.date)&&(e.date=t.split(z2.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=z2.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function D1e(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function M1e(t,e){if(e===null)return new Date(NaN);var r=t.match(O1e);if(!r)return new Date(NaN);var n=!!r[4],i=N1(r[1]),a=N1(r[2])-1,o=N1(r[3]),s=N1(r[4]),l=N1(r[5])-1;if(n)return z1e(e,s,l)?B1e(e,s,l):new Date(NaN);var c=new Date(0);return!U1e(e,a,o)||!V1e(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,o)),c)}function N1(t){return t?parseInt(t):1}function L1e(t){var e=t.match(k1e);if(!e)return NaN;var r=c3(e[1]),n=c3(e[2]),i=c3(e[3]);return H1e(r,n,i)?r*fG+n*dG+i*1e3:NaN}function c3(t){return t&&parseFloat(t.replace(",","."))||0}function F1e(t){if(t==="Z")return 0;var e=t.match(j1e);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return q1e(n,i)?r*(n*fG+i*dG):NaN}function B1e(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var $1e=[31,null,31,30,31,30,31,31,30,31,30,31];function xG(t){return t%400===0||t%4===0&&t%100!==0}function U1e(t,e,r){return e>=0&&e<=11&&r>=1&&r<=($1e[e]||(xG(t)?29:28))}function V1e(t,e){return e>=1&&e<=(xG(t)?366:365)}function z1e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function H1e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function q1e(t,e){return e>=0&&e<=59}var BO="Popover",[wG,xtt]=Nl(BO,[Sf]),wx=Sf(),[W1e,Cf]=wG(BO),bG=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=wx(e),l=E.useRef(null),[c,u]=E.useState(!1),[f=!1,h]=_l({prop:n,defaultProp:i,onChange:a});return d.jsx(Q5,{...s,children:d.jsx(W1e,{scope:e,contentId:Es(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:E.useCallback(()=>u(!0),[]),onCustomAnchorRemove:E.useCallback(()=>u(!1),[]),modal:o,children:r})})};bG.displayName=BO;var _G="PopoverAnchor",G1e=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cf(_G,r),a=wx(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return E.useEffect(()=>(o(),()=>s()),[o,s]),d.jsx(dx,{...a,...n,ref:e})});G1e.displayName=_G;var SG="PopoverTrigger",AG=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cf(SG,r),a=wx(r),o=dr(e,i.triggerRef),s=d.jsx(Nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PG(i.open),...n,ref:o,onClick:st(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:d.jsx(dx,{asChild:!0,...a,children:s})});AG.displayName=SG;var $O="PopoverPortal",[K1e,Y1e]=wG($O,{forceMount:void 0}),EG=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Cf($O,e);return d.jsx(K1e,{scope:e,forceMount:r,children:d.jsx(Co,{present:r||a.open,children:d.jsx(mg,{asChild:!0,container:i,children:n})})})};EG.displayName=$O;var P0="PopoverContent",CG=E.forwardRef((t,e)=>{const r=Y1e(P0,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Cf(P0,t.__scopePopover);return d.jsx(Co,{present:n||a.open,children:a.modal?d.jsx(X1e,{...i,ref:e}):d.jsx(Q1e,{...i,ref:e})})});CG.displayName=P0;var X1e=E.forwardRef((t,e)=>{const r=Cf(P0,t.__scopePopover),n=E.useRef(null),i=dr(e,n),a=E.useRef(!1);return E.useEffect(()=>{const o=n.current;if(o)return vS(o)},[]),d.jsx(yx,{as:hu,allowPinchZoom:!0,children:d.jsx(NG,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:st(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Q1e=E.forwardRef((t,e)=>{const r=Cf(P0,t.__scopePopover),n=E.useRef(!1),i=E.useRef(!1);return d.jsx(NG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),NG=E.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=Cf(P0,r),p=wx(r);return mS(),d.jsx(gx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(fp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:d.jsx(Z5,{"data-state":PG(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TG="PopoverClose",Z1e=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cf(TG,r);return d.jsx(Nt.button,{type:"button",...n,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});Z1e.displayName=TG;var J1e="PopoverArrow",eve=E.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=wx(r);return d.jsx(J5,{...i,...n,ref:e})});eve.displayName=J1e;function PG(t){return t?"open":"closed"}var tve=bG,rve=AG,nve=EG,IG=CG;const I0=tve,O0=rve,Zh=E.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>d.jsx(nve,{children:d.jsx(IG,{ref:i,align:e,sideOffset:r,className:dt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Zh.displayName=IG.displayName;const u3=["Trader Joe's","Kroger","Walmart","Target","Costco","Whole Foods","Aldi"],UO=({isOpen:t,onClose:e,onSubmit:r})=>{const{toast:n}=_n(),[i,a]=E.useState(""),[o,s]=E.useState("20"),[l,c]=E.useState(new Date),[u,f]=E.useState({}),[h,p]=E.useState(!1),[m,g]=E.useState(!1),[x,v]=E.useState(u3);E.useEffect(()=>{t&&(a(""),s("20"),f({}),g(!1),c(new Date))},[t]),E.useEffect(()=>{const A={};i.trim()||(A.store="Store name is required");const O=parseInt(o);isNaN(O)||O<5?A.eta="ETA must be at least 5 minutes":O>120&&(A.eta="ETA cannot exceed 120 minutes"),f(A),p(Object.keys(A).length===0)},[i,o]),E.useEffect(()=>{if(i.trim()){const A=u3.filter(O=>O.toLowerCase().includes(i.toLowerCase()));v(A)}else v(u3)},[i]);const y=A=>{if(A.preventDefault(),!h){n({title:"Cannot broadcast trip",description:"Please fix the errors in the form",variant:"destructive"});return}r({store:i,eta:o,date:l.toISOString()}),a(""),s("20"),c(new Date),e()},w=A=>{a(A.target.value),g(!0)},C=A=>{a(A),g(!1)};return d.jsx(Hi,{open:t,onOpenChange:e,children:d.jsxs(Ci,{className:"sm:max-w-md",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[d.jsx(Xr,{className:"h-5 w-5 text-blue-500"}),"I'm heading to..."]}),d.jsx(Jo,{children:"Let others know you're making a shopping trip and they can request items."})]}),d.jsxs("form",{onSubmit:y,className:"space-y-4 pt-4",children:[d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs(gt,{htmlFor:"store",className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aa,{className:"h-4 w-4 text-blue-500"}),d.jsx("span",{children:"Store"})]}),u.store&&d.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[d.jsx(bo,{className:"h-3 w-3 mr-1"}),u.store]})]}),d.jsx(ur,{id:"store",placeholder:"e.g. Trader Joe's, Costco, Target",value:i,onChange:w,onFocus:()=>g(!0),onBlur:()=>{setTimeout(()=>g(!1),200)},className:`premium-card ${u.store?"border-destructive":""}`}),d.jsx(Ka,{children:m&&x.length>0&&d.jsx(ot.div,{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:d.jsx("ul",{className:"py-1",children:x.map((A,O)=>d.jsxs(ot.li,{className:"px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm flex items-center",onClick:()=>C(A),whileHover:{x:5},children:[d.jsx(aa,{className:"h-3 w-3 mr-2 text-blue-500"}),A]},O))})})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"eta",className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(ta,{className:"h-4 w-4 mr-1 text-blue-500"}),"Time until arrival"]}),u.eta&&d.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[d.jsx(bo,{className:"h-3 w-3 mr-1"}),u.eta]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx(ur,{id:"eta",type:"number",min:"5",max:"120",value:o,onChange:A=>s(A.target.value),className:`w-24 premium-card ${u.eta?"border-destructive":""}`}),d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[d.jsx(hp,{className:"h-3 w-3 mr-1"}),"Let others know when you expect to arrive at the store"]})]}),d.jsxs("div",{children:[d.jsx(gt,{children:"Date"}),d.jsxs(I0,{children:[d.jsx(O0,{asChild:!0,children:d.jsxs(De,{variant:"outline",className:dt("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[d.jsx(ks,{className:"mr-2 h-4 w-4"}),l?Ya(l,"PPP"):d.jsx("span",{children:"Pick a date"})]})}),d.jsx(Zh,{className:"w-auto p-0",align:"start",children:d.jsx(yS,{mode:"single",selected:l,onSelect:A=>c(A||new Date),initialFocus:!0})})]})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[d.jsx(De,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),d.jsx(De,{type:"submit",disabled:!h,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:"Create Trip"})]})]})]})})};function mM(t,[e,r]){return Math.min(r,Math.max(e,t))}var ive=E.createContext(void 0);function xS(t){const e=E.useContext(ive);return t||e||"ltr"}function VO(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ave=[" ","Enter","ArrowUp","ArrowDown"],ove=[" ","Enter"],bx="Select",[wS,bS,sve]=H5(bx),[Ag,wtt]=Nl(bx,[sve,Sf]),_S=Sf(),[lve,Nf]=Ag(bx),[cve,uve]=Ag(bx),OG=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p,form:m}=t,g=_S(e),[x,v]=E.useState(null),[y,w]=E.useState(null),[C,A]=E.useState(!1),O=xS(c),[N=!1,S]=_l({prop:n,defaultProp:i,onChange:a}),[P,R]=_l({prop:o,defaultProp:s,onChange:l}),I=E.useRef(null),k=x?m||!!x.closest("form"):!0,[D,z]=E.useState(new Set),J=Array.from(D).map(U=>U.props.value).join(";");return d.jsx(Q5,{...g,children:d.jsxs(lve,{required:p,scope:e,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:A,contentId:Es(),value:P,onValueChange:R,open:N,onOpenChange:S,dir:O,triggerPointerDownPosRef:I,disabled:h,children:[d.jsx(wS.Provider,{scope:e,children:d.jsx(cve,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(U=>{z(K=>new Set(K).add(U))},[]),onNativeOptionRemove:E.useCallback(U=>{z(K=>{const $=new Set(K);return $.delete(U),$})},[]),children:r})}),k?d.jsxs(rK,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:P,onChange:U=>R(U.target.value),disabled:h,form:m,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},J):null]})})};OG.displayName=bx;var kG="SelectTrigger",jG=E.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=_S(r),o=Nf(kG,r),s=o.disabled||n,l=dr(e,o.onTriggerChange),c=bS(r),u=E.useRef("touch"),[f,h,p]=nK(g=>{const x=c().filter(w=>!w.disabled),v=x.find(w=>w.value===o.value),y=iK(x,g,v);y!==void 0&&o.onValueChange(y.value)}),m=g=>{s||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(dx,{asChild:!0,...a,children:d.jsx(Nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":tK(o.value)?"":void 0,...i,ref:l,onClick:st(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:st(i.onPointerDown,g=>{u.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:st(i.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&ave.includes(g.key)&&(m(),g.preventDefault())})})})});jG.displayName=kG;var RG="SelectValue",DG=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=Nf(RG,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,f=dr(e,l.onValueNodeChange);return zi(()=>{c(u)},[c,u]),d.jsx(Nt.span,{...s,ref:f,style:{pointerEvents:"none"},children:tK(l.value)?d.jsx(d.Fragment,{children:o}):a})});DG.displayName=RG;var dve="SelectIcon",MG=E.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return d.jsx(Nt.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});MG.displayName=dve;var fve="SelectPortal",LG=t=>d.jsx(mg,{asChild:!0,...t});LG.displayName=fve;var Jh="SelectContent",FG=E.forwardRef((t,e)=>{const r=Nf(Jh,t.__scopeSelect),[n,i]=E.useState();if(zi(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?dp.createPortal(d.jsx(BG,{scope:t.__scopeSelect,children:d.jsx(wS.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),a):null}return d.jsx($G,{...t,ref:e})});FG.displayName=Jh;var rl=10,[BG,Tf]=Ag(Jh),hve="SelectContentImpl",$G=E.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x,...v}=t,y=Nf(Jh,r),[w,C]=E.useState(null),[A,O]=E.useState(null),N=dr(e,le=>C(le)),[S,P]=E.useState(null),[R,I]=E.useState(null),k=bS(r),[D,z]=E.useState(!1),J=E.useRef(!1);E.useEffect(()=>{if(w)return vS(w)},[w]),mS();const U=E.useCallback(le=>{const[de,...ae]=k().map(ve=>ve.ref.current),[ye]=ae.slice(-1),ge=document.activeElement;for(const ve of le)if(ve===ge||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===de&&A&&(A.scrollTop=0),ve===ye&&A&&(A.scrollTop=A.scrollHeight),ve==null||ve.focus(),document.activeElement!==ge))return},[k,A]),K=E.useCallback(()=>U([S,w]),[U,S,w]);E.useEffect(()=>{D&&K()},[D,K]);const{onOpenChange:$,triggerPointerDownPosRef:H}=y;E.useEffect(()=>{if(w){let le={x:0,y:0};const de=ye=>{var ge,ve;le={x:Math.abs(Math.round(ye.pageX)-(((ge=H.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((ve=H.current)==null?void 0:ve.y)??0))}},ae=ye=>{le.x<=10&&le.y<=10?ye.preventDefault():w.contains(ye.target)||$(!1),document.removeEventListener("pointermove",de),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,$,H]),E.useEffect(()=>{const le=()=>$(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[$]);const[te,ie]=nK(le=>{const de=k().filter(ge=>!ge.disabled),ae=de.find(ge=>ge.ref.current===document.activeElement),ye=iK(de,le,ae);ye&&setTimeout(()=>ye.ref.current.focus())}),F=E.useCallback((le,de,ae)=>{const ye=!J.current&&!ae;(y.value!==void 0&&y.value===de||ye)&&(P(le),ye&&(J.current=!0))},[y.value]),q=E.useCallback(()=>w==null?void 0:w.focus(),[w]),Q=E.useCallback((le,de,ae)=>{const ye=!J.current&&!ae;(y.value!==void 0&&y.value===de||ye)&&I(le)},[y.value]),se=n==="popper"?dN:UG,G=se===dN?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:x}:{};return d.jsx(BG,{scope:r,content:w,viewport:A,onViewportChange:O,itemRefCallback:F,selectedItem:S,onItemLeave:q,itemTextRefCallback:Q,focusSelectedItem:K,selectedItemText:R,position:n,isPositioned:D,searchRef:te,children:d.jsx(yx,{as:hu,allowPinchZoom:!0,children:d.jsx(gx,{asChild:!0,trapped:y.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:st(i,le=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),le.preventDefault()}),children:d.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:d.jsx(se,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:le=>le.preventDefault(),...v,...G,onPlaced:()=>z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:st(v.onKeyDown,le=>{const de=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!de&&le.key.length===1&&ie(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ye=k().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ge=le.target,ve=ye.indexOf(ge);ye=ye.slice(ve+1)}setTimeout(()=>U(ye)),le.preventDefault()}})})})})})})});$G.displayName=hve;var pve="SelectItemAlignedPosition",UG=E.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Nf(Jh,r),o=Tf(Jh,r),[s,l]=E.useState(null),[c,u]=E.useState(null),f=dr(e,N=>u(N)),h=bS(r),p=E.useRef(!1),m=E.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=o,w=E.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&g&&x&&v){const N=a.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(a.dir!=="rtl"){const ge=R.left-S.left,ve=P.left-ge,Re=N.left-ve,Me=N.width+Re,Se=Math.max(Me,S.width),W=window.innerWidth-rl,Pe=mM(ve,[rl,Math.max(rl,W-Se)]);s.style.minWidth=Me+"px",s.style.left=Pe+"px"}else{const ge=S.right-R.right,ve=window.innerWidth-P.right-ge,Re=window.innerWidth-N.right-ve,Me=N.width+Re,Se=Math.max(Me,S.width),W=window.innerWidth-rl,Pe=mM(ve,[rl,Math.max(rl,W-Se)]);s.style.minWidth=Me+"px",s.style.right=Pe+"px"}const I=h(),k=window.innerHeight-rl*2,D=g.scrollHeight,z=window.getComputedStyle(c),J=parseInt(z.borderTopWidth,10),U=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),$=parseInt(z.paddingBottom,10),H=J+U+D+$+K,te=Math.min(x.offsetHeight*5,H),ie=window.getComputedStyle(g),F=parseInt(ie.paddingTop,10),q=parseInt(ie.paddingBottom,10),Q=N.top+N.height/2-rl,se=k-Q,G=x.offsetHeight/2,le=x.offsetTop+G,de=J+U+le,ae=H-de;if(de<=Q){const ge=I.length>0&&x===I[I.length-1].ref.current;s.style.bottom="0px";const ve=c.clientHeight-g.offsetTop-g.offsetHeight,Re=Math.max(se,G+(ge?q:0)+ve+K),Me=de+Re;s.style.height=Me+"px"}else{const ge=I.length>0&&x===I[0].ref.current;s.style.top="0px";const Re=Math.max(Q,J+g.offsetTop+(ge?F:0)+G)+ae;s.style.height=Re+"px",g.scrollTop=de-Q+g.offsetTop}s.style.margin=`${rl}px 0`,s.style.minHeight=te+"px",s.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,g,x,v,a.dir,n]);zi(()=>w(),[w]);const[C,A]=E.useState();zi(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const O=E.useCallback(N=>{N&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return d.jsx(gve,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:d.jsx(Nt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UG.displayName=pve;var mve="SelectPopperPosition",dN=E.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=rl,...a}=t,o=_S(r);return d.jsx(Z5,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dN.displayName=mve;var[gve,zO]=Ag(Jh,{}),fN="SelectViewport",VG=E.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Tf(fN,r),o=zO(fN,r),s=dr(e,a.onViewportChange),l=E.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(wS.Slot,{scope:r,children:d.jsx(Nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const m=window.innerHeight-rl*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(g,x);if(v<m){const y=v+p,w=Math.min(m,y),C=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});VG.displayName=fN;var zG="SelectGroup",[vve,yve]=Ag(zG),xve=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Es();return d.jsx(vve,{scope:r,id:i,children:d.jsx(Nt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});xve.displayName=zG;var HG="SelectLabel",qG=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yve(HG,r);return d.jsx(Nt.div,{id:i.id,...n,ref:e})});qG.displayName=HG;var Jb="SelectItem",[wve,WG]=Ag(Jb),GG=E.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Nf(Jb,r),l=Tf(Jb,r),c=s.value===n,[u,f]=E.useState(a??""),[h,p]=E.useState(!1),m=dr(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),g=Es(),x=E.useRef("touch"),v=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(wve,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:E.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:d.jsx(wS.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:d.jsx(Nt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:st(o.onFocus,()=>p(!0)),onBlur:st(o.onBlur,()=>p(!1)),onClick:st(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:st(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:st(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:st(o.onPointerMove,y=>{var w;x.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:st(o.onKeyDown,y=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(ove.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});GG.displayName=Jb;var K1="SelectItemText",KG=E.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Nf(K1,r),s=Tf(K1,r),l=WG(K1,r),c=uve(K1,r),[u,f]=E.useState(null),h=dr(e,v=>f(v),l.onItemTextChange,v=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,m=E.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return zi(()=>(g(m),()=>x(m)),[g,x,m]),d.jsxs(d.Fragment,{children:[d.jsx(Nt.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?dp.createPortal(a.children,o.valueNode):null]})});KG.displayName=K1;var YG="SelectItemIndicator",XG=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return WG(YG,r).isSelected?d.jsx(Nt.span,{"aria-hidden":!0,...n,ref:e}):null});XG.displayName=YG;var hN="SelectScrollUpButton",QG=E.forwardRef((t,e)=>{const r=Tf(hN,t.__scopeSelect),n=zO(hN,t.__scopeSelect),[i,a]=E.useState(!1),o=dr(e,n.onScrollButtonChange);return zi(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(JG,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});QG.displayName=hN;var pN="SelectScrollDownButton",ZG=E.forwardRef((t,e)=>{const r=Tf(pN,t.__scopeSelect),n=zO(pN,t.__scopeSelect),[i,a]=E.useState(!1),o=dr(e,n.onScrollButtonChange);return zi(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(JG,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});ZG.displayName=pN;var JG=E.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Tf("SelectScrollButton",r),o=E.useRef(null),s=bS(r),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),zi(()=>{var u;const c=s().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),d.jsx(Nt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:st(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:st(i.onPointerLeave,()=>{l()})})}),bve="SelectSeparator",eK=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(Nt.div,{"aria-hidden":!0,...n,ref:e})});eK.displayName=bve;var mN="SelectArrow",_ve=E.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=_S(r),a=Nf(mN,r),o=Tf(mN,r);return a.open&&o.position==="popper"?d.jsx(J5,{...i,...n,ref:e}):null});_ve.displayName=mN;function tK(t){return t===""||t===void 0}var rK=E.forwardRef((t,e)=>{const{value:r,...n}=t,i=E.useRef(null),a=dr(e,i),o=VO(r);return E.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(s,r),s.dispatchEvent(f)}},[o,r]),d.jsx(sx,{asChild:!0,children:d.jsx("select",{...n,ref:a,defaultValue:r})})});rK.displayName="BubbleSelect";function nK(t){const e=sa(t),r=E.useRef(""),n=E.useRef(0),i=E.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=E.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function iK(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Sve(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Sve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Ave=OG,aK=jG,Eve=DG,Cve=MG,Nve=LG,oK=FG,Tve=VG,sK=qG,lK=GG,Pve=KG,Ive=XG,cK=QG,uK=ZG,dK=eK;const yi=Ave,xi=Eve,oi=E.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(aK,{ref:n,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(Cve,{asChild:!0,children:d.jsx(Yh,{className:"h-4 w-4 opacity-50"})})]}));oi.displayName=aK.displayName;const fK=E.forwardRef(({className:t,...e},r)=>d.jsx(cK,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(GI,{className:"h-4 w-4"})}));fK.displayName=cK.displayName;const hK=E.forwardRef(({className:t,...e},r)=>d.jsx(uK,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Yh,{className:"h-4 w-4"})}));hK.displayName=uK.displayName;const si=E.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>d.jsx(Nve,{children:d.jsxs(oK,{ref:i,className:dt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(fK,{}),d.jsx(Tve,{className:dt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(hK,{})]})}));si.displayName=oK.displayName;const Ove=E.forwardRef(({className:t,...e},r)=>d.jsx(sK,{ref:r,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ove.displayName=sK.displayName;const Ct=E.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(lK,{ref:n,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Ive,{children:d.jsx(dc,{className:"h-4 w-4"})})}),d.jsx(Pve,{children:e})]}));Ct.displayName=lK.displayName;const kve=E.forwardRef(({className:t,...e},r)=>d.jsx(dK,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));kve.displayName=dK.displayName;function jve({isOpen:t,onClose:e,onSubmit:r,taskToEdit:n,isEditing:i=!1}){const[a,o]=E.useState(""),[s,l]=E.useState(),[c,u]=E.useState("medium"),[f,h]=E.useState(""),[p,m]=E.useState(null),[g,x]=E.useState(!1),[v,y]=E.useState(null),[w,C]=E.useState("Medium"),A=E.useRef(null),O=E.useRef(null),{toast:N}=_n();E.useEffect(()=>{console.log("CreateTaskModal: useEffect triggered",{isOpen:t,googleExists:!!window.google,mapsExists:window.google?!!window.google.maps:!1,placesExists:window.google&&window.google.maps?!!window.google.maps.places:!1,inputRefExists:!!A.current});const R=setTimeout(()=>{if(t&&A.current){if(!window.google||!window.google.maps||!window.google.maps.places){console.error("Google Maps Places API not available"),N({title:"Google Maps not loaded",description:"Please refresh the page and try again",variant:"destructive"});return}try{console.log("Initializing Google Places Autocomplete"),O.current=new window.google.maps.places.Autocomplete(A.current,{types:["address"]}),console.log("Autocomplete instance created:",O.current),O.current.addListener("place_changed",()=>{try{if(console.log("Place changed event fired"),!O.current){console.error("Autocomplete reference is null"),N({title:"Error selecting location",description:"Please try again or enter the location manually",variant:"destructive"});return}const I=O.current.getPlace();if(console.log("Selected place:",I),I&&I.geometry&&I.geometry.location){const k=I.formatted_address?String(I.formatted_address):I.name?String(I.name):"";h(k),m({lat:I.geometry.location.lat(),lng:I.geometry.location.lng()}),console.log("Location set to:",k)}else console.warn("No place geometry found"),N({title:"No location found",description:"Please select a location from the dropdown",variant:"destructive"})}catch(I){console.error("Error handling place selection:",I),N({title:"Error selecting location",description:"Please try again or enter the location manually",variant:"destructive"})}})}catch(I){console.error("Error initializing autocomplete:",I)}}},500);return()=>{clearTimeout(R),O.current&&(console.log("Cleaning up autocomplete reference"),O.current=null)}},[t,N]),E.useEffect(()=>{t&&(i&&n?(o(n.title||""),l(n.dueDate?Rn(n.dueDate):void 0),u(n.priority||"medium"),h(n.location||""),m(n.coordinates||null),x(n.isRotating||!1),y(n.rotationFrequency||null),C(n.difficulty||"Medium")):(o(""),l(void 0),u("medium"),h(""),m(null),x(!1),y(null),C("Medium")))},[t,n,i]);const S=R=>{if(R.preventDefault(),!a.trim())return;const I={...n!=null&&n.id?{id:n.id}:{},title:a,dueDate:Ya(s||new Date,"yyyy-MM-dd"),priority:c,isRotating:g,location:f||void 0,coordinates:p||void 0,rotationFrequency:g?v:null,difficulty:w,...n!=null&&n.assignees?{assignees:n.assignees}:{assignees:[]},...(n==null?void 0:n.completed)!==void 0?{completed:n.completed}:{completed:!1},...n!=null&&n.nextRotationDate?{nextRotationDate:n.nextRotationDate}:{}};r(I),e()},P=R=>{h(R.target.value)};return d.jsx(Hi,{open:t,onOpenChange:R=>!R&&e(),children:d.jsxs(Ci,{className:"sm:max-w-[425px]",children:[d.jsx(Ni,{children:d.jsx(Ti,{children:i?"Edit Task":"Create Task"})}),d.jsxs("form",{onSubmit:S,children:[d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"title",className:"sm:text-right",children:"Title"}),d.jsx(ur,{id:"title",value:a,onChange:R=>o(R.target.value),className:"sm:col-span-3"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"date",className:"sm:text-right",children:"Due Date"}),d.jsxs(I0,{children:[d.jsx(O0,{asChild:!0,children:d.jsxs(De,{variant:"outline",className:dt("sm:col-span-3 justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[d.jsx(ks,{className:"mr-2 h-4 w-4"}),s?Ya(s,"PPP"):d.jsx("span",{children:"Pick a date"})]})}),d.jsx(Zh,{className:"w-auto p-0",children:d.jsx(yS,{mode:"single",selected:s,onSelect:l,initialFocus:!0})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"location",className:"sm:text-right",children:"Location"}),d.jsx("div",{className:"sm:col-span-3 relative",children:d.jsx("div",{className:"flex",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ur,{id:"location",ref:A,placeholder:"Enter a location",value:f,onChange:P,className:"pr-8 relative z-50",onClick:R=>R.stopPropagation()}),f?d.jsx("button",{type:"button",onClick:()=>{h(""),m(null)},className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted hover:text-gloop-text",children:d.jsx(Xa,{className:"h-4 w-4"})}):null,d.jsx(_0,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted"})]})})})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"priority",className:"sm:text-right",children:"Priority"}),d.jsxs(yi,{value:c,onValueChange:R=>u(R),children:[d.jsx(oi,{className:"sm:col-span-3",children:d.jsx(xi,{placeholder:"Select priority"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"low",children:"Low"}),d.jsx(Ct,{value:"medium",children:"Medium"}),d.jsx(Ct,{value:"high",children:"High"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"difficulty",className:"sm:text-right",children:"Difficulty"}),d.jsxs(yi,{value:w,onValueChange:R=>C(R),children:[d.jsx(oi,{className:"sm:col-span-3",children:d.jsx(xi,{placeholder:"Select difficulty"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"Easy",children:"Easy"}),d.jsx(Ct,{value:"Medium",children:"Medium"}),d.jsx(Ct,{value:"Hard",children:"Hard"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"rotating",className:"sm:text-right",children:"Rotating"}),d.jsxs("div",{className:"sm:col-span-3 flex items-center",children:[d.jsx("input",{type:"checkbox",id:"rotating",checked:g,onChange:R=>x(R.target.checked),className:"mr-2 rounded border-gloop-outline focus:ring-gloop-primary h-4 w-4"}),d.jsx(gt,{htmlFor:"rotating",className:"text-sm",children:"This task rotates between assignees"})]})]})]}),d.jsx(hc,{children:d.jsx(De,{type:"submit",children:i?"Save Changes":"Create Task"})})]})]})})}function Rve(){return document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),"light"):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),"dark")}function Dve(){return document.documentElement.classList.contains("dark")?"dark":"light"}const Mve=()=>{const[t,e]=E.useState(!1);E.useEffect(()=>{e(Dve()==="dark")},[]);const r=()=>{const n=Rve();e(n==="dark"),navigator.vibrate&&navigator.vibrate(50)};return d.jsx("button",{onClick:r,className:"dark-mode-toggle","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?d.jsx(Yse,{className:"w-5 h-5 text-gloop-dark-text-main"}):d.jsx(KI,{className:"w-5 h-5 text-gloop-text-main"})})},Pf=({activeItem:t})=>{const e=Rs();xc();const[r,n]=E.useState(t||e.pathname),[i,a]=E.useState(!1);_n(),e.pathname==="/home"||e.pathname;const[o,s]=E.useState([{id:"1",type:"info",title:"Rachel added a new item",message:`Rachel added "Milk" to your shopping trip to Trader Joe's`,timestamp:new Date(Date.now()-1e3*60*5),read:!1,actionText:"View Trip",actionUrl:"/trips",sender:{name:"Rachel"}},{id:"2",type:"success",title:"Trip Completed",message:"Your shopping trip to Kroger has been completed successfully",timestamp:new Date(Date.now()-1e3*60*30),read:!0},{id:"3",type:"warning",title:"Item running low",message:"Pasta is running low in your pantry. Add it to your next shopping trip?",timestamp:new Date(Date.now()-1e3*60*60*2),read:!1,actionText:"Add to Trip",actionUrl:"/trips/new"}]);E.useEffect(()=>{n(t||e.pathname)},[e.pathname,t]),E.useEffect(()=>{a(!1)},[e.pathname]);const l=[{name:"Home",path:"/home",icon:d.jsx(Rb,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Map",path:"/map",icon:d.jsx(G5,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Trips",path:"/trips",icon:d.jsx(Xr,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Pantry",path:"/pantry",icon:d.jsx(pv,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Ledger",path:"/ledger",icon:d.jsx(S0,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Dashboard",path:"/dashboard",icon:d.jsx(Rse,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Profile",path:"/profile",icon:d.jsx(pu,{className:"w-4 h-4 sm:w-5 sm:h-5"})}],c=u=>{po.light(),n(u)};return d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white dark:bg-gloop-dark-surface border-t border-gloop-outline dark:border-gloop-dark-outline shadow-lg",children:[d.jsx("div",{className:"absolute top-0 right-0 -mt-16 pr-4 flex gap-2",children:d.jsx(Mve,{})}),d.jsx("nav",{className:"flex justify-between items-center w-full max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl mx-auto px-1 sm:px-2",children:l.map(u=>{const f=r===u.path||r===u.name.toLowerCase()||u.path==="/home"&&r==="/";return d.jsx(ot.div,{className:"flex flex-col items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:d.jsxs(sq,{to:u.path,onClick:()=>c(u.path),className:dt("flex flex-col items-center py-1.5 sm:py-2 px-1.5 sm:px-2.5 transition-all duration-300 relative",f?"text-gloop-primary dark:text-gloop-primary":"text-gloop-text-muted hover:text-gloop-text-main dark:text-gloop-dark-text-muted dark:hover:text-gloop-dark-text-main"),children:[f&&d.jsx(ot.div,{layoutId:"activeTab",className:"absolute -top-1 w-6 sm:w-8 h-1 rounded-full bg-gloop-primary",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30,opacity:{duration:.2}}}),d.jsx(ot.div,{className:dt("p-1.5 sm:p-2 rounded-full mb-0.5 sm:mb-1 transition-all duration-300",f?"bg-gloop-accent/80 dark:bg-gloop-dark-accent/80 scale-110":"bg-transparent hover:bg-gloop-accent/20 dark:hover:bg-gloop-dark-accent/20"),animate:{scale:f?1.1:1,backgroundColor:f?"var(--gloop-accent-translucent)":"transparent"},transition:{duration:.3},children:u.icon}),d.jsx(ot.span,{className:"text-[10px] sm:text-xs font-medium transition-all duration-300",animate:{scale:f?1.05:1,fontWeight:f?"600":"500"},transition:{duration:.2},children:u.name})]})},u.path)})})]})},qt=E.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:dt("rounded-lg border border-slate-200/30 dark:border-slate-700/30 bg-white/80 dark:bg-slate-800/90 backdrop-blur-sm text-card-foreground shadow-md dark:shadow-lg",t),...e}));qt.displayName="Card";const Vr=E.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));Vr.displayName="CardHeader";const zr=E.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));zr.displayName="CardTitle";const wl=E.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));wl.displayName="CardDescription";const Wt=E.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:dt("p-6 pt-0",t),...e}));Wt.displayName="CardContent";const ay=E.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:dt("flex items-center p-6 pt-0",t),...e}));ay.displayName="CardFooter";const Lve=gg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function Qt({className:t,variant:e,...r}){return d.jsx("div",{className:dt(Lve({variant:e}),t),...r})}function Fve(t,e=[]){let r=[];function n(a,o){const s=E.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,x=E.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:x,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=E.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>E.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Bve(i,...e)]}function Bve(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var d3="rovingFocusGroup.onEntryFocus",$ve={bubbles:!1,cancelable:!0},SS="RovingFocusGroup",[gN,pK,Uve]=H5(SS),[Vve,AS]=Fve(SS,[Uve]),[zve,Hve]=Vve(SS),mK=E.forwardRef((t,e)=>d.jsx(gN.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(gN.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(qve,{...t,ref:e})})}));mK.displayName=SS;var qve=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,h=E.useRef(null),p=dr(e,h),m=xS(a),[g=null,x]=_l({prop:o,defaultProp:s,onChange:l}),[v,y]=E.useState(!1),w=sa(c),C=pK(r),A=E.useRef(!1),[O,N]=E.useState(0);return E.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(d3,w),()=>S.removeEventListener(d3,w)},[w]),d.jsx(zve,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:E.useCallback(S=>x(S),[x]),onItemShiftTab:E.useCallback(()=>y(!0),[]),onFocusableItemAdd:E.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:E.useCallback(()=>N(S=>S-1),[]),children:d.jsx(Nt.div,{tabIndex:v||O===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{A.current=!0}),onFocus:st(t.onFocus,S=>{const P=!A.current;if(S.target===S.currentTarget&&P&&!v){const R=new CustomEvent(d3,$ve);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=C().filter(U=>U.focusable),k=I.find(U=>U.active),D=I.find(U=>U.id===g),J=[k,D,...I].filter(Boolean).map(U=>U.ref.current);yK(J,u)}}A.current=!1}),onBlur:st(t.onBlur,()=>y(!1))})})}),gK="RovingFocusGroupItem",vK=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=Es(),l=a||s,c=Hve(gK,r),u=c.currentTabStopId===l,f=pK(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return E.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),d.jsx(gN.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:d.jsx(Nt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:st(t.onMouseDown,m=>{n?c.onItemFocus(l):m.preventDefault()}),onFocus:st(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:st(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=Kve(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const y=v.indexOf(m.currentTarget);v=c.loop?Yve(v,y+1):v.slice(y+1)}setTimeout(()=>yK(v))}})})})});vK.displayName=gK;var Wve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Kve(t,e,r){const n=Gve(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Wve[n]}function yK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Yve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var xK=mK,wK=vK,HO="Tabs",[Xve,btt]=Nl(HO,[AS]),bK=AS(),[Qve,qO]=Xve(HO),_K=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=xS(s),[f,h]=_l({prop:n,onChange:i,defaultProp:a});return d.jsx(Qve,{scope:r,baseId:Es(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:d.jsx(Nt.div,{dir:u,"data-orientation":o,...c,ref:e})})});_K.displayName=HO;var SK="TabsList",AK=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=qO(SK,r),o=bK(r);return d.jsx(xK,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:d.jsx(Nt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});AK.displayName=SK;var EK="TabsTrigger",CK=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=qO(EK,r),s=bK(r),l=PK(o.baseId,n),c=IK(o.baseId,n),u=n===o.value;return d.jsx(wK,{asChild:!0,...s,focusable:!i,active:u,children:d.jsx(Nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:st(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:st(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:st(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(n)})})})});CK.displayName=EK;var NK="TabsContent",TK=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=qO(NK,r),l=PK(s.baseId,n),c=IK(s.baseId,n),u=n===s.value,f=E.useRef(u);return E.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(Co,{present:i||u,children:({present:h})=>d.jsx(Nt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});TK.displayName=NK;function PK(t,e){return`${t}-trigger-${e}`}function IK(t,e){return`${t}-content-${e}`}var Zve=_K,OK=AK,kK=CK,jK=TK;const yp=Zve,If=E.forwardRef(({className:t,...e},r)=>d.jsx(OK,{ref:r,className:dt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));If.displayName=OK.displayName;const Cn=E.forwardRef(({className:t,onClick:e,...r},n)=>{const i=a=>{po.light(),e&&e(a)};return d.jsx(kK,{ref:n,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),onClick:i,...r})});Cn.displayName=kK.displayName;const Nn=E.forwardRef(({className:t,...e},r)=>d.jsx(jK,{ref:r,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nn.displayName=jK.displayName;var WO="Avatar",[Jve,_tt]=Nl(WO),[eye,RK]=Jve(WO),DK=E.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=E.useState("idle");return d.jsx(eye,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:d.jsx(Nt.span,{...n,ref:e})})});DK.displayName=WO;var MK="AvatarImage",LK=E.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=RK(MK,r),s=tye(n,a.referrerPolicy),l=sa(c=>{i(c),o.onImageLoadingStatusChange(c)});return zi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?d.jsx(Nt.img,{...a,ref:e,src:n}):null});LK.displayName=MK;var FK="AvatarFallback",BK=E.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=RK(FK,r),[o,s]=E.useState(n===void 0);return E.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?d.jsx(Nt.span,{...i,ref:e}):null});BK.displayName=FK;function tye(t,e){const[r,n]=E.useState("idle");return zi(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&n(s)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var $K=DK,UK=LK,VK=BK;const Aa=E.forwardRef(({className:t,...e},r)=>d.jsx($K,{ref:r,className:dt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Aa.displayName=$K.displayName;const GO=E.forwardRef(({className:t,...e},r)=>d.jsx(UK,{ref:r,className:dt("aspect-square h-full w-full",t),...e}));GO.displayName=UK.displayName;const Ea=E.forwardRef(({className:t,...e},r)=>d.jsx(VK,{ref:r,className:dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ea.displayName=VK.displayName;const oy=t=>t.toLowerCase().trim(),KO=t=>oy(t),YO=()=>{try{const t=localStorage.getItem("priceHistory");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load price history:",t)}return{}},rye=t=>{try{localStorage.setItem("priceHistory",JSON.stringify(t))}catch(e){console.error("Failed to save price history:",e)}},gM=(t,e,r,n=1,i)=>{const a=YO(),o=KO(t),s={itemName:t,price:e,store:r,date:new Date().toISOString(),quantity:n,unit:i};a[o]||(a[o]=[]),a[o].push(s),a[o].length>10&&(a[o]=a[o].slice(-10)),rye(a)},zK=t=>{const e=YO(),r=KO(t);return!e[r]||e[r].length===0?null:[...e[r]].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime())[0]},nye=t=>t.price/t.quantity,iye=t=>{const e=YO(),r=KO(t);return e[r]?[...e[r]].sort((n,i)=>new Date(i.date).getTime()-new Date(n.date).getTime()):[]},vM=(t,e,r=10)=>{const n=zK(t);if(!n)return{isHigher:!1,difference:0,previousPrice:null};const i=nye(n),a=(e-i)/i*100;return{isHigher:a>r,difference:a,previousPrice:i}},yM=({id:t,itemName:e,value:r,onChange:n,className:i,placeholder:a="0.00"})=>{const[o,s]=E.useState(r?r.toString():""),[l,c]=E.useState(!1),[u,f]=E.useState(),[h,p]=E.useState(null),m=x=>`$${x.toFixed(2)}`;E.useEffect(()=>{if(e){const x=zK(e);if(x&&(f({lastPrice:x.price,store:x.store,date:new Date(x.date)}),r)){const v=vM(e,r);p({isHigher:v.isHigher,difference:v.difference})}}},[e,r]);const g=x=>{const v=x.target.value;s(v);const y=parseFloat(v);if(!isNaN(y)&&(n(y),e&&(u!=null&&u.lastPrice))){const w=vM(e,y);p({isHigher:w.isHigher,difference:w.difference})}};return e?d.jsx("div",{className:dt("w-full",i),children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsxs(gt,{htmlFor:t||"price",className:"text-xs flex items-center justify-between",children:[d.jsx("span",{children:"Price"}),(u==null?void 0:u.lastPrice)&&d.jsx(sO,{children:d.jsxs(YH,{children:[d.jsx(XH,{asChild:!0,children:d.jsx(De,{variant:"ghost",size:"icon",className:"h-5 w-5 p-0",onClick:()=>c(!l),children:d.jsx(jse,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),d.jsx(lO,{side:"top",children:d.jsxs("div",{className:"text-xs p-1",children:[d.jsxs("p",{children:["Last price: ",m(u.lastPrice)]}),d.jsxs("p",{children:["Store: ",u.store]}),u.date&&d.jsx("p",{className:"text-[10px] text-muted-foreground",children:T0(u.date,{addSuffix:!0})})]})})]})})]}),d.jsxs("div",{className:"relative",children:[d.jsx(As,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),d.jsx(ur,{id:t||"price",type:"number",step:"0.01",min:"0",placeholder:a,value:o,onChange:g,className:"pl-7"}),h&&(u==null?void 0:u.lastPrice)&&d.jsxs("div",{className:`absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center text-xs ${h.isHigher?"text-red-500":h.difference<0?"text-green-500":"text-muted-foreground"}`,children:[h.isHigher&&d.jsxs(d.Fragment,{children:[d.jsx(bR,{className:"h-3 w-3 mr-0.5"}),Math.abs(h.difference).toFixed(1),"%"]}),h.difference<0&&d.jsxs(d.Fragment,{children:[d.jsx(Ase,{className:"h-3 w-3 mr-0.5"}),Math.abs(h.difference).toFixed(1),"%"]})]})]}),(u==null?void 0:u.lastPrice)&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-1 flex items-center",children:[d.jsx(hp,{className:"h-3 w-3 mr-1"}),"Last: ",m(u.lastPrice)," at ",u.store]}),(h==null?void 0:h.isHigher)&&d.jsxs("div",{className:"text-xs text-red-500 pl-1 flex items-center",children:[d.jsx(bR,{className:"h-3 w-3 mr-1"}),"Price increased by ",Math.abs(h.difference).toFixed(1),"% from last purchase"]})]})}):d.jsxs("div",{className:dt("relative",i),children:[d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),d.jsx(ur,{id:t,type:"number",step:"0.01",min:"0",placeholder:a,value:o,onChange:g,className:"pl-7"})]})},aye=(t,e)=>{try{const r=`tripSplit_${t}`;localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Failed to save split configuration:",r)}},vN=t=>{try{const e=`tripSplit_${t}`,r=localStorage.getItem(e);if(r)return JSON.parse(r)}catch(e){console.error("Failed to load split configuration:",e)}return[]},oye=(t,e)=>{if(!Array.isArray(e)||e.length===0)return{itemId:t,splitType:"equal",details:[]};const r=e.filter(i=>i&&i.id&&i.name);if(r.length===0)return{itemId:t,splitType:"equal",details:[]};const n=100/r.length;return{itemId:t,splitType:"equal",details:r.map(i=>({userId:i.id,userName:i.name,share:n}))}},f3=(t,e,r,n)=>{const i=t.findIndex(a=>a.itemId===e);if(i>=0){const a=[...t];return a[i]={itemId:e,splitType:r,details:n},a}else return[...t,{itemId:e,splitType:r,details:n}]},sye=(t,e,r)=>{if(!Array.isArray(r))return[];const n=r.filter(s=>s&&s.id&&s.name);if(n.length===0)return[];const i=vN(t),a=n.map(s=>({userId:s.id,userName:s.name,totalAmount:0,itemCount:0})),o=n.find(s=>s.name==="You");return e.forEach(s=>{if(s.price===void 0)return;const l=i.find(u=>u.itemId===s.id),c=s.price*s.quantity;if(l)if(l.splitType==="equal"){if(l.details.length===0)return;const u=c/l.details.length;l.details.forEach(f=>{const h=a.find(p=>p.userId===f.userId);h&&(h.totalAmount+=u,h.itemCount+=1)})}else l.splitType==="percentage"?l.details.forEach(u=>{const f=a.find(h=>h.userId===u.userId);f&&(f.totalAmount+=c*u.share/100,f.itemCount+=1)}):l.splitType==="person"&&l.details.forEach(u=>{const f=a.find(h=>h.userId===u.userId);f&&(f.totalAmount+=u.share,f.itemCount+=1)});else{const u=c/n.length;n.forEach(f=>{const h=a.find(p=>p.userId===f.id);h&&(h.totalAmount+=u,h.itemCount+=1)})}}),o&&(e.reduce((s,l)=>s+(l.price||0)*l.quantity,0),a.find(s=>s.userId===o.id)),a.forEach(s=>{s.totalAmount=Math.round(s.totalAmount*100)/100}),a};var XO="Checkbox",[lye,Stt]=Nl(XO),[cye,uye]=lye(XO),HK=E.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=E.useState(null),m=dr(e,C=>p(C)),g=E.useRef(!1),x=h?u||!!h.closest("form"):!0,[v=!1,y]=_l({prop:i,defaultProp:a,onChange:c}),w=E.useRef(v);return E.useEffect(()=>{const C=h==null?void 0:h.form;if(C){const A=()=>y(w.current);return C.addEventListener("reset",A),()=>C.removeEventListener("reset",A)}},[h,y]),d.jsxs(cye,{scope:r,state:v,disabled:s,children:[d.jsx(Nt.button,{type:"button",role:"checkbox","aria-checked":Yd(v)?"mixed":v,"aria-required":o,"data-state":GK(v),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onKeyDown:st(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:st(t.onClick,C=>{y(A=>Yd(A)?!0:!A),x&&(g.current=C.isPropagationStopped(),g.current||C.stopPropagation())})}),x&&d.jsx(dye,{control:h,bubbles:!g.current,name:n,value:l,checked:v,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Yd(a)?!1:a})]})});HK.displayName=XO;var qK="CheckboxIndicator",WK=E.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=uye(qK,r);return d.jsx(Co,{present:n||Yd(a.state)||a.state===!0,children:d.jsx(Nt.span,{"data-state":GK(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});WK.displayName=qK;var dye=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=E.useRef(null),s=VO(r),l=nO(e);E.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});u.indeterminate=Yd(r),p.call(u,Yd(r)?!1:r),u.dispatchEvent(m)}},[s,r,n]);const c=E.useRef(Yd(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Yd(t){return t==="indeterminate"}function GK(t){return Yd(t)?"indeterminate":t?"checked":"unchecked"}var KK=HK,fye=WK;const YK=E.forwardRef(({className:t,...e},r)=>d.jsx(KK,{ref:r,className:dt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(fye,{className:dt("flex items-center justify-center text-current"),children:d.jsx(dc,{className:"h-4 w-4"})})}));YK.displayName=KK.displayName;const XK="taska_ledger_transactions",Eg=()=>{try{const t=localStorage.getItem(XK);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load ledger transactions:",t)}return[]},QK=t=>{try{localStorage.setItem(XK,JSON.stringify(t))}catch(e){console.error("Failed to save ledger transactions:",e)}},ZK=t=>{const e=Eg(),r={...t,id:Date.now().toString()};return e.push(r),QK(e),r},QO=(t,e)=>{const r=Eg(),n=r.findIndex(a=>a.id===t);if(n===-1)return null;const i={...r[n],...e};return r[n]=i,QK(r),i},ZO=()=>{const t=Eg(),e=new Map;return t.forEach(r=>{if(r.status!=="completed")return;e.has(r.fromUserId)||e.set(r.fromUserId,{userId:r.fromUserId,userName:r.fromUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0}),e.has(r.toUserId)||e.set(r.toUserId,{userId:r.toUserId,userName:r.toUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0});const n=e.get(r.fromUserId),i=e.get(r.toUserId);if(r.type==="expense")if(r.isSplit){i.totalSpent+=r.amount;const a=r.amount/2;n.owesAmount+=a,i.owedAmount+=a}else i.totalSpent+=r.amount,n.owesAmount+=r.amount,i.owedAmount+=r.amount;else r.type==="payment"&&(n.totalSpent+=r.amount,n.owedAmount+=r.amount,i.owesAmount+=r.amount)}),e.forEach(r=>{r.netBalance=r.owedAmount-r.owesAmount}),Array.from(e.values())},hye=()=>{const t=ZO(),e=t.filter(o=>o.netBalance<0).sort((o,s)=>o.netBalance-s.netBalance),r=t.filter(o=>o.netBalance>0).sort((o,s)=>s.netBalance-o.netBalance),n=[];let i=0,a=0;for(;i<e.length&&a<r.length;){const o=e[i],s=r[a],l=Math.min(Math.abs(o.netBalance),s.netBalance);l>0&&n.push({from:o,to:s,amount:Math.round(l*100)/100}),o.netBalance+=l,s.netBalance-=l,Math.abs(o.netBalance)<.01&&i++,Math.abs(s.netBalance)<.01&&a++}return n},pye=(t,e,r,n,i,a,o,s=!0,l="other")=>ZK({tripId:t,timestamp:Date.now(),amount:o,type:"expense",fromUserId:r,fromUserName:n,toUserId:i,toUserName:a,description:`Expenses from trip to ${e}`,status:"completed",isSplit:s,category:l}),mye=(t,e,r,n,i,a="Payment",o)=>ZK({timestamp:Date.now(),amount:i,type:"payment",fromUserId:t,fromUserName:e,toUserId:r,toUserName:n,description:a,status:"pending",category:o}),gye=t=>QO(t,{status:"completed"}),vye=t=>QO(t,{status:"cancelled"}),yN=()=>[{id:"food",label:"Food & Dining",icon:"utensils"},{id:"groceries",label:"Groceries",icon:"shopping-cart"},{id:"household",label:"Household",icon:"home"},{id:"utilities",label:"Utilities",icon:"bolt"},{id:"rent",label:"Rent & Mortgage",icon:"building"},{id:"transportation",label:"Transportation",icon:"car"},{id:"entertainment",label:"Entertainment",icon:"film"},{id:"personal",label:"Personal",icon:"user"},{id:"medical",label:"Medical",icon:"stethoscope"},{id:"other",label:"Other",icon:"circle"}],yye=(t,e)=>QO(t,{category:e}),xye=({tripId:t=`trip-${Date.now()}`,tripName:e="Shopping Trip",items:r,participants:n,onSettleUp:i,onSplitUpdated:a})=>{const[o,s]=E.useState([]),[l,c]=E.useState(0),[u,f]=E.useState(!1),[h,p]=E.useState(!1),[m,g]=E.useState("equal"),[x,v]=E.useState([]),[y,w]=E.useState([]),{toast:C}=_n();E.useEffect(()=>{const H=r.reduce((F,q)=>F+(q.price||0)*q.quantity,0);c(H);const te=sye(t,r,n);s(te);const ie=vN(t);f(ie.length>0)},[t,r,n]),E.useEffect(()=>{if(h){const H=n.map(F=>F.id);w(H);const te=100/H.length,ie=H.map(F=>{const q=n.find(Q=>Q.id===F);return{userId:F,userName:(q==null?void 0:q.name)||"Unknown",share:te}});v(ie),g("equal")}},[h,n]);const A=o.find(H=>H.userName==="You"),O=o.filter(H=>H.userName!=="You"),N=r.filter(H=>H.price!==void 0).length,S=()=>{C({title:"Share split summary",description:"This feature is coming soon!"})},P=()=>{C({title:"Export to CSV",description:"This feature is coming soon!"})},R=H=>{if(!A||!i)return;const te=o.find(ie=>ie.userId===H);te&&(pye(t,e,A.userId,A.userName,te.userId,te.userName,te.totalAmount),i(te.totalAmount,H,A.userId),C({title:"Payment recorded",description:`Payment of $${te.totalAmount.toFixed(2)} to ${te.userName} has been recorded in the ledger`}))},I=()=>"You",k=H=>{if(y.includes(H)){const ie=y.filter(q=>q!==H);w(ie);const F=x.filter(q=>q.userId!==H);if(ie.length>0){if(m==="equal"){const q=100/ie.length;F.forEach(Q=>Q.share=q)}else if(m==="percentage"){const q=F.reduce((Q,se)=>Q+se.share,0);if(q>0){const Q=100/q;F.forEach(se=>se.share=se.share*Q)}}}v(F)}else{const ie=[...y,H];w(ie);const F=n.find(Q=>Q.id===H);if(!F)return;let q=0;if(m==="equal"){q=100/ie.length;const Q=[...x.map(se=>({...se,share:q})),{userId:H,userName:F.name,share:q}];v(Q)}else if(m==="percentage"){const Q=[...x,{userId:H,userName:F.name,share:0}];v(Q)}else if(m==="person"){const Q=[...x,{userId:H,userName:F.name,share:0}];v(Q)}}},D=H=>{const te=H;if(g(te),te==="equal"){const ie=100/y.length,F=y.map(q=>{const Q=n.find(se=>se.id===q);return{userId:q,userName:(Q==null?void 0:Q.name)||"Unknown",share:ie}});v(F)}else if(te==="percentage"){const ie=100/y.length,F=y.map(q=>{const Q=n.find(se=>se.id===q);return{userId:q,userName:(Q==null?void 0:Q.name)||"Unknown",share:ie}});v(F)}else if(te==="person"){const ie=l/y.length,F=y.map(q=>{const Q=n.find(se=>se.id===q);return{userId:q,userName:(Q==null?void 0:Q.name)||"Unknown",share:ie}});v(F)}},z=(H,te)=>{const ie=parseFloat(te);if(isNaN(ie))return;const F=x.map(q=>q.userId===H?{...q,share:ie}:q);v(F)},J=m==="percentage"?x.reduce((H,te)=>H+te.share,0):100,U=m==="person"?x.reduce((H,te)=>H+te.share,0):0,K=m!=="person"||Math.abs(U-l)<.01,$=()=>{if(m==="percentage"&&Math.abs(J-100)>.01){C({title:"Percentages must sum to 100%",variant:"destructive"});return}if(m==="person"&&!K){C({title:`Amounts must sum to ${l.toFixed(2)}`,variant:"destructive"});return}const H=r.filter(ie=>ie.price!==void 0);if(H.length===0){C({title:"No items to split",description:"Add prices to items before splitting costs",variant:"destructive"});return}let te=vN(t);for(const ie of H)if(m==="equal"){const F=oye(ie.id,n.filter(q=>y.includes(q.id)));te=f3(te,ie.id,m,F.details)}else if(m==="percentage")te=f3(te,ie.id,m,x);else if(m==="person"&&ie.price){const q=ie.price*(ie.quantity||1)/l,Q=x.map(se=>({...se,share:se.share*q}));te=f3(te,ie.id,m,Q)}aye(t,te),C({title:"Bulk split applied",description:`Split applied to ${H.length} items`}),p(!1),a&&a()};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(qt,{children:[d.jsxs(Vr,{className:"pb-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(zr,{className:"text-lg",children:"Split Summary"}),d.jsx(Qt,{variant:u?"secondary":"outline",children:u?"Custom Split":"Equal Split"})]}),d.jsxs(wl,{children:[r.length," items with a total of $",l.toFixed(2)]})]}),d.jsxs(Wt,{className:"pb-3",children:[d.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trip Cost"}),d.jsxs("div",{className:"text-xl font-bold flex items-center",children:[d.jsx(As,{className:"h-4 w-4 mr-1"}),l.toFixed(2)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Items with prices"}),d.jsxs("div",{className:"text-base",children:[N," of ",r.length," items"]})]})]}),d.jsx("div",{className:"space-y-3",children:o.map(H=>d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Aa,{className:"h-8 w-8",children:d.jsx(Ea,{className:"text-xs",children:H.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:H.userName}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[H.itemCount," items"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-medium",children:["$",H.totalAmount.toFixed(2)]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[(H.totalAmount/l*100).toFixed(0),"% of total"]})]})]},H.userId))}),n.length===0&&d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[d.jsx(bo,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No participants added yet."})]}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs(Hi,{open:h,onOpenChange:p,children:[d.jsx(lge,{asChild:!0,children:d.jsxs(De,{variant:"outline",className:"w-full",children:[d.jsx(dH,{className:"h-4 w-4 mr-2"}),"Customize Split"]})}),d.jsxs(Ci,{className:"max-h-[90vh] overflow-y-auto",children:[d.jsx(Ni,{children:d.jsx(Ti,{children:"Customize Cost Split"})}),d.jsxs("div",{className:"space-y-4 py-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{children:"Split Type"}),d.jsxs(yi,{value:m,onValueChange:H=>D(H),children:[d.jsx(oi,{children:d.jsx(xi,{placeholder:"Select split type"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"equal",children:"Equal Split"}),d.jsx(Ct,{value:"percentage",children:"Percentage"}),d.jsx(Ct,{value:"custom",children:"Custom Amount"})]})]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[m==="equal"&&"Split the cost equally among selected participants",m==="percentage"&&"Assign a percentage of the total to each participant",m==="custom"&&"Specify exact amounts for each participant"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{children:"Select Participants"}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(H=>{var te;return d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(YK,{id:`participant-${H.id}`,checked:y.includes(H.id),onCheckedChange:()=>k(H.id)}),d.jsxs(gt,{htmlFor:`participant-${H.id}`,className:"flex items-center cursor-pointer",children:[d.jsx(Aa,{className:"h-6 w-6 mr-2",children:d.jsx(Ea,{className:"text-xs",children:H.name.charAt(0)})}),d.jsx("span",{children:H.name})]}),y.includes(H.id)&&d.jsx("div",{className:"ml-auto flex items-center space-x-2",children:d.jsx(ur,{type:m==="custom"?"number":"text",step:m==="custom"?"0.01":void 0,min:"0",placeholder:m==="percentage"?"%":m==="custom"?"$":"Equal",className:"w-20 h-8 text-sm",value:m==="equal"?(100/y.length).toFixed(0)+"%":((te=x.find(ie=>ie.userId===H.id))==null?void 0:te.share.toFixed(m==="percentage"?0:2))+(m==="percentage"?"%":""),onChange:ie=>z(H.id,ie.target.value),disabled:m==="equal"})})]},H.id)})})]})]}),d.jsxs(hc,{children:[d.jsx(De,{variant:"ghost",onClick:()=>p(!1),children:"Cancel"}),d.jsx(De,{onClick:$,children:"Apply Split"})]})]})]}),d.jsxs(De,{variant:"outline",className:"w-full",onClick:S,children:[d.jsx(uH,{className:"h-4 w-4 mr-2"}),"Share Split Summary"]}),d.jsxs(De,{variant:"outline",className:"w-full",onClick:P,children:[d.jsx(Xv,{className:"h-4 w-4 mr-2"}),"Export as CSV"]})]})]})]}),A&&d.jsxs(qt,{children:[d.jsx(Vr,{className:"pb-3",children:d.jsx(zr,{className:"text-lg",children:"Your Summary"})}),d.jsxs(Wt,{className:"pb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"You owe"}),d.jsxs("div",{className:"text-xl font-bold",children:["$",A.totalAmount.toFixed(2)]})]}),d.jsxs(Qt,{variant:"outline",className:"text-xs",children:[A.itemCount," items"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm font-medium",children:"Settle up with:"}),O.map(H=>d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Aa,{className:"h-8 w-8",children:d.jsx(Ea,{className:"text-xs",children:H.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:H.userName}),d.jsx("div",{className:"text-xs text-muted-foreground",children:I()===H.userName?"Paid for this trip":"Sharing cost"})]})]}),d.jsxs(De,{variant:"outline",size:"sm",onClick:()=>R(H.userId),disabled:!i,children:[d.jsx(S0,{className:"h-3.5 w-3.5 mr-2"}),"Pay $",H.totalAmount.toFixed(2)]})]},H.userId)),O.length===0&&d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[d.jsx(Qm,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No other participants to settle with."})]})]})]})]})]})};function wye(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function bye(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var _ye=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sye=function(t){_ye(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),wye(a,i.prototype),bye(a),a}return e}(Error),Aye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),No=function(t){Aye(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Sye),Eye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tl=function(t){Eye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(No),Cye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt=function(t){Cye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(No),Nye=function(){function t(e){if(this.binarizer=e,e===null)throw new kt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Tye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(t){Tye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(No),Pye=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),sn=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Iye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JO=function(t){Iye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(No),Oye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xM=function(t){Oye(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(JO),kye=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bi=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new kt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new xM(r);if(n>e)throw new xM(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=kye(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return sn.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),rr=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$i=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);sn.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+rr.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+rr.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new kt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,c=(2<<l)-(1<<s);a[o]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new kt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<l)&4294967295;if((o[s]&u)!==(n?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new kt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new kt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&bi.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+bi.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),xN;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(xN||(xN={}));const yn=xN;var jye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(t){jye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(No),Rye=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fr;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Fr||(Fr={}));var wi=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var h=Rye(o),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new lt("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new lt("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new lt("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Fr.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Fr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Fr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Fr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Fr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Fr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Fr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Fr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Fr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Fr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Fr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Fr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Fr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Fr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Fr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Fr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Fr.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Fr.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Fr.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Fr.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Fr.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Fr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Fr.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Fr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Fr.Big5,28,"Big5"),t.GB18030=new t(Fr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Fr.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Dye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hw=function(t){Dye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(No),Cs=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof wi?e:wi.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(wi.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Hw("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(wi.UTF8)||e.equals(wi.ISO8859_1)||e.equals(wi.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),hr=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Cs.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(yn.CHARACTER_SET)!==void 0)return r.get(yn.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,g=0,x=0,v=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||a||o);w++){var C=e[w]&255;o&&(s>0?C&128?s--:o=!1:C&128&&(C&64?(s++,C&32?(s++,C&16?(s++,C&8?o=!1:u++):c++):l++):o=!1)),i&&(C>127&&C<160?i=!1:C>159&&(C<192||C===215||C===247)&&v++),a&&(f>0?C<64||C===127||C>252?a=!1:f--:C===128||C===160||C>239?a=!1:C>160&&C<224?(h++,m=0,p++,p>g&&(g=p)):C>127?(f++,p=0,m++,m>x&&(x=m)):(p=0,m=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(y||l+c+u>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||x>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||v*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,c,u,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=u?parseInt(u.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(s);break;case"p":m=parseFloat(r[i]).toPrecision(s);break;case"e":m=parseFloat(r[i]).toExponential(s);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";m.length<g;)m=l!==void 0?m+x:x+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return Cs.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=wi.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=wi.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=wi.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),tr=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=hr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),pc=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new kt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new kt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new kt("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new kt("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new kt("row lengths do not match");l++}for(var u=new t(s,l),f=0;f<a;f++)i[f]&&u.set(Math.floor(f%s),Math.floor(f/s));return u},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new kt("input matrix dimensions do not match");for(var r=new $i(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new kt("Left and top must be nonnegative");if(i<1||n<1)throw new kt("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new kt("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<o;c++)for(var u=c*s,f=e;f<a;f++)l[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new $i(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){sn.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new $i(e),i=new $i(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,c=0;c<r;c++)for(var u=0;u<n;u++){var f=i[c*n+u];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),u*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;u*32+h<a&&(a=u*32+h)}if(u*32+31>s){for(var h=31;!(f>>>h);)h--;u*32+h>s&&(s=u*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&bi.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+bi.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new tr,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Mye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$e=function(t){Mye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(No),Lye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fye=function(t){Lye(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new $i(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var u=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-u-h)/2<c&&n.set(l),u=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new pc(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),u=Math.floor(n*4/5),f=Math.floor(n/5);f<u;f++){var h=c[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var u=s-a,f=r[s]*u*u;f>c&&(l=s,c=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new $e;for(var p=l-1,m=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>m&&(p=s,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Pye),Bye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$ye=function(t){Bye(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new pc(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var x=e.cap(m,2,n-3),v=0,y=-2;y<=2;y++){var w=s[p+y];v+=w[x-2]+w[x-1]+w[x]+w[x+1]+w[x+2]}var C=v/25;e.thresholdBlock(r,g,h,C,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var u=0;u<e.BLOCK_SIZE;u++)(r[c+u]&255)<=a&&s.set(n+u,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),u=0;u<i;u++){c[u]=new Int32Array(n);var f=u<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=0,g=255,x=0,v=0,y=f*a+p;v<e.BLOCK_SIZE;v++,y+=a){for(var w=0;w<e.BLOCK_SIZE;w++){var C=r[y+w]&255;m+=C,C<g&&(g=C),C>x&&(x=C)}if(x-g>e.MIN_DYNAMIC_RANGE)for(v++,y+=a;v<e.BLOCK_SIZE;v++,y+=a)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[y+w]&255}var A=m>>e.BLOCK_SIZE_POWER*2;if(x-g<=e.MIN_DYNAMIC_RANGE&&(A=g/2,u>0&&h>0)){var O=(c[u-1][h]+2*c[u][h-1]+c[u-1][h-1])/4;g<O&&(A=O)}c[u][h]=A}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Fye),ES=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Hw("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Hw("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Hw("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new tr,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),Uye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ek=function(t){Uye(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(ES),Vye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zye=function(t){Vye(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,c=r.length;s<c;s+=4,l++){var u=void 0,f=r[s+3];if(f===0)u=255;else{var h=r[s],p=r[s+1],m=r[s+2];u=306*h+601*p+117*m+512>>10}o[l]=u}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var u=void 0,f=r[s+3];if(f===0)u=255;else{var h=r[s],p=r[s+1],m=r[s+2];u=306*h+601*p+117*m+512>>10}o[l]=255-u}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new ek(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(ES),Hye=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Va=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},za=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},qye=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cg=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Va(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,c,u,f,h;return za(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=qye(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),c=a.groupId,u={deviceId:s,label:l,kind:o,groupId:c},r.push(u))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Va(this,void 0,void 0,function(){var e;return za(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Hye(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Va(this,void 0,void 0,function(){var r;return za(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Va(this,void 0,void 0,function(){return za(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Va(this,void 0,void 0,function(){var n,i;return za(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Va(this,void 0,void 0,function(){var n;return za(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Va(this,void 0,void 0,function(){var n,i;return za(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Va(this,void 0,void 0,function(){return za(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Va(this,void 0,void 0,function(){var i,a;return za(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Va(this,void 0,void 0,function(){var i;return za(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Va(this,void 0,void 0,function(){var i;return za(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Va(this,void 0,void 0,function(){var n;return za(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Va(this,void 0,void 0,function(){return za(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new tl("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new tl("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new tl("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new tl("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new tl("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new tl("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new tl("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new tl("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new tl("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new tl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Va(this,void 0,void 0,function(){return za(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Va(this,void 0,void 0,function(){return za(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new $e("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var c=r&&h instanceof $e,u=h instanceof Bi||h instanceof lt,f=u&&n;if(c||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof Bi||l instanceof lt,s=l instanceof $e;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new zye(n,r),a=new $ye(i);return new Nye(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Da=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=sn.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=sn.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);sn.arraycopy(r,0,n,0,r.length),sn.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),wN;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wN||(wN={}));const Pt=wN;var bN;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bN||(bN={}));const ra=bN;var CS=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Y1=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new kt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Xd=function(){function t(e,r){if(r.length===0)throw new kt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),sn.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Y1.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Y1.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;sn.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Y1.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=r[l],u=0;u<a;u++)o[l+u]=Y1.addOrSubtract(o[l+u],s.multiply(c,i[u]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new kt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new kt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new kt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),u=r.buildMonomial(s,l);n=n.addOrSubtract(u),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),Wye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JK=function(t){Wye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(No),Gye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mo=function(t){Gye(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new Xd(a,Int32Array.from([0])),a.one=new Xd(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new kt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Xd(this,i)},e.prototype.inverse=function(r){if(r===0)throw new JK;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+rr.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Y1),Kye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H2=function(t){Kye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(No),Yye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_x=function(t){Yye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(No),NS=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Xd(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new Xd(n,a),u=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=u[0],h=u[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new H2("Bad error location");e[g]=mo.addOrSubtract(e[g],m[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var u=o,f=l;if(o=s,l=c,o.isZero())throw new H2("r_{i-1} was zero");s=u;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),m=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),x=a.multiply(s.getCoefficient(s.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(g,x)),s=s.addOrSubtract(o.multiplyByMonomial(g,x))}if(c=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new _x("Division algorithm failed to reduce polynomial?")}var v=c.getCoefficient(0);if(v===0)throw new H2("sigmaTilde(0) was zero");var y=a.inverse(v),w=c.multiplyScalar(y),C=s.multiplyScalar(y);return[w,C]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new H2("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,c=0;c<n;c++)if(o!==c){var u=a.multiply(r[c],s),f=u&1?u&-2:u|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),Xi;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Xi||(Xi={}));var wM=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new CS(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Xi.UPPER,i=Xi.UPPER,a="",o=0;o<r;)if(i===Xi.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var c=t.readCode(e,o,8);a+=hr.castAsNonUtf8Char(c),o+=8}i=n}else{var u=i===Xi.DIGIT?4:5;if(r-o<u)break;var c=t.readCode(e,o,u);o+=u;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Xi.LOWER;case"P":return Xi.PUNCT;case"M":return Xi.MIXED;case"D":return Xi.DIGIT;case"B":return Xi.BINARY;case"U":default:return Xi.UPPER}},t.getCharacter=function(e,r){switch(e){case Xi.UPPER:return t.UPPER_TABLE[r];case Xi.LOWER:return t.LOWER_TABLE[r];case Xi.MIXED:return t.MIXED_TABLE[r];case Xi.PUNCT:return t.PUNCT_TABLE[r];case Xi.DIGIT:return t.DIGIT_TABLE[r];default:throw new _x("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=mo.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=mo.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=mo.AZTEC_DATA_10):(n=12,r=mo.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new lt;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var c=new NS(r);c.decode(s,a-i)}catch(x){throw new lt(x)}for(var u=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===u)throw new lt;(h===1||h===u-1)&&f++}for(var p=new Array(i*n-f),m=0,l=0;l<i;l++){var h=s[l];if(h===1||h===u-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*rr.truncDivision(rr.truncDivision(i,2)-1,15),c=i/2,u=rr.truncDivision(l,2),s=0;s<c;s++){var f=s+rr.truncDivision(s,15);a[c-s-1]=u-f-1,a[c+s]=u+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),m=s*2,g=i-1-m,x=0;x<p;x++)for(var v=x*2,y=0;y<2;y++)o[h+v+y]=e.get(a[m+y],a[m+x]),o[h+2*p+v+y]=e.get(a[m+x],a[g-y]),o[h+4*p+v+y]=e.get(a[g-y],a[g-x]),o[h+6*p+v+y]=e.get(a[g-x],a[m+y]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),_r=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),_N=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),St=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*_N.floatToIntBits(this.x)+_N.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return _r.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),tk=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Xye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qye=function(t){Xye(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(tk),SN=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $e}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,u=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!l)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!c)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,c=!0):c||i++;if(i>=p){a=!0;break}for(var x=!0;(x||!u)&&e>=0;)x=this.containsBlackPoint(n,i,e,!1),x?(e--,o=!0,u=!0):u||e--;if(e<0){a=!0;break}for(var v=!0;(v||!f)&&n>=0;)v=this.containsBlackPoint(e,r,n,!0),v?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var y=r-e,w=null,C=1;w===null&&C<y;C++)w=this.getBlackPointOnSegment(e,i-C,e+C,i);if(w==null)throw new $e;for(var A=null,C=1;A===null&&C<y;C++)A=this.getBlackPointOnSegment(e,n+C,e+C,n);if(A==null)throw new $e;for(var O=null,C=1;O===null&&C<y;C++)O=this.getBlackPointOnSegment(r,n+C,r-C,n);if(O==null)throw new $e;for(var N=null,C=1;N===null&&C<y;C++)N=this.getBlackPointOnSegment(r,i-C,r-C,i);if(N==null)throw new $e;return this.centerEdges(N,w,O,A)}else throw new $e},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=_r.round(_r.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,c=0;c<a;c++){var u=_r.round(e+c*o),f=_r.round(r+c*s);if(l.get(u,f))return new St(u,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),u=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new St(f-p,h+p),new St(s+p,l+p),new St(c-p,u-p),new St(a+p,o-p)]:[new St(f+p,h+p),new St(s+p,l-p),new St(c-p,u+p),new St(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),bM=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new $e;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new $e;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),eY=function(){function t(e,r,n,i,a,o,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,c,u,f,h,p,m,g,x){var v=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),y=t.squareToQuadrilateral(c,u,f,h,p,m,g,x);return y.times(v)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=a*p+l*m+f;e[h]=(n*p+o*m+c)/g,e[h+1]=(i*p+s*m+u)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],x=a*m+l*g+f;e[p]=(n*m+o*g+c)/x,r[p]=(i*m+s*g+u)/x}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var c=e-n+a-s,u=r-i+o-l;if(c===0&&u===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,m=l-o,g=f*m-h*p,x=(c*m-h*u)/g,v=(f*u-c*p)/g;return new t(n-e+x*n,s-e+v*s,e,i-r+x*i,l-r+v*l,r,x,v,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Zye=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jye=function(t){Zye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,c,u,f,h,p,m,g,x,v,y,w,C){var A=eY.quadrilateralToQuadrilateral(a,o,s,l,c,u,f,h,p,m,g,x,v,y,w,C);return this.sampleGridWithTransform(r,n,i,A)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new $e;for(var o=new pc(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,u=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=u;a.transformPoints(s),bM.checkAndNudgePoints(r,s);try{for(var f=0;f<c;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new $e}}return o},e}(bM),rk=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Jye,t}(),uo=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new St(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),exe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Qye(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $e;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(rr.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new $e},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new NS(mo.AZTEC_PARAM);l.decode(o,a)}catch{throw new $e}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),u=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,u))break}r=s,n=l,i=c,a=u,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $e;this.compact=this.nbCenterLayers===5;var h=new St(r.getX()+.5,r.getY()-.5),p=new St(n.getX()+.5,n.getY()+.5),m=new St(i.getX()-.5,i.getY()+.5),g=new St(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new SN(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new uo(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new uo(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new uo(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new uo(o-7,s-7),!1,-1,-1).toResultPoint()}var l=_r.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=_r.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new SN(this.image,15,l,c).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new uo(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new uo(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new uo(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new uo(l-7,c-7),!1,-1,-1).toResultPoint()}return l=_r.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=_r.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new uo(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=rk.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),c=o*(r.getX()-e.getX())/a,u=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(_r.round(s+f*c),_r.round(l+f*u))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new uo(e.getX()-a,e.getY()+a),r=new uo(r.getX()-a,r.getY()-a),n=new uo(n.getX()+a,n.getY()-a),i=new uo(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),u=Math.ceil(n),f=0;f<u;f++)s+=i,l+=a,this.image.get(_r.round(s),_r.round(l))!==c&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new uo(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new St(s+i*a,l+i*o),u=new St(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new St(s+i*a,l+i*o),h=new St(s-i*a,l-i*o),p=[c,f,u,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=_r.round(e.getX()),n=_r.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return _r.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return _r.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(rr.truncDivision(this.nbLayers-4,8)+1)+15},t}(),AN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new exe(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new wM().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new wM().decode(s)}catch(f){throw n??f}var l=new Da(o.getText(),o.getRawBytes(),o.getNumBits(),a,Pt.AZTEC,sn.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(ra.BYTE_SEGMENTS,c);var u=o.getECLevel();return u!=null&&l.putMetadata(ra.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(yn.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),txe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){txe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new AN,r)||this}return e})(Cg);var Si=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(yn.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(ra.ORIENTATION)===!0&&(s=s+o.get(ra.ORIENTATION)%360),a.putMetadata(ra.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),u=0;u<l.length;u++)l[u]=new St(c-l[u].getY()-1,l[u].getX());return a}else throw new $e}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new $i(n),o=r&&r.get(yn.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),u=0;u<l;u++){var f=Math.trunc((u+1)/2),h=(u&1)===0,p=c+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(y){if(y===1&&(a.reverse(),r&&r.get(yn.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(O,N){return w.set(N,O)}),w.delete(yn.NEED_RESULT_POINT_CALLBACK),r=w}try{var C=g.decodeRow(p,a,r);if(y===1){C.putMetadata(ra.ORIENTATION,180);var A=C.getResultPoints();A!==null&&(A[0]=new St(n-A[0].getX()-1,A[0].getY()),A[1]=new St(n-A[1].getX()-1,A[1].getY()))}return{value:C}}catch{}},g=this,x=0;x<2;x++){var v=m(x);if(typeof v=="object")return v.value}}throw new $e},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new $e;for(var s=!e.get(r),l=0,c=r;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new $e},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new $e;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],h=r[u]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;c+=p}return c/a},t}(),rxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_M=function(t){rxe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,u=i;u<n;u++)if(r.get(u)!==l)o[a]++;else{if(a===c-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=Si.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new $e},e.decodeCode=function(r,n,i){Si.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new $e},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(yn.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var u;switch(s){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new lt}for(var f=!1,h=!1,p="",m=o[0],g=o[1],x=Int32Array.from([0,0,0,0,0,0]),v=0,y=0,w=s,C=0,A=!0,O=!1,N=!1;!f;){var S=h;switch(h=!1,v=y,y=e.decodeCode(n,x,g),c[l++]=y,y!==e.CODE_STOP&&(A=!0),y!==e.CODE_STOP&&(C++,w+=C*y),m=g,g+=x.reduce(function(K,$){return K+$},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new lt}switch(u){case e.CODE_CODE_A:if(y<64)N===O?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),N=!1;else if(y<96)N===O?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),N=!1;else switch(y!==e.CODE_STOP&&(A=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!O&&N?(O=!0,N=!1):O&&N?(O=!1,N=!1):N=!0;break;case e.CODE_SHIFT:h=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(y<96)N===O?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),N=!1;else switch(y!==e.CODE_STOP&&(A=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!O&&N?(O=!0,N=!1):O&&N?(O=!1,N=!1):N=!0;break;case e.CODE_SHIFT:h=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(A=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new $e;if(w-=C*v,w%103!==v)throw new Bi;var R=p.length;if(R===0)throw new $e;R>0&&A&&(u===e.CODE_CODE_C?p=p.substring(0,R-2):p=p.substring(0,R-1));for(var I=(o[1]+o[0])/2,k=m+P/2,D=c.length,z=new Uint8Array(D),J=0;J<D;J++)z[J]=c[J];var U=[new St(I,r),new St(k,r)];return new Da(p,z,0,U,Pt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Si),nxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SM=function(t){nxe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(n,c),f=n.getNextSet(u[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,c);var g=e.toNarrowWidePattern(c);if(g<0)throw new $e;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var x=(a=void 0,h3(c)),v=x.next();!v.done;v=x.next()){var y=v.value;f+=y}}catch(D){a={error:D}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var C=h3(c),A=C.next();!A.done;A=C.next()){var y=A.value;w+=y}}catch(D){s={error:D}}finally{try{A&&!A.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}var O=f-m-w;if(f!==h&&O*2<w)throw new $e;if(this.usingCheckDigit){for(var N=this.decodeRowResult.length-1,S=0,P=0;P<N;P++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(N)!==e.ALPHABET_STRING.charAt(S%43))throw new Bi;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(this.decodeRowResult.length===0)throw new $e;var R;this.extendedMode?R=e.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;var I=(u[1]+u[0])/2,k=m+w/2;return new Da(R,null,0,[new St(I,r),new St(k,r)],Pt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,c=n.length,u=a;u<i;u++)if(r.get(u)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new $e},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,h3(r)),u=c.next();!u.done;u=c.next()){var f=u.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>o&&(p|=1<<a-1-m,s++,h+=f)}if(s===3){for(var m=0;m<a&&s>0;m++){var f=r[m];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new $e},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new lt;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new lt;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new lt;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new lt;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Si),ixe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AM=function(t){ixe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),u=n.getNextSet(c[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,u,h);var g=this.toPattern(h);if(g<0)throw new $e;p=this.patternToChar(g),this.decodeRowResult+=p,m=u;try{for(var x=(a=void 0,p3(h)),v=x.next();!v.done;v=x.next()){var y=v.value;u+=y}}catch(P){a={error:P}}finally{try{v&&!v.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}u=n.getNextSet(u)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var C=p3(h),A=C.next();!A.done;A=C.next()){var y=A.value;w+=y}}catch(P){s={error:P}}finally{try{A&&!A.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}if(u===f||!n.get(u))throw new $e;if(this.decodeRowResult.length<2)throw new $e;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var O=this.decodeExtended(this.decodeRowResult),N=(c[1]+c[0])/2,S=m+w/2;return new Da(O,null,0,[new St(N,r),new St(S,r)],Pt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,u=i;u<n;u++)if(r.get(u)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,u]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new $e},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=p3(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,u=r.length,f=0;f<u;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)c<<=h;else for(var p=0;p<h;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new $e},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new lt;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new lt;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new lt;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new lt;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new lt;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Bi},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Si),axe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EM=function(t){axe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new tr;e.decodeMiddle(n,s[1],l[0],c);var u=c.toString(),f=null;i!=null&&(f=i.get(yn.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=u.length,p=!1,m=0;try{for(var g=oxe(f),x=g.next();!x.done;x=g.next()){var v=x.value;if(h===v){p=!0;break}v>m&&(m=v)}}catch(C){a={error:C}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new lt;var y=[new St(s[1],r),new St(l[0],r)],w=new Da(u,null,0,y,Pt.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){Si.recordPattern(r,n,o);for(var c=0;c<5;c++){var u=2*c;s[c]=o[u],l[c]=o[u+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new $e},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new $e;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof $e&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,c=0,u=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[c]++;else{if(c===a-1){if(Si.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,f];u+=o[0]+o[1],sn.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new $e},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=Si.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new $e},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Si),sxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k0=function(t){sxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new lt;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new lt;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,u=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===u-1){if(Si.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=p[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new $e},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var u=a[c],f=Si.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new $e},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Si),lxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cxe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new St((n[0]+n[1])/2,e),new St(a,e)],c=new Da(o,null,0,l,Pt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,u=0;u<5&&l<s;u++){var f=k0.decodeDigit(e,o,l,k0.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,lxe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-u),u!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new $e;var g=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==g)throw new $e;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new $e},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[ra.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),uxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dxe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new St((n[0]+n[1])/2,e),new St(a,e)],c=new Da(o,null,0,l,Pt.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,u=0;u<2&&l<s;u++){var f=k0.decodeDigit(e,o,l,k0.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,uxe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-u),u!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new $e;if(parseInt(n.toString())%4!==c)throw new $e;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[ra.ISSUE_NUMBER,parseInt(e)]])},t}(),fxe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=k0.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new cxe;return a.decodeRow(e,r,i)}catch{var o=new dxe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),hxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vi=function(t){hxe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(yn.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new St((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(o!=null){var f=new St(c,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,c);if(o!=null){var p=new St((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new $e;var x=u.toString();if(x.length<8)throw new lt;if(!e.checkChecksum(x))throw new Bi;var v=(a[1]+a[0])/2,y=(h[1]+h[0])/2,w=this.getBarcodeFormat(),C=[new St(v,r),new St(y,r)],A=new Da(x,null,0,C,w,new Date().getTime()),O=0;try{var N=fxe.decodeRow(r,n,h[1]);A.putMetadata(ra.UPC_EAN_EXTENSION,N.getText()),A.putAllMetadata(N.getResultMetadata()),A.addResultPoints(N.getResultPoints()),O=N.getText().length}catch{}var S=i==null?null:i.get(yn.ALLOWED_EAN_EXTENSIONS);if(S!=null){var P=!1;for(var R in S)if(O.toString()===R){P=!0;break}if(!P)throw new $e}return w===Pt.EAN_13||Pt.UPC_A,A},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new lt;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new lt;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(k0),pxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EN=function(t){pxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],h=0,p=0;p<6&&f<u;p++){var m=vi.decodeDigit(r,c,f,vi.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(a=void 0,CM(c)),x=g.next();!x.done;x=g.next()){var v=x.value;f+=v}}catch(A){a={error:A}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var y=vi.findGuardPattern(r,f,!0,vi.MIDDLE_PATTERN,new Int32Array(vi.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var p=0;p<6&&f<u;p++){var m=vi.decodeDigit(r,c,f,vi.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(s=void 0,CM(c)),C=w.next();!C.done;C=w.next()){var v=C.value;f+=v}}catch(N){s={error:N}}finally{try{C&&!C.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Pt.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new $e},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(vi),mxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TM=function(t){mxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],h=0;h<4&&f<u;h++){var p=vi.decodeDigit(r,c,f,vi.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(a=void 0,NM(c)),g=m.next();!g.done;g=m.next()){var x=g.value;f+=x}}catch(C){a={error:C}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var v=vi.findGuardPattern(r,f,!0,vi.MIDDLE_PATTERN,new Int32Array(vi.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<4&&f<u;h++){var p=vi.decodeDigit(r,c,f,vi.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(s=void 0,NM(c)),w=y.next();!w.done;w=y.next()){var x=w.value;f+=x}}catch(O){s={error:O}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Pt.EAN_8},e}(vi),gxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PM=function(t){gxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new EN,r}return e.prototype.getBarcodeFormat=function(){return Pt.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Da(n.substring(1),null,null,r.getResultPoints(),Pt.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new $e},e.prototype.reset=function(){this.ean13Reader.reset()},e}(vi),vxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IM=function(t){vxe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(x){return x});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],u=0,f=0;f<6&&c<l;f++){var h=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,yxe(s)),m=p.next();!m.done;m=p.next()){var g=m.value;c+=g}}catch(x){a={error:x}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(u|=1<<5-f)}return e.determineNumSysAndCheckDigit(new tr(i),u),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return vi.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw $e.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Pt.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new tr;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(vi),xxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m3=function(t){xxe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(yn.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Pt.EAN_13)>-1&&a.push(new EN),i.indexOf(Pt.UPC_A)>-1&&a.push(new PM),i.indexOf(Pt.EAN_8)>-1&&a.push(new TM),i.indexOf(Pt.UPC_E)>-1&&a.push(new IM)),a.length===0&&(a.push(new EN),a.push(new PM),a.push(new TM),a.push(new IM)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=OM(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var u=c.decodeRow(r,n,i),f=u.getBarcodeFormat()===Pt.EAN_13&&u.getText().charAt(0)==="0",h=i==null?null:i.get(yn.POSSIBLE_FORMATS),p=h==null||h.includes(Pt.UPC_A);if(f&&p){var m=u.getRawBytes(),g=new Da(u.getText().substring(1),m,m?m.length:null,u.getResultPoints(),Pt.UPC_A);return g.putAllMetadata(u.getResultMetadata()),g}return u}catch{}}}catch(x){a={error:x}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new $e},e.prototype.reset=function(){var r,n;try{for(var i=OM(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Si),wxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bxe=function(t){wxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new $e;var o=this.codaBarDecodeRow(a.row);if(!o)throw new $e;return new Da(o,null,0,[new St(a.left,r),new St(a.right,r)],Pt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Si),_xe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sxe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gh=function(t){_xe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Si.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new $e},e.count=function(r){return _r.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=Sxe(r),f=u.next();!f.done;f=u.next()){var h=f.value;h>c&&(c=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Si),e_=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),tY=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new St(n,a)),this.resultPoints.push(new St(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Axe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mm=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=Axe(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var u=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(g-=t.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var x=0,v=o-m-(h-p-2);v>r;v--)x+=t.combins(o-m-v-1,h-p-3);g-=x*(h-1-p)}else o-m>r&&g--;u+=g}o-=m}return u},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),Exe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new $i(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],u=c.getLeftChar().getValue(),f=11;f>=0;--f)u&1<<f&&i.set(a),a++;if(c.getRightChar()!==null)for(var h=c.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),oh=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),nk=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Cxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xs=function(t){Cxe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(nk),Nxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sh=function(t){Nxe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(nk),Txe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),am=function(t){Txe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new lt;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(nk),q2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pxe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new $e;var u=e.substring(0,2);try{for(var f=q2(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===u)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(O){r={error:O}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new $e;var m=e.substring(0,3);try{for(var g=q2(t.THREE_DIGIT_DATA_LENGTH),x=g.next();!x.done;x=g.next()){var p=x.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(O){i={error:O}}finally{try{x&&!x.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var v=q2(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(O){o={error:O}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}if(e.length<4)throw new $e;var w=e.substring(0,4);try{for(var C=q2(t.FOUR_DIGIT_DATA_LENGTH),A=C.next();!A.done;A=C.next()){var p=A.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(O){l={error:O}}finally{try{A&&!A.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}throw new $e},t.processFixedAI=function(e,r,n){if(n.length<e)throw new $e;var i=n.substring(0,e);if(n.length<e+r)throw new $e;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),qw=function(){function t(e){this.buffer=new tr,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=Pxe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new am(this.information.getSize(),am.FNC1,am.FNC1):new am(this.information.getSize(),r-1,am.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new am(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new sh(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new sh(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new sh(this.current.getPosition(),this.buffer.toString()):r=new sh(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new oh(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new sh(this.current.getPosition(),this.buffer.toString());return new oh(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new oh(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new sh(this.current.getPosition(),this.buffer.toString());return new oh(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new oh(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new sh(this.current.getPosition(),this.buffer.toString());return new oh(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new oh(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Xs(e+5,Xs.FNC1);if(r>=5&&r<15)return new Xs(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Xs(e+7,""+(n+1));if(n>=90&&n<116)return new Xs(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new lt}return new Xs(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Xs(e+5,Xs.FNC1);if(r>=5&&r<15)return new Xs(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Xs(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new _x("Decoding invalid alphanumeric value: "+n)}return new Xs(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),rY=function(){function t(e){this.information=e,this.generalDecoder=new qw(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Ixe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dl=function(t){Ixe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(rY),Oxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kxe=function(t){Oxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new tr;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(dl),jxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rxe=function(t){jxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new tr;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(rY),Dxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ww=function(t){Dxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(dl),Mxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nY=function(t){Mxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ww.GTIN_SIZE+e.WEIGHT_SIZE)throw new $e;var r=new tr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ww.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ww),Lxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fxe=function(t){Lxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(nY),Bxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$xe=function(t){Bxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(nY),Uxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vxe=function(t){Uxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+dl.GTIN_SIZE)throw new $e;var r=new tr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+dl.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+dl.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(dl),zxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hxe=function(t){zxe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+dl.GTIN_SIZE)throw new $e;var r=new tr;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+dl.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+dl.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+dl.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(dl),qxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dd=function(t){qxe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new $e;var r=new tr;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ww);function Wxe(t){try{if(t.get(1))return new kxe(t);if(!t.get(2))return new Rxe(t);var e=qw.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Fxe(t);case 5:return new $xe(t)}var r=qw.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Vxe(t);case 13:return new Hxe(t)}var n=qw.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new dd(t,"310","11");case 57:return new dd(t,"320","11");case 58:return new dd(t,"310","13");case 59:return new dd(t,"320","13");case 60:return new dd(t,"310","15");case 61:return new dd(t,"320","15");case 62:return new dd(t,"310","17");case 63:return new dd(t,"320","17")}}catch(i){throw console.log(i),new _x("unknown decoder: "+t)}}var kM=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Gxe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Kxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yxe=function(t){Kxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof $e){if(!this.pairs.length)throw new $e;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new $e},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,fd(r)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new $e},e.isValidSequence=function(r){var n,i;try{for(var a=fd(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Gxe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,c;try{for(var u=fd(n),f=u.next();!f.done;f=u.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,fd(h.getPairs())),g=m.next();!g.done;g=m.next()){var x=g.value,v=!1;try{for(var y=(l=void 0,fd(r)),w=y.next();!w.done;w=y.next()){var C=w.value;if(kM.equals(x,C)){v=!0;break}}}catch(A){l={error:A}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}v||(p=!1)}}catch(A){o={error:A}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,c;try{for(var u=fd(n),f=u.next();!f.done;f=u.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,fd(r)),g=m.next();!g.done;g=m.next()){var x=g.value,v=!1;try{for(var y=(l=void 0,fd(h.getPairs())),w=y.next();!w.done;w=y.next()){var C=w.value;if(x.equals(C)){v=!0;break}}}catch(A){l={error:A}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}if(!v){p=!1;break}}}catch(A){o={error:A}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=Exe.buildBitArray(r),i=Wxe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Da(a,null,null,l,Pt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var u=211*(o-4)+a;return u===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $e;var u;try{u=this.decodeDataCharacter(r,o,a,!1)}catch(f){u=null,console.log(f)}return new kM(c,u,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;s<o&&(u=!r.get(s),!!u);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==u)a[f]++;else{if(f===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}c&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,u=!u}throw new $e},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();sn.arraycopy(c,0,c,1,c.length-1),c[0]=a;var u;try{u=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new tY(u,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var u=o[l];o[l]=o[c],o[c]=u}}var f=17,h=_r.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new $e;for(var m=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/h,w=y+.5;if(w<1){if(y<.3)throw new $e;w=1}else if(w>8){if(y>8.7)throw new $e;w=8}var C=l/2;l&1?(g[C]=w,v[C]=y-w):(m[C]=w,x[C]=y-w)}this.adjustOddEvenCounts(f);for(var A=4*n.getValue()+(i?0:2)+(a?0:1)-1,O=0,N=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[A][2*l];N+=m[l]*S}O+=m[l]}for(var P=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[A][2*l+1];P+=g[l]*S}var R=N+P;if(O&1||O>13||O<4)throw new $e;var I=(13-O)/2,k=e.SYMBOL_WIDEST[I],D=9-k,z=Mm.getRSSvalue(m,k,!0),J=Mm.getRSSvalue(g,D,!1),U=e.EVEN_TOTAL_SUBSET[I],K=e.GSUM[I],$=z*U+J+K;return new e_($,R)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=_r.sum(new Int32Array(this.getOddCounts())),i=_r.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,u=(n&1)===1,f=(i&1)===0;if(c===1)if(u){if(f)throw new $e;o=!0}else{if(!f)throw new $e;l=!0}else if(c===-1)if(u){if(f)throw new $e;a=!0}else{if(!f)throw new $e;s=!0}else if(c===0){if(u){if(!f)throw new $e;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new $e}else throw new $e;if(a){if(o)throw new $e;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new $e;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(gh),Xxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qxe=function(t){Xxe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(e_),Zxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jM=function(t){Zxe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var u=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,u),n.reverse();try{for(var f=g3(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(s=void 0,g3(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var x=g.value;if(x.getCount()>1&&e.checkChecksum(p,x))return e.constructResult(p,x)}}catch(v){s={error:v}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new $e},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=g3(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new tr,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var u=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Da(o.toString(),null,0,[u[0],u[1],f[0],f[1]],Pt.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(yn.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new St(c,i))}var u=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new Qxe(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Si.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Si.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var u=i?16:15,f=_r.sum(new Int32Array(a))/u,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var x=a[s]/f,v=Math.floor(x+.5);v<1?v=1:v>8&&(v=8);var y=Math.floor(s/2);s&1?(p[y]=v,g[y]=x-v):(h[y]=v,m[y]=x-v)}this.adjustOddEvenCounts(i,u);for(var w=0,C=0,s=h.length-1;s>=0;s--)C*=9,C+=h[s],w+=h[s];for(var A=0,O=0,s=p.length-1;s>=0;s--)A*=9,A+=p[s],O+=p[s];var N=C+3*A;if(i){if(w&1||w>12||w<4)throw new $e;var S=(12-w)/2,P=e.OUTSIDE_ODD_WIDEST[S],R=9-P,I=Mm.getRSSvalue(h,P,!1),k=Mm.getRSSvalue(p,R,!0),D=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],z=e.OUTSIDE_GSUM[S];return new e_(I*D+k+z,N)}else{if(O&1||O>10||O<4)throw new $e;var S=(10-O)/2,P=e.INSIDE_ODD_WIDEST[S],R=9-P,I=Mm.getRSSvalue(h,P,!0),k=Mm.getRSSvalue(p,R,!1),J=e.INSIDE_ODD_TOTAL_SUBSET[S],z=e.INSIDE_GSUM[S];return new e_(k*J+I+z,N)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,c=s,u=s;u<a;u++)if(r.get(u)!==o)i[l]++;else{if(l===3){if(gh.isFinderPattern(i))return[c,u];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new $e},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);sn.arraycopy(c,0,u,1,c.length-1),u[0]=l;var f=this.parseFinderValue(u,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new tY(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=_r.sum(new Int32Array(this.getOddCounts())),a=_r.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var u=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(u===1)if(f){if(h)throw new $e;s=!0}else{if(!h)throw new $e;c=!0}else if(u===-1)if(f){if(h)throw new $e;o=!0}else{if(!h)throw new $e;l=!0}else if(u===0){if(f){if(!h)throw new $e;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(h)throw new $e}else throw new $e;if(o){if(s)throw new $e;gh.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&gh.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new $e;gh.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&gh.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(gh),Jxe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X1=function(t){Jxe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(yn.POSSIBLE_FORMATS):null,a=r&&r.get(yn.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(yn.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Pt.EAN_13)||i.includes(Pt.UPC_A)||i.includes(Pt.EAN_8)||i.includes(Pt.UPC_E))&&n.readers.push(new m3(r)),i.includes(Pt.CODE_39)&&n.readers.push(new SM(a,o)),i.includes(Pt.CODE_93)&&n.readers.push(new AM),i.includes(Pt.CODE_128)&&n.readers.push(new _M),i.includes(Pt.ITF)&&n.readers.push(new EM),i.includes(Pt.CODABAR)&&n.readers.push(new bxe),i.includes(Pt.RSS_14)&&n.readers.push(new jM),i.includes(Pt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Yxe))),n.readers.length===0&&(n.readers.push(new m3(r)),n.readers.push(new SM),n.readers.push(new AM),n.readers.push(new m3(r)),n.readers.push(new _M),n.readers.push(new EM),n.readers.push(new jM)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new $e},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Si),e2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){e2e(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new X1(n),r,n)||this}return e})(Cg);var RM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Or=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Cr=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),t2e=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,u=o.getECCodewords(),f=o.getECBlocks();try{for(var h=RM(f),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m.getCount()*(m.getDataCodewords()+u)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new lt;try{for(var a=RM(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new lt},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Or(5,new Cr(1,3))),new t(2,12,12,10,10,new Or(7,new Cr(1,5))),new t(3,14,14,12,12,new Or(10,new Cr(1,8))),new t(4,16,16,14,14,new Or(12,new Cr(1,12))),new t(5,18,18,16,16,new Or(14,new Cr(1,18))),new t(6,20,20,18,18,new Or(18,new Cr(1,22))),new t(7,22,22,20,20,new Or(20,new Cr(1,30))),new t(8,24,24,22,22,new Or(24,new Cr(1,36))),new t(9,26,26,24,24,new Or(28,new Cr(1,44))),new t(10,32,32,14,14,new Or(36,new Cr(1,62))),new t(11,36,36,16,16,new Or(42,new Cr(1,86))),new t(12,40,40,18,18,new Or(48,new Cr(1,114))),new t(13,44,44,20,20,new Or(56,new Cr(1,144))),new t(14,48,48,22,22,new Or(68,new Cr(1,174))),new t(15,52,52,24,24,new Or(42,new Cr(2,102))),new t(16,64,64,14,14,new Or(56,new Cr(2,140))),new t(17,72,72,16,16,new Or(36,new Cr(4,92))),new t(18,80,80,18,18,new Or(48,new Cr(4,114))),new t(19,88,88,20,20,new Or(56,new Cr(4,144))),new t(20,96,96,22,22,new Or(68,new Cr(4,174))),new t(21,104,104,24,24,new Or(56,new Cr(6,136))),new t(22,120,120,18,18,new Or(68,new Cr(6,175))),new t(23,132,132,20,20,new Or(62,new Cr(8,163))),new t(24,144,144,22,22,new Or(62,new Cr(8,156),new Cr(2,155))),new t(25,8,18,6,16,new Or(7,new Cr(1,5))),new t(26,8,32,6,14,new Or(11,new Cr(1,10))),new t(27,12,26,10,24,new Or(14,new Cr(1,16))),new t(28,12,36,10,16,new Or(18,new Cr(1,22))),new t(29,16,36,14,16,new Or(24,new Cr(1,32))),new t(30,16,48,14,22,new Or(28,new Cr(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),r2e=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new lt;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new pc(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return t2e.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,u=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!u)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,u=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new lt;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new kt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,c=s*a,u=new pc(c,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var m=p*a,g=0;g<i;++g)for(var x=f*(i+2)+1+g,v=h+g,y=0;y<a;++y){var w=p*(a+2)+1+y;if(e.get(w,x)){var C=m+y;u.set(C,v)}}return u},t}(),DM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n2e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=DM(c),f=u.next();!f.done;f=u.next()){var h=f.value;l+=h.getCount()}}catch(z){n={error:z}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var p=new Array(l),m=0;try{for(var g=DM(c),x=g.next();!x.done;x=g.next())for(var h=x.value,v=0;v<h.getCount();v++){var y=h.getDataCodewords(),w=s.getECCodewords()+y;p[m++]=new t(y,new Uint8Array(w))}}catch(z){a={error:z}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var C=p[0].codewords.length,A=C-s.getECCodewords(),O=A-1,N=0,v=0;v<O;v++)for(var S=0;S<m;S++)p[S].codewords[v]=e[N++];for(var P=r.getVersionNumber()===24,R=P?8:m,S=0;S<R;S++)p[S].codewords[A-1]=e[N++];for(var I=p[0].codewords.length,v=A;v<I;v++)for(var S=0;S<m;S++){var k=P?(S+8)%m:S,D=P&&k>7?v-1:v;p[k].codewords[D]=e[N++]}if(N!==e.length)throw new kt;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),iY=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new kt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;r=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),pi;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(pi||(pi={}));var i2e=function(){function t(){}return t.decode=function(e){var r=new iY(e),n=new tr,i=new tr,a=new Array,o=pi.ASCII_ENCODE;do if(o===pi.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case pi.C40_ENCODE:this.decodeC40Segment(r,n);break;case pi.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case pi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case pi.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case pi.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new lt}o=pi.ASCII_ENCODE}while(o!==pi.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new CS(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new lt;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),pi.ASCII_ENCODE;if(a===129)return pi.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return pi.C40_ENCODE;case 231:return pi.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return pi.ANSIX12_ENCODE;case 239:return pi.TEXT_ENCODE;case 240:return pi.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new lt;break}}while(e.available()>0);return pi.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new lt;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new lt}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new lt}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new lt;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new lt}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),a=0}else throw new lt;break;default:throw new lt}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new lt;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new lt;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new lt;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Cs.decode(s,hr.ISO88591))}catch(c){throw new _x("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),a2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o2e=function(){function t(){this.rsDecoder=new NS(mo.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new r2e(e),a=i.getVersion(),o=i.readCodewords(),s=n2e.getDataBlocks(o,a),l=0;try{for(var c=a2e(s),u=c.next();!u.done;u=c.next()){var f=u.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,m=0;m<p;m++){var g=s[m],x=g.getCodewords(),v=g.getNumDataCodewords();this.correctErrors(x,v);for(var y=0;y<v;y++)h[y*p+m]=x[y]}return i2e.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Bi}for(var i=0;i<r;i++)e[i]=n[i]},t}(),s2e=function(){function t(e){this.image=e,this.rectangleDetector=new SN(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new $e;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,a,o,s,l);return new tk(c,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new St(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new St(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,r),u=o,f=[a,r,n,i];return u>s&&(u=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),u>l&&(u=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),u>c&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,r),u=this.transitionsBetween(l,a);return c<u?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var u=new St(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new St(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var h=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return h>p?u:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var u=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,u,f),n=t.moveAway(n,u,f),i=t.moveAway(i,u,f),a=t.moveAway(a,u,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),c=t.shiftPoint(i,a,s*4),c=t.shiftPoint(c,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,c,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=rk.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),u=Math.abs(o-i),f=-c/2,h=i<o?1:-1,p=n<a?1:-1,m=0,g=this.image.get(s?i:n,s?n:i),x=n,v=i;x!==a;x+=p){var y=this.image.get(s?v:x,s?x:v);if(y!==g&&(m++,g=y),f+=u,f>0){if(v===o)break;v+=h,f-=c}}return m},t}(),CN=function(){function t(){this.decoder=new o2e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(yn.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new s2e(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new Da(n.getText(),s,8*s.length,i,Pt.DATA_MATRIX,sn.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(ra.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!=null&&l.putMetadata(ra.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new $e;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],c=(l-s+1)/i,u=(o-a+1)/i;if(c<=0||u<=0)throw new $e;var f=i/2;a+=f,s+=f;for(var h=new pc(c,u),p=0;p<u;p++)for(var m=a+p*i,g=0;g<c;g++)e.get(s+g*i,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new $e;var o=i-e[0];if(o===0)throw new $e;return o},t.NO_POINTS=[],t}(),l2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){l2e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new CN,r)||this}return e})(Cg);var Lm;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Lm||(Lm={}));var c2e=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new tl(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new kt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Lm.L,"L",1),t.M=new t(Lm.M,"M",0),t.Q=new t(Lm.Q,"Q",3),t.H=new t(Lm.H,"H",2),t}(),u2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aY=function(){function t(e){this.errorCorrectionLevel=c2e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return rr.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=u2e(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===e||u===r)return new t(c[1]);var f=t.numBitsDiffering(e,u);f<a&&(o=c[1],a=f),e!==r&&(f=t.numBitsDiffering(r,u),f<a&&(o=c[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),d2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ke=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=d2e(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ue=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),f2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lh=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var u=f2e(c),f=u.next();!f.done;f=u.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new lt;try{return this.getVersionForNumber((e-17)/4)}catch{throw new lt}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new kt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=aY.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new pc(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ke(7,new ue(1,19)),new ke(10,new ue(1,16)),new ke(13,new ue(1,13)),new ke(17,new ue(1,9))),new t(2,Int32Array.from([6,18]),new ke(10,new ue(1,34)),new ke(16,new ue(1,28)),new ke(22,new ue(1,22)),new ke(28,new ue(1,16))),new t(3,Int32Array.from([6,22]),new ke(15,new ue(1,55)),new ke(26,new ue(1,44)),new ke(18,new ue(2,17)),new ke(22,new ue(2,13))),new t(4,Int32Array.from([6,26]),new ke(20,new ue(1,80)),new ke(18,new ue(2,32)),new ke(26,new ue(2,24)),new ke(16,new ue(4,9))),new t(5,Int32Array.from([6,30]),new ke(26,new ue(1,108)),new ke(24,new ue(2,43)),new ke(18,new ue(2,15),new ue(2,16)),new ke(22,new ue(2,11),new ue(2,12))),new t(6,Int32Array.from([6,34]),new ke(18,new ue(2,68)),new ke(16,new ue(4,27)),new ke(24,new ue(4,19)),new ke(28,new ue(4,15))),new t(7,Int32Array.from([6,22,38]),new ke(20,new ue(2,78)),new ke(18,new ue(4,31)),new ke(18,new ue(2,14),new ue(4,15)),new ke(26,new ue(4,13),new ue(1,14))),new t(8,Int32Array.from([6,24,42]),new ke(24,new ue(2,97)),new ke(22,new ue(2,38),new ue(2,39)),new ke(22,new ue(4,18),new ue(2,19)),new ke(26,new ue(4,14),new ue(2,15))),new t(9,Int32Array.from([6,26,46]),new ke(30,new ue(2,116)),new ke(22,new ue(3,36),new ue(2,37)),new ke(20,new ue(4,16),new ue(4,17)),new ke(24,new ue(4,12),new ue(4,13))),new t(10,Int32Array.from([6,28,50]),new ke(18,new ue(2,68),new ue(2,69)),new ke(26,new ue(4,43),new ue(1,44)),new ke(24,new ue(6,19),new ue(2,20)),new ke(28,new ue(6,15),new ue(2,16))),new t(11,Int32Array.from([6,30,54]),new ke(20,new ue(4,81)),new ke(30,new ue(1,50),new ue(4,51)),new ke(28,new ue(4,22),new ue(4,23)),new ke(24,new ue(3,12),new ue(8,13))),new t(12,Int32Array.from([6,32,58]),new ke(24,new ue(2,92),new ue(2,93)),new ke(22,new ue(6,36),new ue(2,37)),new ke(26,new ue(4,20),new ue(6,21)),new ke(28,new ue(7,14),new ue(4,15))),new t(13,Int32Array.from([6,34,62]),new ke(26,new ue(4,107)),new ke(22,new ue(8,37),new ue(1,38)),new ke(24,new ue(8,20),new ue(4,21)),new ke(22,new ue(12,11),new ue(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ke(30,new ue(3,115),new ue(1,116)),new ke(24,new ue(4,40),new ue(5,41)),new ke(20,new ue(11,16),new ue(5,17)),new ke(24,new ue(11,12),new ue(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ke(22,new ue(5,87),new ue(1,88)),new ke(24,new ue(5,41),new ue(5,42)),new ke(30,new ue(5,24),new ue(7,25)),new ke(24,new ue(11,12),new ue(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ke(24,new ue(5,98),new ue(1,99)),new ke(28,new ue(7,45),new ue(3,46)),new ke(24,new ue(15,19),new ue(2,20)),new ke(30,new ue(3,15),new ue(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ke(28,new ue(1,107),new ue(5,108)),new ke(28,new ue(10,46),new ue(1,47)),new ke(28,new ue(1,22),new ue(15,23)),new ke(28,new ue(2,14),new ue(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ke(30,new ue(5,120),new ue(1,121)),new ke(26,new ue(9,43),new ue(4,44)),new ke(28,new ue(17,22),new ue(1,23)),new ke(28,new ue(2,14),new ue(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ke(28,new ue(3,113),new ue(4,114)),new ke(26,new ue(3,44),new ue(11,45)),new ke(26,new ue(17,21),new ue(4,22)),new ke(26,new ue(9,13),new ue(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ke(28,new ue(3,107),new ue(5,108)),new ke(26,new ue(3,41),new ue(13,42)),new ke(30,new ue(15,24),new ue(5,25)),new ke(28,new ue(15,15),new ue(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ke(28,new ue(4,116),new ue(4,117)),new ke(26,new ue(17,42)),new ke(28,new ue(17,22),new ue(6,23)),new ke(30,new ue(19,16),new ue(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ke(28,new ue(2,111),new ue(7,112)),new ke(28,new ue(17,46)),new ke(30,new ue(7,24),new ue(16,25)),new ke(24,new ue(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ke(30,new ue(4,121),new ue(5,122)),new ke(28,new ue(4,47),new ue(14,48)),new ke(30,new ue(11,24),new ue(14,25)),new ke(30,new ue(16,15),new ue(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ke(30,new ue(6,117),new ue(4,118)),new ke(28,new ue(6,45),new ue(14,46)),new ke(30,new ue(11,24),new ue(16,25)),new ke(30,new ue(30,16),new ue(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ke(26,new ue(8,106),new ue(4,107)),new ke(28,new ue(8,47),new ue(13,48)),new ke(30,new ue(7,24),new ue(22,25)),new ke(30,new ue(22,15),new ue(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ke(28,new ue(10,114),new ue(2,115)),new ke(28,new ue(19,46),new ue(4,47)),new ke(28,new ue(28,22),new ue(6,23)),new ke(30,new ue(33,16),new ue(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ke(30,new ue(8,122),new ue(4,123)),new ke(28,new ue(22,45),new ue(3,46)),new ke(30,new ue(8,23),new ue(26,24)),new ke(30,new ue(12,15),new ue(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ke(30,new ue(3,117),new ue(10,118)),new ke(28,new ue(3,45),new ue(23,46)),new ke(30,new ue(4,24),new ue(31,25)),new ke(30,new ue(11,15),new ue(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ke(30,new ue(7,116),new ue(7,117)),new ke(28,new ue(21,45),new ue(7,46)),new ke(30,new ue(1,23),new ue(37,24)),new ke(30,new ue(19,15),new ue(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ke(30,new ue(5,115),new ue(10,116)),new ke(28,new ue(19,47),new ue(10,48)),new ke(30,new ue(15,24),new ue(25,25)),new ke(30,new ue(23,15),new ue(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ke(30,new ue(13,115),new ue(3,116)),new ke(28,new ue(2,46),new ue(29,47)),new ke(30,new ue(42,24),new ue(1,25)),new ke(30,new ue(23,15),new ue(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ke(30,new ue(17,115)),new ke(28,new ue(10,46),new ue(23,47)),new ke(30,new ue(10,24),new ue(35,25)),new ke(30,new ue(19,15),new ue(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ke(30,new ue(17,115),new ue(1,116)),new ke(28,new ue(14,46),new ue(21,47)),new ke(30,new ue(29,24),new ue(19,25)),new ke(30,new ue(11,15),new ue(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ke(30,new ue(13,115),new ue(6,116)),new ke(28,new ue(14,46),new ue(23,47)),new ke(30,new ue(44,24),new ue(7,25)),new ke(30,new ue(59,16),new ue(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ke(30,new ue(12,121),new ue(7,122)),new ke(28,new ue(12,47),new ue(26,48)),new ke(30,new ue(39,24),new ue(14,25)),new ke(30,new ue(22,15),new ue(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ke(30,new ue(6,121),new ue(14,122)),new ke(28,new ue(6,47),new ue(34,48)),new ke(30,new ue(46,24),new ue(10,25)),new ke(30,new ue(2,15),new ue(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ke(30,new ue(17,122),new ue(4,123)),new ke(28,new ue(29,46),new ue(14,47)),new ke(30,new ue(49,24),new ue(10,25)),new ke(30,new ue(24,15),new ue(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ke(30,new ue(4,122),new ue(18,123)),new ke(28,new ue(13,46),new ue(32,47)),new ke(30,new ue(48,24),new ue(14,25)),new ke(30,new ue(42,15),new ue(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ke(30,new ue(20,117),new ue(4,118)),new ke(28,new ue(40,47),new ue(7,48)),new ke(30,new ue(43,24),new ue(22,25)),new ke(30,new ue(10,15),new ue(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ke(30,new ue(19,118),new ue(6,119)),new ke(28,new ue(18,47),new ue(31,48)),new ke(30,new ue(34,24),new ue(34,25)),new ke(30,new ue(20,15),new ue(61,16)))],t}(),ji;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ji||(ji={}));var MM=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[ji.DATA_MASK_000,new t(ji.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[ji.DATA_MASK_001,new t(ji.DATA_MASK_001,function(e,r){return(e&1)===0})],[ji.DATA_MASK_010,new t(ji.DATA_MASK_010,function(e,r){return r%3===0})],[ji.DATA_MASK_011,new t(ji.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[ji.DATA_MASK_100,new t(ji.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[ji.DATA_MASK_101,new t(ji.DATA_MASK_101,function(e,r){return e*r%6===0})],[ji.DATA_MASK_110,new t(ji.DATA_MASK_110,function(e,r){return e*r%6<3})],[ji.DATA_MASK_111,new t(ji.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),h2e=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new lt;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=aY.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new lt},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Lh.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Lh.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Lh.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new lt},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=MM.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,u=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(u++,c<<=1,this.bitMatrix.get(f-m,p)&&(c|=1),u===8&&(s[l++]=c,u=0,c=0));o=!o}if(l!==r.getTotalCodewords())throw new lt;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=MM.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),LM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p2e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new kt;var l=r.getECBlocksForLevel(n),c=0,u=l.getECBlocks();try{for(var f=LM(u),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getCount()}}catch(D){i={error:D}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(c),g=0;try{for(var x=LM(u),v=x.next();!v.done;v=x.next())for(var p=v.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),C=l.getECCodewordsPerBlock()+w;m[g++]=new t(w,new Uint8Array(C))}}catch(D){o={error:D}}finally{try{v&&!v.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}for(var A=m[0].codewords.length,O=m.length-1;O>=0;){var N=m[O].codewords.length;if(N===A)break;O--}O++;for(var S=A-l.getECCodewordsPerBlock(),P=0,y=0;y<S;y++)for(var R=0;R<g;R++)m[R].codewords[y]=e[P++];for(var R=O;R<g;R++)m[R].codewords[S]=e[P++];for(var I=m[0].codewords.length,y=S;y<I;y++)for(var R=0;R<g;R++){var k=R<O?y:y+1;m[R].codewords[k]=e[P++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),vs;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(vs||(vs={}));var pn=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new kt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(vs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(vs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(vs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(vs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(vs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(vs.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(vs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(vs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(vs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(vs.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),m2e=function(){function t(){}return t.decode=function(e,r,n,i){var a=new iY(e),o=new tr,s=new Array,l=-1,c=-1;try{var u=null,f=!1,h=void 0;do{if(a.available()<4)h=pn.TERMINATOR;else{var p=a.readBits(4);h=pn.forBits(p)}switch(h){case pn.TERMINATOR:break;case pn.FNC1_FIRST_POSITION:case pn.FNC1_SECOND_POSITION:f=!0;break;case pn.STRUCTURED_APPEND:if(a.available()<16)throw new lt;l=a.readBits(8),c=a.readBits(8);break;case pn.ECI:var m=t.parseECIValue(a);if(u=wi.getCharacterSetECIByValue(m),u===null)throw new lt;break;case pn.HANZI:var g=a.readBits(4),x=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,x);break;default:var v=a.readBits(h.getCharacterCountBits(r));switch(h){case pn.NUMERIC:t.decodeNumericSegment(a,o,v);break;case pn.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,v,f);break;case pn.BYTE:t.decodeByteSegment(a,o,v,u,s,i);break;case pn.KANJI:t.decodeKanjiSegment(a,o,v);break;default:throw new lt}break}}while(h!==pn.TERMINATOR)}catch{throw new lt}return new CS(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new lt;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(Cs.decode(i,hr.GB2312))}catch(l){throw new lt(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new lt;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(Cs.decode(i,hr.SHIFT_JIS))}catch(l){throw new lt(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new lt;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=hr.guessEncoding(s,o):c=i.getName();try{r.append(Cs.decode(s,c))}catch(u){throw new lt(u)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new lt;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new lt;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new lt;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new lt;var i=e.readBits(10);if(i>=1e3)throw new lt;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new lt;var a=e.readBits(7);if(a>=100)throw new lt;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new lt;var o=e.readBits(4);if(o>=10)throw new lt;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new lt},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),oY=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),FM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g2e=function(){function t(){this.rsDecoder=new NS(mo.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(pc.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new h2e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new oY(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=p2e.getDataBlocks(c,s,l),f=0;try{for(var h=FM(u),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(O){n={error:O}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),x=0;try{for(var v=FM(u),y=v.next();!y.done;y=v.next()){var m=y.value,w=m.getCodewords(),C=m.getNumDataCodewords();this.correctErrors(w,C);for(var A=0;A<C;A++)g[x++]=w[A]}}catch(O){a={error:O}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}return m2e.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Bi}for(var i=0;i<r;i++)e[i]=n[i]},t}(),v2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y2e=function(t){v2e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(St),x2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w2e=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=e;u<i&&!s.get(u,c);)u++;for(var f=0;u<i;){if(s.get(u,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,u);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;u++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $e},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var u=x2e(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value;if(h.aboutEquals(c,l,s))return h.combineEstimate(l,s,c)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var p=new y2e(s,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),b2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_2e=function(t){b2e(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(St),S2e=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),T1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A2e=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(yn.TRY_HARDER)!==void 0,n=e!=null&&e.get(yn.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<a&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,u))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>c[2]&&(u+=m-c[2]-s,h=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,o,n);p===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return St.orderBestPatterns(g),new S2e(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&r+o<c&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=c)return!1;for(;e+o<l&&r+o<c&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=c||a[3]>=n)return!1;for(;e+o<l&&r+o<c&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var u=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(u-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,u=this.possibleCenters,f=0,h=u.length;f<h;f++){var p=u[f];if(p.aboutEquals(l,s,o)){u[f]=p.combineEstimate(s,o,l),c=!0;break}}if(!c){var m=new _2e(o,s,l);u.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=T1(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=T1(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=t.CENTER_QUORUM&&(a++,o+=u.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=T1(this.possibleCenters),m=p.next();!m.done;m=p.next()){var u=m.value;h+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new $e;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var u=T1(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,c+=p*p}}catch(A){e={error:A}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}s=l/a;var m=Math.sqrt(c/a-s*s);o.sort(function(A,O){var N=Math.abs(O.getEstimatedModuleSize()-s),S=Math.abs(A.getEstimatedModuleSize()-s);return N<S?-1:N>S?1:0});for(var g=Math.max(.2*s,m),x=0;x<o.length&&o.length>3;x++){var v=o[x];Math.abs(v.getEstimatedModuleSize()-s)>g&&(o.splice(x,1),x--)}}if(o.length>3){var l=0;try{for(var y=T1(o),w=y.next();!w.done;w=y.next()){var C=w.value;l+=C.getEstimatedModuleSize()}}catch(O){n={error:O}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(O,N){if(N.getCount()===O.getCount()){var S=Math.abs(N.getEstimatedModuleSize()-s),P=Math.abs(O.getEstimatedModuleSize()-s);return S<P?1:S>P?-1:0}else return N.getCount()-O.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),E2e=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(yn.NEED_RESULT_POINT_CALLBACK);var r=new A2e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new $e("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Lh.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(u-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(a,p,m,g);break}catch(w){if(!(w instanceof $e))throw w}var x=t.createTransform(r,n,i,c,o),v=t.sampleGrid(this.image,x,o),y;return c===null?y=[i,r,n]:y=[i,r,n,c],new tk(v,y)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,c,u;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,u=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=o,u=o),eY.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,u,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=rk.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=_r.round(St.distance(e,r)/i),o=_r.round(St.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new $e("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,u=e<n?1:-1,f=r<i?1:-1,h=0,p=n+u,m=e,g=r;m!==p;m+=u){var x=a?g:m,v=a?m:g;if(h===1===this.image.get(x,v)){if(h===2)return _r.distance(m,g,e,r);h++}if(c+=l,c>0){if(g===i)break;g+=f,c-=s}}return h===2?_r.distance(n+u,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new $e("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new $e("Alignment bottom exceeds estimated module size.");var u=new w2e(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return u.find()},t}(),NN=function(){function t(){this.decoder=new g2e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(yn.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new E2e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof oY&&n.getOther().applyMirroredCorrection(i);var s=new Da(n.getText(),n.getRawBytes(),void 0,i,Pt.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(ra.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(ra.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(ra.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(ra.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new $e;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new $e;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new $e;var c=Math.round((l-s+1)/i),u=Math.round((o-a+1)/i);if(c<=0||u<=0)throw new $e;if(u!==c)throw new $e;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((c-1)*i)-l;if(h>0){if(h>f)throw new $e;s-=h}var p=a+Math.floor((u-1)*i)-o;if(p>0){if(p>f)throw new $e;a-=p}for(var m=new pc(c,u),g=0;g<u;g++)for(var x=a+Math.floor(g*i),v=0;v<c;v++)e.get(s+Math.floor(v*i),x)&&m.set(v,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new $e;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),C2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xr=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return _r.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=C2e(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=bi.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),N2e=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),T2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P2e=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new N2e(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var c=t.findVertices(r,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var u=(n=void 0,T2e(a)),f=u.next();!f.done;f=u.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var u=t.findGuardPattern(e,a,i,n,!1,o,c);if(u!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,c);if(f!=null)u=f;else{i++;break}}s[0]=new St(u[0],i),s[1]=new St(u[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var u=t.findGuardPattern(e,f[0],h,n,!1,o,c);if(u!=null&&Math.abs(f[0]-u[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<t.MAX_PATTERN_DRIFT)f=u,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new St(f[0],h),s[3]=new St(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&bi.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){bi.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var u=l,f=0,h=o.length,p=a;u<i;u++){var m=e.get(u,n);if(m!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],sn.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],h=r[u]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;c+=p}return c/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),I2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nh=function(){function t(e,r){if(r.length===0)throw new kt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),sn.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=I2e(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(e,l),this.coefficients[u]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new kt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;sn.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new kt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new kt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new kt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new tr,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),O2e=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new kt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new JK;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),k2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j2e=function(t){k2e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Nh(i,new Int32Array([0])),i.one=new Nh(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new kt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Nh(this,i)},e.PDF417_GF=new e(xr.NUMBER_OF_CODEWORDS,3),e}(O2e),R2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D2e=function(){function t(){this.field=j2e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Nh(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var u=o.evaluateAt(this.field.exp(c));s[r-c]=u,u!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=R2e(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),x=new Nh(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(x)}}catch(S){i={error:S}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var v=new Nh(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),w=y[0],C=y[1],A=this.findErrorLocations(w),O=this.findErrorMagnitudes(C,w,A),c=0;c<A.length;c++){var N=e.length-1-this.field.log(A[c]);if(N<0)throw Bi.getChecksumInstance();e[N]=this.field.subtract(e[N],O[c])}return A.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,u=s;if(a=o,s=l,a.isZero())throw Bi.getChecksumInstance();o=c;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),o=o.subtract(a.multiplyByMonomial(m,g))}l=f.multiply(s).subtract(u).negative()}var x=l.getCoefficient(0);if(x===0)throw Bi.getChecksumInstance();var v=this.field.inverse(x),y=l.multiply(v),w=o.multiply(v);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Bi.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Nh(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var u=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(u)),h=this.field.inverse(s.evaluateAt(u));c[o]=this.field.multiply(f,h)}return c},t}(),TN=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new $e;o?(r=new St(0,i.getY()),n=new St(0,a.getY())):s&&(i=new St(e.getWidth()-1,r.getY()),a=new St(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var u=new St(l.getX(),c);n?i=u:o=u}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new St(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),M2e=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),ik=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,c,u,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var h=u?parseInt(u.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<m;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),L2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sY=function(){function t(e){this.boundingBox=new TN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new ik,i=0;try{for(var a=L2e(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),F2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B2e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Q1=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=F2e(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=B2e(s.value,2),c=l[0],u=l[1];a(c,u)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return xr.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),$2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BM=function(t){$2e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=v3(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,u=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-c;if(m===0)f++;else if(m===1)u=Math.max(u,f),f=1,c=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;u>2?g=(u-2)*m:g=m;for(var x=g>=h,v=1;v<=g&&!x;v++)x=n[h-v]!=null;x?n[h]=null:(c=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=v3(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,u=o;u<s;u++)if(l[u]!=null){var f=l[u];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-c;h===0||(h===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[u]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Q1,o=new Q1,s=new Q1,l=new Q1;try{for(var c=v3(i),u=c.next();!u.done;u=c.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<xr.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>xr.MAX_ROWS_IN_BARCODE)return null;var m=new M2e(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(sY),U2e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V2e=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=xr.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var u=U2e(c),f=u.next();!f.done;f=u.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new ik,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),z2e=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),H2e=function(){function t(){}return t.initialize=function(){for(var e=0;e<xr.SYMBOL_TABLE.length;e++)for(var r=xr.SYMBOL_TABLE[e],n=r&1,i=0;i<xr.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(xr.BARS_IN_MODULE)),t.RATIOS_TABLE[e][xr.BARS_IN_MODULE-i-1]=Math.fround(a/xr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=_r.sum(e),n=new Int32Array(xr.BARS_IN_MODULE),i=0,a=0,o=0;o<xr.MODULES_IN_CODEWORD;o++){var s=r/(2*xr.MODULES_IN_CODEWORD)+o*r/xr.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return xr.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=_r.sum(e),n=new Array(xr.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=_N.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],u=0;u<xr.BARS_IN_MODULE;u++){var f=Math.fround(c[u]-n[u]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=xr.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(xr.SYMBOL_TABLE.length).map(function(e){return new Array(xr.BARS_IN_MODULE)}),t}(),q2e=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),$M=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),W2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G2e=function(t){W2e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(No),K2e=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new G2e;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new JO;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Y2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X2e=function(t){Y2e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(No),Q2e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z2e=function(t){Q2e(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new kt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new X2e;i=rr.MAX_VALUE}this.buf=bi.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new JO;this.ensureCapacity(this.count+i),sn.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return bi.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(K2e),Kr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Kr||(Kr={}));function lY(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var W2;function _d(t){if(typeof W2>"u"&&(W2=lY()),W2===null)throw new Error("BigInt is not supported!");return W2(t)}function J2e(){var t=[];t[0]=_d(1);var e=_d(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var ewe=function(){function t(){}return t.decode=function(e,r){var n=new tr(""),i=wi.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new q2e;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:wi.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new lt;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw lt.getFormatInstance()}if(n.length()===0)throw lt.getFormatInstance();var l=new CS(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw lt.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(rr.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new tr;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new tr;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new tr;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new tr;r=t.textCompaction(e,r+1,u),n.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new tr;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(rr.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new tr;r=t.numericCompaction(e,r+1,h),n.setTimestamp($M.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new tr;r=t.numericCompaction(e,r+1,p),n.setChecksum(rr.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new tr;r=t.numericCompaction(e,r+1,m),n.setFileSize($M.parseLong(m.toString()));break;default:throw lt.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw lt.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(bi.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Kr.ALPHA,o=Kr.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case Kr.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:a=Kr.LOWER;break;case t.ML:a=Kr.MIXED;break;case t.PS:o=a,a=Kr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break;case Kr.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:o=a,a=Kr.ALPHA_SHIFT;break;case t.ML:a=Kr.MIXED;break;case t.PS:o=a,a=Kr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break;case Kr.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Kr.PUNCT;break;case 26:c=" ";break;case t.LL:a=Kr.LOWER;break;case t.AL:a=Kr.ALPHA;break;case t.PS:o=a,a=Kr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break;case Kr.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Kr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break;case Kr.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break;case Kr.PUNCT_SHIFT:if(a=o,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Kr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Kr.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new Z2e,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(u[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(_d(l)>>_d(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=f);for(var p=0;p<s;p++)o.write(u[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(_d(l)>>_d(8*(5-h))));l=0,s=0}}break}return a.append(Cs.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=_d(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*_d(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new lt;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=lY()?J2e():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),P1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},twe=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new TN(e,r,n,i,a),c=null,u=null,f,h=!0;;h=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(u=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(c,u),f==null)throw $e.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(m,u);for(var g=c!=null,x=1;x<=m;x++){var v=g?x:m-x;if(f.getDetectionResultColumn(v)===void 0){var y=void 0;v===0||v===m?y=new BM(l,v===0):y=new sY(l),f.setDetectionResultColumn(v,y);for(var w=-1,C=w,A=l.getMinY();A<=l.getMaxY();A++){if(w=t.getStartColumn(f,v,A,g),w<0||w>l.getMaxX()){if(C===-1)continue;w=C}var O=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,w,A,o,s);O!=null&&(y.setCodeword(A,O),C=w,o=Math.min(o,O.getWidth()),s=Math.max(s,O.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=TN.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new V2e(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=P1(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var u=e.getCodewords(),f=0;o>0&&u[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=u.length-1;h>0&&u[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=P1(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new BM(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,u,f,a,o);h!=null&&(s.setCodeword(f,h),i?u=h.getStartX():u=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>xr.MAX_CODEWORDS_IN_BARCODE)throw $e.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),u=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(u):c.length===1?i[u]=c[0]:(o.push(u),a.push(c))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,xr.toIntArray(n),xr.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(u){var c=u instanceof Bi;if(!c)throw u}if(o.length===0)throw Bi.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw Bi.getChecksumInstance()}throw Bi.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new Q1;var c=0;try{for(var u=P1(e.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,P1(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var x=g.getRowNumber();if(x>=0){if(x>=o.length)continue;o[x][c].setValue(g.getValue())}}}}catch(v){i={error:v}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c++}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var u=(a=void 0,P1(e.getDetectionResultColumn(r).getCodewords())),f=u.next();!f.done;f=u.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var c=t.getModuleBitCount(e,r,n,i,a,o);if(c==null)return null;var u,f=_r.sum(c);if(i)u=a+f;else{for(var h=0;h<c.length/2;h++){var p=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=p}u=a,a=u-f}if(!t.checkCodewordSkew(f,s,l))return null;var m=H2e.getDecodedValue(c),g=xr.getCodeword(m);return g===-1?null:new z2e(a,u,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,u=i?1:-1,f=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,o)===f?(l[c]++,s+=u):(c++,f=!f);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw lt.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=ewe.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Bi.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw lt.getFormatInstance();var n=e[0];if(n>e.length)throw lt.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw lt.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new ik,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new D2e,t}(),rwe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw $e.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof lt||n instanceof Bi?$e.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=P2e.detectMultiple(e,r,n);try{for(var l=rwe(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,f=twe.decode(s.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),h=new Da(f.getText(),f.getRawBytes(),void 0,u,Pt.PDF_417);h.putMetadata(ra.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(ra.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?rr.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*xr.MODULES_IN_CODEWORD/xr.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),nwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UM=function(t){nwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(No),VM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iwe=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(yn.TRY_HARDER)!==void 0,n=e==null?null:e.get(yn.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Pt.UPC_A||o===Pt.UPC_E||o===Pt.EAN_13||o===Pt.EAN_8||o===Pt.CODABAR||o===Pt.CODE_39||o===Pt.CODE_93||o===Pt.CODE_128||o===Pt.ITF||o===Pt.RSS_14||o===Pt.RSS_EXPANDED});a&&!r&&i.push(new X1(e)),n.includes(Pt.QR_CODE)&&i.push(new NN),n.includes(Pt.DATA_MATRIX)&&i.push(new CN),n.includes(Pt.AZTEC)&&i.push(new AN),n.includes(Pt.PDF_417)&&i.push(new PN),a&&r&&i.push(new X1(e))}i.length===0&&(r||i.push(new X1(e)),i.push(new NN),i.push(new CN),i.push(new AN),i.push(new PN),r&&i.push(new X1(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=VM(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new UM("No readers where selected, nothing can be read.");try{for(var i=VM(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof UM)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new $e("No MultiFormat Readers were able to detect the code.")},t}(),awe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),owe=function(t){awe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new iwe;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Cg),swe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){swe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new PN,r)||this}return e})(Cg);var lwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){lwe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new NN,r)||this}return e})(Cg);var IN;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(IN||(IN={}));const G2=IN;var cY=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Xd(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Xd(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new kt("No error correction bytes");var n=e.length-r;if(n<=0)throw new kt("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);sn.arraycopy(e,0,a,0,n);var o=new Xd(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=r-l.length,u=0;u<c;u++)e[n+u]=0;sn.arraycopy(l,0,e,n+c,l.length)},t}(),Z1=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(r*2-c)*10/c);return u*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new kt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,u=0;u<a;u++){var f=r?o[s][u]:o[u][s];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),cwe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uwe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=cwe(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;bi.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new tr,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),ON=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new tr;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),dwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fn=function(t){dwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(No),zM=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new $i;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],c=l[0],u=l[1];if(n.setBoolean(c,u,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new $i;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(t.isEmpty(n.get(c,s))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,r!==255&&Z1.getDataMaskBit(r,c,s)&&(u=!u),n.setBoolean(c,s,u)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new fn("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-rr.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new kt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!ON.isValidMaskPattern(r))throw new fn("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new $i;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new fn("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new fn("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new fn;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new fn;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new fn;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),fwe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),HM=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Z1.applyMaskPenaltyRule1(e)+Z1.applyMaskPenaltyRule2(e)+Z1.applyMaskPenaltyRule3(e)+Z1.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(G2.CHARACTER_SET)!==void 0;a&&(i=n.get(G2.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new $i;if(o===pn.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=wi.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new $i;this.appendBytes(e,o,c,i);var u;if(n!==null&&n.get(G2.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(G2.QR_VERSION).toString(),10);u=Lh.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,c,u);if(!this.willFit(h,u,r))throw new fn("Data too big for requested version")}else u=this.recommendVersion(r,o,s,c);var p=new $i;p.appendBitArray(s);var m=o===pn.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(m,u,o,p),p.appendBitArray(c);var g=u.getECBlocksForLevel(r),x=u.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(x,p);var v=this.interleaveWithECBytes(p,u.getTotalCodewords(),x,g.getNumBlocks()),y=new ON;y.setECLevel(r),y.setMode(o),y.setVersion(u);var w=u.getDimensionForVersion(),C=new uwe(w,w),A=this.chooseMaskPattern(v,r,u,C);return y.setMaskPattern(A),zM.buildMatrix(v,r,u,A,C),y.setMatrix(C),y},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Lh.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),wi.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return pn.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return pn.BYTE}return i?pn.ALPHANUMERIC:n?pn.NUMERIC:pn.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Cs.encode(e,wi.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<ON.NUM_MASK_PATTERNS;s++){zM.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Lh.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new fn("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new fn("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new fn("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new fn("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),u=c+1,f=Math.floor(r/n),h=f+1,p=c-f,m=u-h;if(p!==m)throw new fn("EC bytes mismatch");if(n!==l+s)throw new fn("RS blocks mismatch");if(e!==(f+p)*l+(h+m)*s)throw new fn("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new fn("Number of bits and data bytes does not match");for(var c=0,u=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,g);var x=m[0],v=new Uint8Array(x);e.toBytes(8*c,v,0,x);var y=t.generateECBytes(v,g[0]);h.push(new fwe(v,y)),u=Math.max(u,x),f=Math.max(f,y.length),c+=m[0]}if(n!==c)throw new fn("Data bytes does not match offset");for(var w=new $i,p=0;p<u;++p)try{for(var C=(a=void 0,HM(h)),A=C.next();!A.done;A=C.next()){var O=A.value,v=O.getDataBytes();p<v.length&&w.appendBits(v[p],8)}}catch(R){a={error:R}}finally{try{A&&!A.done&&(o=C.return)&&o.call(C)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var N=(s=void 0,HM(h)),S=N.next();!S.done;S=N.next()){var O=S.value,y=O.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(R){s={error:R}}finally{try{S&&!S.done&&(l=N.return)&&l.call(N)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new fn("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new cY(mo.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new fn(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case pn.NUMERIC:t.appendNumericBytes(e,n);break;case pn.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case pn.BYTE:t.append8BitBytes(e,n,i);break;case pn.KANJI:t.appendKanjiBytes(e,n);break;default:throw new fn("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new fn;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new fn;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Cs.encode(e,n)}catch(l){throw new fn(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Cs.encode(e,wi.SJIS)}catch(f){throw new fn(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new fn("Invalid byte sequence");var u=(c>>8)*192+(c&255);r.appendBits(u,13)}},t.appendECI=function(e,r){r.appendBits(pn.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=wi.UTF8.getName(),t})();var hwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){hwe(e,t);function e(r,n,i,a,o,s,l,c){var u=t.call(this,s,l)||this;if(u.yuvData=r,u.dataWidth=n,u.dataHeight=i,u.left=a,u.top=o,a+s>n||o+l>i)throw new kt("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(s,l),u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return sn.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return sn.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;sn.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var u=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|u*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,c=o+r-1;l<s;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}},e.prototype.invert=function(){return new ek(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(ES);var pwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pwe(e,t);function e(r,n,i,a,o,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var u=n*i,f=new Uint8ClampedArray(u),h=0;h<u;h++){var p=r[h],m=p>>16&255,g=p>>7&510,x=p&255;f[h]=(m+g+x)/4&255}c.luminances=f}else c.luminances=r;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new kt("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return sn.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return sn.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;sn.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new ek(this)},e})(ES);var mwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gwe=function(t){mwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(wi),vwe=function(){function t(){}return t.ISO_8859_1=wi.ISO8859_1,t}(),kN,ywe=301,xwe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=ywe);return{LOG:t,ALOG:e}};kN=xwe([],[]),kN.LOG;kN.ALOG;var qM;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(qM||(qM={}));var WM=129,uY=230,wwe=231,bwe=235,_we=236,Swe=237,Awe=238,Ewe=239,Cwe=240,y3=254,Nwe=254,GM="[)>05",KM="[)>06",YM="",Br=0,Qi=1,qa=2,mi=3,Ri=4,wa=5,Twe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Br},t.prototype.encode=function(e){var r=fl.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=fl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case wa:e.writeCodeword(wwe),e.signalEncoderChange(wa);return;case Qi:e.writeCodeword(uY),e.signalEncoderChange(Qi);return;case mi:e.writeCodeword(Awe),e.signalEncoderChange(mi);break;case qa:e.writeCodeword(Ewe),e.signalEncoderChange(qa);break;case Ri:e.writeCodeword(Cwe),e.signalEncoderChange(Ri);break;default:throw new Error("Illegal mode: "+i)}else fl.isExtendedASCII(n)?(e.writeCodeword(bwe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(fl.isDigit(e)&&fl.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Pwe=function(){function t(){}return t.prototype.getEncodingMode=function(){return wa},t.prototype.encode=function(e){var r=new tr;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=fl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Br);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,hr.getCharAt(a));else if(a<=1555)r.setCharAt(0,hr.getCharAt(Math.floor(a/250)+249)),r.insert(1,hr.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),ak=function(){function t(){}return t.prototype.getEncodingMode=function(){return Qi},t.prototype.encodeMaximal=function(e){for(var r=new tr,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,u=Math.floor(r.length()%3);(u===2&&c!==2||u===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(uY),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new tr;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new tr;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var u=fl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(Br);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(y3)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(y3),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(y3)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Br)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new tr;return a.append(n),a.append(i),a.toString()},t}(),Iwe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ri},t.prototype.encode=function(e){for(var r=new tr;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=fl.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Br);break}}}r.append(hr.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Br)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(hr.getCharAt(e-64)):fl.illegalCharacter(hr.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,u=s&255,f=new tr;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(u),f.toString()},t}(),Owe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kwe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nr=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=kwe(Rwe),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(n!=null&&(u.getSymbolWidth()<n.getWidth()||u.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(u.getSymbolWidth()>i.getWidth()||u.getSymbolHeight()>i.getHeight()))&&e<=u.dataCapacity)return u}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),jwe=function(t){Owe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Nr),Rwe=[new Nr(!1,3,5,8,8,1),new Nr(!1,5,7,10,10,1),new Nr(!0,5,7,16,6,1),new Nr(!1,8,10,12,12,1),new Nr(!0,10,11,14,6,2),new Nr(!1,12,12,14,14,1),new Nr(!0,16,14,24,10,1),new Nr(!1,18,14,16,16,1),new Nr(!1,22,18,18,18,1),new Nr(!0,22,18,16,10,2),new Nr(!1,30,20,20,20,1),new Nr(!0,32,24,16,14,2),new Nr(!1,36,24,22,22,1),new Nr(!1,44,28,24,24,1),new Nr(!0,49,28,22,14,2),new Nr(!1,62,36,14,14,4),new Nr(!1,86,42,16,16,4),new Nr(!1,114,48,18,18,4),new Nr(!1,144,56,20,20,4),new Nr(!1,174,68,22,22,4),new Nr(!1,204,84,24,24,4,102,42),new Nr(!1,280,112,14,14,16,140,56),new Nr(!1,368,144,16,16,16,92,36),new Nr(!1,456,192,18,18,16,114,48),new Nr(!1,576,224,20,20,16,144,56),new Nr(!1,696,272,22,22,16,174,68),new Nr(!1,816,336,24,24,16,136,56),new Nr(!1,1050,408,18,18,36,175,68),new Nr(!1,1304,496,20,20,36,163,62),new jwe],Dwe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new tr,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new tr,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Nr.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),Mwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lwe=function(t){Mwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return mi},e.prototype.encode=function(r){for(var n=new tr;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=fl.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Br);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):fl.illegalCharacter(hr.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(Nwe),r.getNewEncoding()<0&&r.signalEncoderChange(Br)},e}(ak),Fwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bwe=function(t){Fwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return qa},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(ak),fl=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=WM+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new ak,s=[new Twe,o,new Bwe,new Lwe,new Iwe,new Pwe],l=new Dwe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(GM)&&e.endsWith(YM)?(l.writeCodeword(_we),l.setSkipAtEnd(2),l.pos+=GM.length):e.startsWith(KM)&&e.endsWith(YM)&&(l.writeCodeword(Swe),l.setSkipAtEnd(2),l.pos+=KM.length);var c=Br;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();u<f&&c!==Br&&c!==wa&&c!==Ri&&l.writeCodeword("þ");var h=l.getCodewords();for(h.length()<f&&h.append(WM);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===mi&&i===mi){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Br}else if(n===Ri&&i===Ri){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Br}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Br?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){bi.fill(o,0),bi.fill(s,0);var l=this.findMinimums(i,s,rr.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[Br]===l)return Br;if(c===1){if(o[wa]>0)return wa;if(o[Ri]>0)return Ri;if(o[qa]>0)return qa;if(o[mi]>0)return mi}return Qi}var u=e.charCodeAt(r+a);if(a++,this.isDigit(u)?i[Br]+=.5:this.isExtendedASCII(u)?(i[Br]=Math.ceil(i[Br]),i[Br]+=2):(i[Br]=Math.ceil(i[Br]),i[Br]++),this.isNativeC40(u)?i[Qi]+=2/3:this.isExtendedASCII(u)?i[Qi]+=8/3:i[Qi]+=4/3,this.isNativeText(u)?i[qa]+=2/3:this.isExtendedASCII(u)?i[qa]+=8/3:i[qa]+=4/3,this.isNativeX12(u)?i[mi]+=2/3:this.isExtendedASCII(u)?i[mi]+=13/3:i[mi]+=10/3,this.isNativeEDIFACT(u)?i[Ri]+=3/4:this.isExtendedASCII(u)?i[Ri]+=17/4:i[Ri]+=13/4,this.isSpecialB256(u)?i[wa]+=4:i[wa]++,a>=4){if(bi.fill(o,0),bi.fill(s,0),this.findMinimums(i,s,rr.MAX_VALUE,o),s[Br]<this.min(s[wa],s[Qi],s[qa],s[mi],s[Ri]))return Br;if(s[wa]<s[Br]||s[wa]+1<this.min(s[Qi],s[qa],s[mi],s[Ri]))return wa;if(s[Ri]+1<this.min(s[wa],s[Qi],s[qa],s[mi],s[Br]))return Ri;if(s[qa]+1<this.min(s[wa],s[Qi],s[Ri],s[mi],s[Br]))return qa;if(s[mi]+1<this.min(s[wa],s[Qi],s[Ri],s[qa],s[Br]))return mi;if(s[Qi]+1<this.min(s[Br],s[wa],s[Ri],s[qa])){if(s[Qi]<s[mi])return Qi;if(s[Qi]===s[mi]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return mi;if(!this.isNativeX12(h))break;f++}return Qi}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,bi.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=rr.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),x3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XM=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Cs.encode(e,this.charset)!=null}catch{return!1}},t}(),$we=function(){function t(e,r,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new XM(gwe.forName(P))}),this.encoders=[];var u=[];u.push(new XM(vwe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,x3(u)),g=m.next();!g.done;g=m.next()){var x=g.value,v=e.charAt(h),y=v.charCodeAt(0);if(y===n||x.canEncode(v)){p=!0;break}}}catch(P){i={error:P}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,x3(this.ENCODERS)),C=w.next();!C.done;C=w.next()){var x=C.value;if(x.canEncode(e.charAt(h))){u.push(x),p=!0;break}}}catch(P){o={error:P}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var A=0;try{for(var O=x3(u),N=O.next();!N.done;N=O.next()){var x=N.value;this.encoders[A++]=x}}catch(P){l={error:P}}finally{try{N&&!N.done&&(c=O.return)&&c.call(O)}finally{if(l)throw l.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Cs.encode(hr.getCharAt(e),this.encoders[r].name)},t}(),Uwe=3,Vwe=function(){function t(e,r,n){this.fnc1=n;var i=new $we(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new tr,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(s===o||r.canEncode(s,u))&&this.addEdge(n,i+1,new QM(s,r,u,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new QM[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,c=rr.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var u=a[i][s];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),QM=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=Uwe),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),zwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var ZM;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(ZM||(ZM={}));(function(t){zwe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Vwe);var Hwe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),JM=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),qwe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),Wwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ok=function(t){Wwe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+rr.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(qwe),Gwe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kwe=function(t){Gwe(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ok);function Ywe(t,e,r){return new Kwe(t,e,r)}function I1(t,e,r){return new ok(t,e,r)}var Xwe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qd=0,t_=1,bs=2,dY=3,Jl=4,Qwe=new ok(null,0,0),w3=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Zwe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Jwe(t){var e,r;try{for(var n=Zwe(t),i=n.next();!i.done;i=n.next()){var a=i.value;bi.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Qd][Jl]=0,t[t_][Jl]=0,t[t_][Qd]=28,t[dY][Jl]=0,t[bs][Jl]=0,t[bs][Qd]=15,t}var fY=Jwe(bi.createInt32Array(6,6)),ebe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tbe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=w3[this.mode][e];i=I1(i,a&65535,a>>16),n+=a>>16}var o=e===bs?4:5;return i=I1(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===bs?4:5;return n=I1(n,fY[this.mode][e],i),n=I1(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Jl||this.mode===bs){var a=w3[n][Qd];r=I1(r,a&65535,a>>16),i+=a>>16,n=Qd}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=Ywe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(w3[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new $i;try{for(var s=ebe(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return hr.format("%s bits=%d bytes=%d",Xwe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Qwe,Qd,0,0),t}();function rbe(t){var e=hr.getCharCode(" "),r=hr.getCharCode("."),n=hr.getCharCode(",");t[Qd][e]=1;for(var i=hr.getCharCode("Z"),a=hr.getCharCode("A"),o=a;o<=i;o++)t[Qd][o]=o-a+2;t[t_][e]=1;for(var s=hr.getCharCode("z"),l=hr.getCharCode("a"),o=l;o<=s;o++)t[t_][o]=o-l+2;t[bs][e]=1;for(var c=hr.getCharCode("9"),u=hr.getCharCode("0"),o=u;o<=c;o++)t[bs][o]=o-u+2;t[bs][n]=12,t[bs][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[dY][hr.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)hr.getCharCode(p[h])>0&&(t[Jl][hr.getCharCode(p[h])]=h);return t}var b3=rbe(bi.createInt32Array(5,256)),K2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nbe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=hr.getCharCode(" "),r=hr.getCharCode(`
`),n=JM.singletonList(tbe.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case hr.getCharCode("\r"):a=o===r?2:0;break;case hr.getCharCode("."):a=o===e?3:0;break;case hr.getCharCode(","):a=o===e?4:0;break;case hr.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=JM.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=K2(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=b3[e.getMode()][i]>0,o=null,s=0;s<=Jl;s++){var l=b3[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===bs){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&fY[e.getMode()][s]>=0){var u=o.shiftAndAppend(s,l);n.push(u)}}}if(e.getBinaryShiftByteCount()>0||b3[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=K2(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,o)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Jl,n)),e.getMode()!==Jl&&i.push(a.shiftAndAppend(Jl,n)),n===3||n===4){var o=a.latchAndAppend(bs,16-n).latchAndAppend(bs,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=K2(e),l=s.next();!l.done;l=s.next()){var c=l.value,u=!0,f=function(x){if(x.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(x)&&(o=o.filter(function(v){return v!==x}))};try{for(var h=(i=void 0,K2(o)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u&&o.push(c)}}catch(x){r={error:x}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),ibe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new nbe(e).encode(),a=rr.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,c,u,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new kt(hr.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),u=t.WORD_SIZE[l];var h=c-c%u;if(f=t.stuffBits(i,u),f.getSize()+a>h)throw new kt("Data to large for user specified layer");if(s&&f.getSize()>u*64)throw new kt("Data to large for user specified layer")}else{u=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new kt("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,c=t.totalBitsInLayer(l,s),!(o>c)){(f==null||u!==t.WORD_SIZE[l])&&(u=t.WORD_SIZE[l],f=t.stuffBits(i,u));var h=c-c%u;if(!(s&&f.getSize()>u*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,c,u),g=f.getSize()/u,x=t.generateModeMessage(s,l,g),v=(s?11:14)+l*4,y=new Int32Array(v),w;if(s){w=v;for(var p=0;p<y.length;p++)y[p]=p}else{w=v+1+2*rr.truncDivision(rr.truncDivision(v,2)-1,15);for(var C=rr.truncDivision(v,2),A=rr.truncDivision(w,2),p=0;p<C;p++){var O=p+rr.truncDivision(p,15);y[C-p-1]=A-O-1,y[C+p]=A+O+1}}for(var N=new pc(w),p=0,S=0;p<l;p++){for(var P=(l-p)*4+(s?9:12),R=0;R<P;R++)for(var I=R*2,k=0;k<2;k++)m.get(S+I+k)&&N.set(y[p*2+k],y[p*2+R]),m.get(S+P*2+I+k)&&N.set(y[p*2+R],y[v-1-p*2-k]),m.get(S+P*4+I+k)&&N.set(y[v-1-p*2-k],y[v-1-p*2-R]),m.get(S+P*6+I+k)&&N.set(y[v-1-p*2-R],y[p*2+k]);S+=P*8}if(t.drawModeMessage(N,s,w,x),s)t.drawBullsEye(N,rr.truncDivision(w,2),5);else{t.drawBullsEye(N,rr.truncDivision(w,2),7);for(var p=0,R=0;p<rr.truncDivision(v,2)-1;p+=15,R+=16)for(var k=rr.truncDivision(w,2)&1;k<w;k+=2)N.set(rr.truncDivision(w,2)-R,k),N.set(rr.truncDivision(w,2)+R,k),N.set(k,rr.truncDivision(w,2)-R),N.set(k,rr.truncDivision(w,2)+R)}var D=new Hwe;return D.setCompact(s),D.setSize(w),D.setLayers(l),D.setCodeWords(g),D.setMatrix(N),D},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new $i;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=rr.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+rr.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new cY(t.getGF(n)),l=rr.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-o);var u=r%n,f=new $i;f.appendBits(0,u);try{for(var h=ibe(Array.from(c)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return mo.AZTEC_PARAM;case 6:return mo.AZTEC_DATA_6;case 8:return mo.AZTEC_DATA_8;case 10:return mo.AZTEC_DATA_10;case 12:return mo.AZTEC_DATA_12;default:throw new kt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new $i,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var hY={exports:{}};(function(t,e){(function(n,i){t.exports=i(E)})(xm,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var c in o)a.d(l,c,(function(u){return o[u]}).bind(null,c));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var v in x)x.hasOwnProperty(v)&&(g[v]=x[v])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(h[x]=p[x])}return h},l.apply(this,arguments)},c=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,g=Object.getOwnPropertySymbols(h);x<g.length;x++)p.indexOf(g[x])<0&&Object.prototype.propertyIsEnumerable.call(h,g[x])&&(m[g[x]]=h[g[x]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,x){m.call(navigator,p,g,x)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,x=m.props;if(this.unmounted=!1,!u()){x.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),x.children&&typeof x.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!u()){g.onUserMediaError("getUserMedia not supported");return}var x=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),v=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),y=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(v||y||w)&&(this.canvas=null,this.ctx=null),(x||v)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,x=g.state,v=g.props;if(!x.hasUserMedia)return null;var y=this.getCanvas(m);return y&&y.toDataURL(v.screenshotFormat,v.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,x=g.state,v=g.props;if(!this.video||!x.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var y=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=y/w;y=v.minScreenshotWidth||this.video.clientWidth,w=y/C,v.minScreenshotHeight&&w<v.minScreenshotHeight&&(w=v.minScreenshotHeight,y=w*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||y,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var A=this,O=A.ctx,N=A.canvas;return O&&N&&(N.width=(m==null?void 0:m.width)||N.width,N.height=(m==null?void 0:m.height)||N.height,v.mirrored&&(O.translate(N.width,0),O.scale(-1,1)),O.imageSmoothingEnabled=v.imageSmoothing,O.drawImage(this.video,0,0,(m==null?void 0:m.width)||N.width,(m==null?void 0:m.height)||N.height),v.mirrored&&(O.scale(-1,1),O.translate(-N.width,0))),N},p.prototype.requestUserMedia=function(){var m=this,g=this.props,x=function(w,C){var A={video:typeof C<"u"?C:!0};g.audio&&(A.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var O=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(N){m.unmounted||O!==m.requestUserMediaId?p.stopMediaStream(N):m.handleUserMedia(null,N)}).catch(function(N){m.handleUserMedia(N)})};if("mediaDevices"in navigator)x(g.audioConstraints,g.videoConstraints);else{var v=function(w){return{optional:[{sourceId:w}]}},y=function(w){var C=w.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(w){var C=null,A=null;w.forEach(function(S){S.kind==="audio"?C=S.id:S.kind==="video"&&(A=S.id)});var O=y(g.audioConstraints);O&&(C=O);var N=y(g.videoConstraints);N&&(A=N),x(v(C),v(A))})}},p.prototype.handleUserMedia=function(m,g){var x=this.props;if(m||!g){this.setState({hasUserMedia:!1}),x.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}x.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,x=g.state,v=g.props,y=v.audio;v.forceScreenshotSourceSize;var w=v.disablePictureInPicture;v.onUserMedia,v.onUserMediaError,v.screenshotFormat,v.screenshotQuality,v.minScreenshotWidth,v.minScreenshotHeight,v.audioConstraints,v.videoConstraints,v.imageSmoothing;var C=v.mirrored,A=v.style,O=A===void 0?{}:A,N=v.children,S=c(v,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),P=C?l(l({},O),{transform:(O.transform||"")+" scaleX(-1)"}):O,R={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:w,src:x.src,muted:!y,playsInline:!0,ref:function(I){m.video=I},style:P},S)),N&&N(R))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(hY);var abe=hY.exports;const obe=Rr(abe),sbe=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l,formats:c})=>{const u=E.useRef(null),f=E.useCallback(()=>{var m;const h=new owe(new Map([[yn.POSSIBLE_FORMATS,c==null?void 0:c.map(g=>typeof g=="string"?Pt[g]:g)]])),p=(m=u==null?void 0:u.current)==null?void 0:m.getScreenshot();p&&h.decodeFromImage(void 0,p).then(g=>{t(null,g)}).catch(g=>{t(g)})},[t,c]);return E.useEffect(()=>{var h,p,m;if(typeof a=="boolean"&&((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getSupportedConstraints()).torch){const g=(m=(p=u==null?void 0:u.current)==null?void 0:p.video)==null?void 0:m.srcObject,x=g==null?void 0:g.getVideoTracks()[0];x&&x.getCapabilities().torch&&x.applyConstraints({advanced:[{torch:a}]}).catch(v=>t(v))}},[a,t]),E.useEffect(()=>{var h,p;if(l){let m=(p=(h=u==null?void 0:u.current)==null?void 0:h.video)==null?void 0:p.srcObject;m&&(m.getTracks().forEach(g=>{m==null||m.removeTrack(g),g.stop()}),m=null)}},[l]),E.useEffect(()=>{const h=setInterval(f,o);return()=>{clearInterval(h)}},[f,o]),d.jsx(obe,{width:r,height:n,ref:u,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};var e7;(function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(e7||(e7={}));const sk=()=>!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),lbe=async(t={facingMode:"environment",width:{ideal:1280},height:{ideal:720}})=>{try{if(!sk())return{stream:null,error:"Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."};try{if((await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput").length===0)return{stream:null,error:"No camera detected on your device."}}catch(n){console.warn("Could not enumerate devices:",n)}const e={};return t.facingMode&&(e.facingMode=t.facingMode),t.width&&(e.width=t.width),t.height&&(e.height=t.height),t.frameRate&&(e.frameRate=t.frameRate),{stream:await navigator.mediaDevices.getUserMedia({video:e,audio:!1}),error:null}}catch(e){console.error("Camera access error:",e);let r="Failed to access camera";switch(e.name){case"NotAllowedError":r="Camera access was denied. Please grant camera permissions in your browser settings and try again.";break;case"NotFoundError":r="No camera found or the camera is not accessible.";break;case"NotReadableError":case"AbortError":r="The camera is already in use by another application or tab. Please close other applications using the camera and try again.";break;case"SecurityError":r="Camera access is blocked by your browser's security settings.";break;case"OverconstrainedError":r="Could not find a camera that meets the required constraints. Try using different settings.";break;case"TypeError":r="The camera constraints were invalid. This is a development issue.";break;default:r=`Camera error: ${e.message||"Unknown error"}`}return{stream:null,error:r}}},Gw=t=>{if(t)try{t.getTracks().forEach(e=>{try{e.stop()}catch(r){console.warn("Error stopping media track:",r)}})}catch(e){console.error("Error stopping media stream:",e)}},cbe=async t=>{try{const e=t.getVideoTracks()[0];return e?e.getCapabilities().torch===!0:!1}catch(e){return console.error("Error checking torch availability:",e),!1}},ube=async(t,e)=>{try{const r=t.getVideoTracks()[0];if(!r)return!1;const n=r.getCapabilities();return!n||typeof n.torch!="boolean"?!1:(await r.applyConstraints({advanced:[{torch:e}]}),!0)}catch(r){return console.error("Error toggling torch:",r),!1}},pY={corsAnywhere:{url:"https://cors-anywhere.herokuapp.com/",headers:{Origin:typeof window<"u"?window.location.origin:"","X-Requested-With":"XMLHttpRequest"}},allOrigins:{url:"https://api.allorigins.win/raw?url=",headers:{}}};async function mY(t,e={},r="direct"){const n=mbe(r);let i=null;for(const a of n)try{const o=await dbe(t,e,a);if(o)return console.log(`[Proxy] Successfully fetched with ${a} strategy`),o}catch(o){console.error(`[Proxy] ${a} strategy failed:`,o),i=o}return console.error("[Proxy] All strategies failed. Last error:",i),null}async function dbe(t,e={},r){switch(console.log(`[Proxy] Attempting ${r} strategy for: ${t}`),r){case"direct":return fbe(t,e);case"corsAnywhere":return hbe(t,e);case"allOrigins":return pbe(t,e);case"jsonp":throw new Error("JSONP strategy not implemented yet");default:throw new Error(`Unknown proxy strategy: ${r}`)}}async function fbe(t,e={}){const r=await fetch(t,e);if(!r.ok)throw console.error(`[Proxy] Direct fetch failed with status: ${r.status}`),new Error(`HTTP error: ${r.status}`);return await r.json()}async function hbe(t,e={}){const r=pY.corsAnywhere,n=`${r.url}${t}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] CORS Anywhere fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}async function pbe(t,e={}){const r=pY.allOrigins,n=`${r.url}${encodeURIComponent(t)}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] AllOrigins fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}function mbe(t){const e=["direct","corsAnywhere","allOrigins"];if(t==="direct")return e;const r=e.filter(n=>n!==t&&n!=="direct");return["direct",t,...r]}const gbe="Taska-Loop",vbe="1.0",ybe="vanold101@gmail.com",xbe="https://world.openfoodfacts.org/api/v2";async function wbe(t){try{console.log(`[OpenFoodFacts] Fetching data for barcode: ${t}`);const e=t.replace(/^0+/,""),r=`${xbe}/product/${e}.json`;console.log(`[OpenFoodFacts] API URL: ${r}`);const n={headers:{"User-Agent":`${gbe}/${vbe} (${ybe})`}},i=await mY(r,n,"direct");if(!i)return console.error("[OpenFoodFacts] Failed to fetch data"),null;if(console.log(`[OpenFoodFacts] API response status: ${i.status} (${i.status_verbose})`),i.product?(console.log(`[OpenFoodFacts] Product found: ${i.product.product_name||"Unknown product"}`),console.log(`[OpenFoodFacts] Brand: ${i.product.brands||"Unknown brand"}`)):console.log("[OpenFoodFacts] Full response:",JSON.stringify(i).substring(0,200)+"..."),i.status===0||!i.product)return console.log("[OpenFoodFacts] Product not found",i),null;const a={name:i.product.product_name||"",brand:i.product.brands||"",image:i.product.image_front_url||i.product.image_url||"",category:i.product.categories||"",ingredients:i.product.ingredients_text||"",quantity:i.product.quantity||"",nutriscore:i.product.nutriscore_grade||"",ecoscore:i.product.ecoscore_grade||"",novaGroup:i.product.nova_group,stores:i.product.stores||""};return console.log("[OpenFoodFacts] Successfully extracted product details:",a),a}catch(e){return console.error("[OpenFoodFacts] Error fetching from Open Food Facts API:",e),null}}async function bbe(t){try{console.log(`[UPCItemDB] Fetching data for barcode: ${t}`);const e=`https://api.upcitemdb.com/prod/trial/lookup?upc=${t}`;console.log(`[UPCItemDB] API URL: ${e}`);const r=await mY(e,{},"allOrigins");if(!r)return console.error("[UPCItemDB] Failed to fetch data"),null;if(console.log(`[UPCItemDB] API response code: ${r.code}`),r.code==="OK"&&r.items&&r.items.length>0){const n=r.items[0];console.log(`[UPCItemDB] Product found: ${n.title||"Unknown title"}`);const i={name:n.title,brand:n.brand,image:n.images&&n.images.length>0?n.images[0]:void 0};return console.log("[UPCItemDB] Successfully extracted product details:",i),i}return console.log("[UPCItemDB] No items found or error in response",r),null}catch(e){return console.error("[UPCItemDB] Error fetching from UPCItemDB:",e),null}}const _be=({onItemScanned:t,onScan:e,buttonText:r="Scan Barcode",buttonVariant:n="outline",buttonSize:i="sm",className:a="",tripId:o})=>{const[s,l]=E.useState(!1),[c,u]=E.useState(!1),[f,h]=E.useState(null),[p,m]=E.useState(!1),[g,x]=E.useState(!1),[v,y]=E.useState(!1),[w,C]=E.useState(!0),[A,O]=E.useState("Waiting for barcode..."),[N,S]=E.useState(null),[P,R]=E.useState("none"),[I,k]=E.useState(0),[D,z]=E.useState(0),J=E.useRef(null),U=E.useRef(null),{toast:K}=_n();E.useEffect(()=>()=>{var q;(q=J.current)!=null&&q.srcObject&&Gw(J.current.srcObject),U.current&&clearInterval(U.current)},[]),E.useEffect(()=>{if(s&&!c){const q=setTimeout(()=>{u(!0),O("Waiting for barcode..."),U.current&&clearInterval(U.current),U.current=setInterval(()=>{z(Q=>{const se=Q+1;return se%5===0&&O("Still searching for barcode... Please ensure good lighting and hold steady."),se})},2e3)},100);return()=>{clearTimeout(q),U.current&&clearInterval(U.current)}}else!s&&c&&(u(!1),m(!1),z(0),U.current&&clearInterval(U.current))},[s]);const $=async(q,Q)=>{if(v)return;const se=Date.now();if(Q&&se-I>3e3){k(se),y(!0),O("Barcode detected! Processing..."),S(Q.text),R("detected"),U.current&&clearInterval(U.current);const G=Q.text;if(console.log(`[Scanner] Barcode detected: ${G}`),K({title:"Barcode Detected",description:`UPC: ${G}. Fetching details...`}),e){console.log(`[Scanner] Using onScan callback with barcode: ${G}`),e(G),te();return}if(t){console.log(`[Scanner] Looking up product details for UPC: ${G}`),console.log("[Scanner] Attempting Open Food Facts API lookup");const le=await wbe(G);if(le)console.log("[Scanner] Product found in Open Food Facts:",le),O("Product found in database!"),R("detected"),t({upc:G,...le}),K({title:"Product Found",description:`${le.name||"Product"} details fetched from Open Food Facts.`});else{console.log("[Scanner] Open Food Facts lookup failed, trying UPCItemDB");const de=await bbe(G);de?(console.log("[Scanner] Product found in UPCItemDB:",de),O("Product found in alternate database!"),R("detected"),t({upc:G,...de}),K({title:"Item Found",description:`${de.name||"Product"} details fetched from alternate source.`})):(console.log(`[Scanner] Product not found in any database for UPC: ${G}`),O("Barcode detected but not in database"),R("not_in_db"),t({upc:G}),K({title:"Details Not Found",description:`Could not find details for barcode: ${G}. You can add it manually.`,variant:"default"}))}}setTimeout(()=>{te()},1500)}else q&&q.name!=="NotFoundException"&&q.name!=="NotFoundException2"&&(console.error("[Scanner] Barcode scanning error:",q),R("error"),H(q))},H=q=>{console.error("Camera error:",q);let Q="Failed to access camera";q.name==="NotAllowedError"?Q="Camera access denied. Please enable camera permissions in your browser settings and try again.":q.name==="NotFoundError"?Q="No camera found on your device.":q.name==="NotReadableError"?Q="Camera is already in use by another application or tab.":q.name==="OverconstrainedError"?Q="Could not find a suitable camera.":q.name==="SecurityError"?Q="Camera access is blocked by browser security settings.":(q.name==="StreamApiNotSupportedError"||!w)&&(Q="Your browser doesn't support camera access. Try using a modern browser.",C(!1)),h(Q),u(!1),K({title:"Camera Error",description:Q,variant:"destructive"})},te=()=>{l(!1),u(!1),m(!1),y(!1),h(null),O("Waiting for barcode..."),z(0),S(null),R("none"),U.current&&(clearInterval(U.current),U.current=null)},ie=async()=>{m(!p),K({title:"Torch "+(p?"Disabled":"Enabled"),description:"Camera light has been "+(p?"turned off":"turned on"),variant:"default"})},F=async()=>{if(!sk()){C(!1),h("Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."),l(!0);return}l(!0),u(!1),y(!1),h(null),O("Waiting for barcode..."),z(0)};return!t&&!e?(console.warn("BarcodeScannerButton: Either onItemScanned or onScan prop must be provided"),null):d.jsxs(d.Fragment,{children:[d.jsxs(De,{variant:n,size:i,className:`flex items-center gap-1 ${a}`,onClick:F,children:[d.jsx(ER,{className:"h-4 w-4"}),r]}),d.jsx(Hi,{open:s,onOpenChange:q=>{q||te()},children:d.jsxs(Ci,{className:"sm:max-w-md p-4",children:[d.jsx(Ni,{children:d.jsxs(Ti,{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ER,{className:"h-4 w-4"}),"Scan Product Barcode"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(De,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:ie,"aria-label":"Toggle flashlight",children:d.jsx(oH,{className:"h-4 w-4"})}),d.jsx(De,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:te,"aria-label":"Close scanner",children:d.jsx(Xa,{className:"h-4 w-4"})})]})]})}),d.jsx("div",{className:"relative overflow-hidden rounded-md mt-4",children:f?d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 text-red-700 dark:text-red-300 rounded-md text-center",children:[d.jsx("p",{className:"font-medium mb-2",children:"Camera Error"}),d.jsx("p",{className:"text-sm mt-1 mb-3",children:f}),w&&d.jsx(De,{size:"sm",onClick:()=>{h(null),u(!1),setTimeout(()=>u(!0),50)},children:"Retry Camera"})]}):d.jsxs("div",{className:"aspect-video bg-black relative rounded-md overflow-hidden",children:[s&&c&&w&&d.jsx(sbe,{width:"100%",height:"100%",onUpdate:$,torch:p,onError:q=>{console.error("BarcodeScannerComponent error:",q),H(q)}}),!c&&s&&!f&&w&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black text-white",children:"Starting camera..."}),c&&!f&&d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-red-500 opacity-70 animate-pulse"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-72 h-72 border-2 border-white/30 rounded-lg"})]})]})}),d.jsxs("div",{className:`mt-4 p-3 rounded-md text-sm ${P==="none"?"bg-gray-100 dark:bg-gray-800":P==="detected"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":P==="not_in_db"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P==="none"&&d.jsx(bo,{className:"h-4 w-4"}),P==="detected"&&d.jsx(Nse,{className:"h-4 w-4"}),P==="not_in_db"&&d.jsx(bo,{className:"h-4 w-4"}),P==="error"&&d.jsx(Zse,{className:"h-4 w-4"}),d.jsx("p",{className:"font-medium",children:A})]}),N&&d.jsxs("div",{className:"text-xs mt-1 font-mono bg-black/10 dark:bg-white/10 p-1 rounded",children:["UPC: ",N]})]})]})})]})},Kw=[{barcode:"0123456789012",name:"Organic Milk",defaultPrice:3.99,defaultCategory:"Dairy",unit:"gal"},{barcode:"5901234123457",name:"Whole Wheat Bread",defaultPrice:2.49,defaultCategory:"Bakery",unit:"ea"},{barcode:"9780201379624",name:"Organic Bananas",defaultPrice:1.99,defaultCategory:"Produce",unit:"lb"},{barcode:"4006381333931",name:"Extra Virgin Olive Oil",defaultPrice:8.99,defaultCategory:"Oils & Vinegars",unit:"floz"},{barcode:"8410154011417",name:"Cereal",defaultPrice:4.29,defaultCategory:"Breakfast",unit:"box"},{barcode:"3800020430781",name:"Pasta Sauce",defaultPrice:3.49,defaultCategory:"Canned Goods",unit:"can"},{barcode:"7622210100221",name:"Chocolate Bar",defaultPrice:2.25,defaultCategory:"Snacks",unit:"ea"},{barcode:"5449000000996",name:"Coca-Cola",defaultPrice:1.79,defaultCategory:"Beverages",unit:"bottle"},{barcode:"8000500310427",name:"Nutella",defaultPrice:4.99,defaultCategory:"Spreads",unit:"jar"}],Sbe=t=>Kw.find(r=>r.barcode===t)||null,Abe=t=>{const e=Kw.findIndex(r=>r.barcode===t.barcode);e>=0?Kw[e]=t:Kw.push(t),console.log("Product saved:",t)},TS=[{id:"g",name:"Gram",abbreviation:"g",type:"weight",system:"metric",conversionFactor:1,commonItems:["spices","flour","sugar"]},{id:"kg",name:"Kilogram",abbreviation:"kg",type:"weight",system:"metric",conversionFactor:1e3,commonItems:["potatoes","rice","onions"]},{id:"oz",name:"Ounce",abbreviation:"oz",type:"weight",system:"imperial",conversionFactor:28.35,commonItems:["meat","cheese"]},{id:"lb",name:"Pound",abbreviation:"lb",type:"weight",system:"imperial",conversionFactor:453.59,commonItems:["meat","fruits","vegetables"]},{id:"ml",name:"Milliliter",abbreviation:"ml",type:"volume",system:"metric",conversionFactor:1,commonItems:["sauce","oil"]},{id:"l",name:"Liter",abbreviation:"L",type:"volume",system:"metric",conversionFactor:1e3,commonItems:["milk","juice","water"]},{id:"floz",name:"Fluid Ounce",abbreviation:"fl oz",type:"volume",system:"imperial",conversionFactor:29.57,commonItems:["beverages"]},{id:"cup",name:"Cup",abbreviation:"cup",type:"volume",system:"imperial",conversionFactor:236.59,commonItems:["flour","sugar","rice"]},{id:"pt",name:"Pint",abbreviation:"pt",type:"volume",system:"imperial",conversionFactor:473.18,commonItems:["berries","ice cream"]},{id:"qt",name:"Quart",abbreviation:"qt",type:"volume",system:"imperial",conversionFactor:946.35,commonItems:["milk"]},{id:"gal",name:"Gallon",abbreviation:"gal",type:"volume",system:"imperial",conversionFactor:3785.41,commonItems:["milk","water"]},{id:"ea",name:"Each",abbreviation:"ea",type:"quantity",system:"universal",conversionFactor:1,commonItems:["eggs","fruit","canned goods"]},{id:"pc",name:"Piece",abbreviation:"pc",type:"quantity",system:"universal",conversionFactor:1,commonItems:["fruit","bread","cheese"]},{id:"dz",name:"Dozen",abbreviation:"dz",type:"quantity",system:"universal",conversionFactor:12,commonItems:["eggs","pastries","donuts"]},{id:"pack",name:"Package",abbreviation:"pack",type:"package",system:"universal",conversionFactor:1,commonItems:["pasta","bacon","cheese","snacks"]},{id:"box",name:"Box",abbreviation:"box",type:"package",system:"universal",conversionFactor:1,commonItems:["cereal","crackers"]},{id:"can",name:"Can",abbreviation:"can",type:"package",system:"universal",conversionFactor:1,commonItems:["soup","beans","tomatoes","soda"]},{id:"bottle",name:"Bottle",abbreviation:"btl",type:"package",system:"universal",conversionFactor:1,commonItems:["soda","wine","oils","water","juice"]},{id:"bunch",name:"Bunch",abbreviation:"bunch",type:"quantity",system:"universal",conversionFactor:1,commonItems:["bananas","grapes","carrots","herbs"]},{id:"jar",name:"Jar",abbreviation:"jar",type:"package",system:"universal",conversionFactor:1,commonItems:["sauces","pickles","jam","peanut butter"]}],Yl=TS.reduce((t,e)=>({...t,[e.id]:e}),{}),Ebe=(t,e,r)=>{const n=Yl[e],i=Yl[r];return!n||!i||n.type!==i.type?null:t*n.conversionFactor/i.conversionFactor},t7=t=>TS.filter(e=>e.type===t),gY=t=>{const e=t.toLowerCase().trim();return TS.filter(r=>{var n;return(n=r.commonItems)==null?void 0:n.some(i=>e.includes(i)||i.includes(e))})},sy=t=>{const e=gY(t);if(e.length===0)return Yl.ea;const r=["quantity","weight","volume","package"];for(const n of r){const i=e.find(a=>a.type===n);if(i)return i}return e[0]},jN=(t,e)=>{const r=Yl[e];return r?`${t} ${r.abbreviation}`:`${t}`};function Cbe(t){return"value"in t&&"onChange"in t}const RN=t=>{if(Cbe(t)){const{value:y,onChange:w,className:C=""}=t;return d.jsxs(yi,{value:y,onValueChange:w,className:C,children:[d.jsx(oi,{children:d.jsx(xi,{placeholder:"Select unit"})}),d.jsx(si,{children:TS.map(A=>d.jsxs(Ct,{value:A.id,children:[A.name," (",A.abbreviation,")"]},A.id))})]})}const{itemName:e,quantity:r,unit:n,onQuantityChange:i,onUnitChange:a,className:o="",showConversion:s=!1,compact:l=!1}=t,[c,u]=E.useState(n?Yl[n]:sy(e)),[f,h]=E.useState([]),[p,m]=E.useState((c==null?void 0:c.type)||"quantity");E.useEffect(()=>{const y=gY(e);if(y.length>0){if(h(y),!n&&!y.some(w=>w.id===(c==null?void 0:c.id))){const w=sy(e);u(w),m(w.type),a(w.id)}}else h(t7("quantity"))},[e]),E.useEffect(()=>{n&&Yl[n]&&(u(Yl[n]),m(Yl[n].type))},[n]);const g=y=>{m(y);const w=t7(y);if(h(w),w.length>0){const C=w[0];u(C),a(C.id)}},x=y=>{if(!y||!Yl[y])return;const w=Yl[y];if(u(w),a(y),c&&w.type===c.type&&s){const C=Ebe(r,c.id,w.id);C!==null&&i(Math.round(C*100)/100)}},v=[{type:"quantity",label:"Qty"},{type:"weight",label:"Weight"},{type:"volume",label:"Volume"},{type:"package",label:"Package"}];return l?d.jsx("div",{className:o,children:d.jsxs(I0,{children:[d.jsx(O0,{asChild:!0,children:d.jsxs(De,{variant:"outline",size:"sm",className:"h-10 px-2 flex items-center justify-between rounded-l-none border-l-0",children:[d.jsx("span",{children:(c==null?void 0:c.abbreviation)||"ea"}),d.jsx(Yh,{className:"h-3.5 w-3.5 ml-1 opacity-50"})]})}),d.jsx(Zh,{className:"w-[240px] p-2",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(gt,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),d.jsx("div",{className:"grid grid-cols-4 gap-1",children:v.map(y=>d.jsx(De,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),children:y.label},y.type))}),d.jsx(gt,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),d.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>d.jsx(De,{variant:(c==null?void 0:c.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>x(y.id),children:y.abbreviation},y.id))})]})})]})}):d.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[d.jsxs(I0,{children:[d.jsx(O0,{asChild:!0,children:d.jsxs(De,{variant:"outline",size:"sm",className:"h-9 px-2 flex items-center justify-between",children:[d.jsx("span",{className:"mr-1",children:(c==null?void 0:c.abbreviation)||"ea"}),d.jsx(Yh,{className:"h-3.5 w-3.5 opacity-50"})]})}),d.jsx(Zh,{className:"w-[240px] p-2",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(gt,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),d.jsx("div",{className:"grid grid-cols-4 gap-1",children:v.map(y=>d.jsx(De,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),children:y.label},y.type))}),d.jsx(gt,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),d.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>d.jsx(De,{variant:(c==null?void 0:c.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>x(y.id),children:y.abbreviation},y.id))})]})})]}),d.jsx(ur,{type:"number",min:"0.01",step:"0.01",value:r,onChange:y=>i(parseFloat(y.target.value)||0),className:"h-9 w-20"})]})},Nbe=({barcode:t,isOpen:e,onClose:r,onSave:n})=>{const[i,a]=E.useState(""),[o,s]=E.useState(void 0),[l,c]=E.useState(""),[u,f]=E.useState(1),[h,p]=E.useState("ea"),{toast:m}=_n(),g=v=>{if(v.trim()){const y=sy(v);p(y.id)}},x=()=>{if(!i.trim()){m({title:"Product name required",description:"Please enter a name for this product",variant:"destructive"});return}const v={barcode:t,name:i,defaultPrice:o,defaultCategory:l||void 0,unit:h};Abe(v),n(v),a(""),s(void 0),c(""),f(1),p("ea"),r(),m({title:"Product saved",description:`"${i}" has been added to the product database`})};return d.jsx(Hi,{open:e,onOpenChange:v=>{v||r()},children:d.jsxs(Ci,{className:"sm:max-w-md",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2",children:[d.jsx(Cse,{className:"h-5 w-5"}),"Save New Product"]}),d.jsx(Jo,{children:"Save this product to your database for future scans."})]}),d.jsxs("div",{className:"grid gap-4 py-2",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"barcode",children:"Barcode"}),d.jsx(ur,{id:"barcode",value:t,readOnly:!0,className:"bg-muted"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"productName",children:"Product Name*"}),d.jsx(ur,{id:"productName",value:i,onChange:v=>{a(v.target.value),g(v.target.value)},placeholder:"Enter product name",autoFocus:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"productPrice",children:"Default Price (optional)"}),d.jsx(ur,{id:"productPrice",type:"number",step:"0.01",min:"0",value:o===void 0?"":o,onChange:v=>{const y=v.target.value?parseFloat(v.target.value):void 0;s(y)},placeholder:"0.00"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"productCategory",children:"Category (optional)"}),d.jsx(ur,{id:"productCategory",value:l,onChange:v=>c(v.target.value),placeholder:"Enter category"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"productUnit",children:"Unit"}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx(RN,{itemName:i,quantity:u,unit:h,onQuantityChange:f,onUnitChange:p,showConversion:!1}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Suggested based on product name"})]})]})]}),d.jsxs(hc,{children:[d.jsx(De,{variant:"outline",onClick:r,children:"Cancel"}),d.jsx(De,{onClick:x,children:"Save Product"})]})]})})},Tbe=(t,e)=>{const r=oy(t);return e.find(i=>oy(i.name)===r)||null},Pbe=(t,e,r=.75)=>{const n=oy(t),i=n.split(" ");return n.length<3||i.length===0?[]:e.map(o=>{const s=oy(o.name),l=s.split(" ");if(s.length<3||l.length===0)return{item:o,confidence:0};let c=0;for(const p of i)p.length<=2||l.some(m=>m.includes(p)||p.includes(m))&&c++;const u=c/Math.max(i.length,l.length),f=1-Ibe(n,s)/Math.max(n.length,s.length),h=u*.7+f*.3;return{item:o,confidence:h}}).filter(o=>o.confidence>=r).sort((o,s)=>s.confidence-o.confidence)},r7=(t,e)=>{const r=Tbe(t,e);if(r)return{type:"duplicate",newItemName:t,existingItem:r,confidence:100,message:`"${r.name}" is already on your list (${r.quantity}x)`};const n=Pbe(t,e);if(n.length>0){const i=n[0],a=Math.round(i.confidence*100);return{type:"similar",newItemName:t,existingItem:i.item,confidence:a,message:`"${t}" might be similar to "${i.item.name}" already on your list (${a}% match)`}}return null};function Ibe(t,e){const r=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n+=1)r[0][n]=n;for(let n=0;n<=e.length;n+=1)r[n][0]=n;for(let n=1;n<=e.length;n+=1)for(let i=1;i<=t.length;i+=1){const a=t[i-1]===e[n-1]?0:1;r[n][i]=Math.min(r[n][i-1]+1,r[n-1][i]+1,r[n-1][i-1]+a)}return r[e.length][t.length]}const Obe=({suggestion:t,isOpen:e,onClose:r,onAddAnyway:n,onMergeItems:i,onUpdate:a})=>{if(!t)return null;const{type:o,newItemName:s,existingItem:l,confidence:c,message:u}=t,f=o==="duplicate",h=()=>{n(),r()},p=()=>{i(l,1),r()},m=()=>{a(l),r()};return d.jsx(Hi,{open:e,onOpenChange:r,children:d.jsxs(Ci,{className:"sm:max-w-md",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2",children:[d.jsx(bo,{className:"h-5 w-5 text-amber-500"}),f?"Duplicate Item":"Similar Item Found"]}),d.jsx(Jo,{children:u})]}),d.jsxs("div",{className:"p-4 border rounded-md bg-amber-50 dark:bg-amber-900/20",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"New item:"})," ",d.jsx("span",{className:"text-sm",children:s})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium",children:"Existing item:"})," ",d.jsx("span",{className:"text-sm",children:l.name}),d.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[d.jsxs(Qt,{variant:"outline",className:"text-xs",children:["Qty: ",l.quantity]}),l.price&&d.jsxs(Qt,{variant:"outline",className:"text-xs",children:["$",l.price.toFixed(2)]}),!f&&d.jsxs(Qt,{variant:"outline",className:`text-xs ${c>85?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":c>75?"bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:[c,"% match"]})]})]})]}),d.jsx(hc,{className:"gap-2 sm:gap-0",children:d.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[d.jsx(De,{type:"button",variant:"outline",onClick:h,className:"sm:w-auto w-full",children:"Add Anyway"}),d.jsx(De,{type:"button",variant:"secondary",onClick:p,className:"sm:w-auto w-full",children:"Increase Quantity (+1)"}),!f&&d.jsx(De,{type:"button",variant:"default",onClick:m,className:"sm:w-auto w-full",children:"Update Existing"})]})})]})})},kbe=({onScan:t,buttonText:e="Scan Receipt",buttonVariant:r="outline",buttonSize:n="sm",className:i=""})=>{const[a,o]=E.useState(!1),[s,l]=E.useState(!1),[c,u]=E.useState(null),[f,h]=E.useState(null),[p,m]=E.useState(!1),[g,x]=E.useState(!1),[v,y]=E.useState(!0),w=E.useRef(null),{toast:C}=_n();E.useEffect(()=>()=>{Gw(c)},[c]),E.useEffect(()=>{if(a&&s&&!f){const I=setTimeout(()=>{S()},300);return()=>clearTimeout(I)}},[a,s,f]);const A=async()=>{try{if(!w.current||!c)return;const I=document.createElement("canvas");I.width=w.current.videoWidth,I.height=w.current.videoHeight;const k=I.getContext("2d");if(!k)throw new Error("Could not get canvas context");k.drawImage(w.current,0,0);const D=await new Promise(J=>{I.toBlob(U=>{if(U)J(U);else throw new Error("Failed to create image from canvas")},"image/jpeg",.95)});t([{name:"Milk",price:3.99,quantity:1},{name:"Bread",price:2.49,quantity:1},{name:"Eggs",price:4.99,quantity:1}]),N(),C({title:"Receipt Scanned",description:"Successfully processed receipt with 3 items"})}catch(I){console.error("Error capturing image:",I),C({title:"Scan Failed",description:"Failed to process receipt. Please try again.",variant:"destructive"})}},O=I=>{console.error("Camera error:",I),h(I),l(!1),C({title:"Camera Error",description:I,variant:"destructive"})},N=()=>{Gw(c),u(null),o(!1),l(!1),m(!1),h(null)},S=async()=>{if(!sk()){y(!1),O("Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari.");return}const{stream:k,error:D}=await lbe({facingMode:"environment",width:{ideal:1920},height:{ideal:1080}});if(D){O(D);return}if(k&&w.current){u(k),w.current.srcObject=k;try{await w.current.play();const z=await cbe(k);x(z)}catch(z){console.error("Error playing video:",z),O("Failed to start video stream. Please try again."),Gw(k)}}},P=async()=>{if(!g||!c){C({title:"Torch Unavailable",description:"Torch control is not available on this device or browser.",variant:"default"});return}const I=!p;await ube(c,I)?(m(I),C({title:`Torch ${I?"On":"Off"}`,description:`Camera torch has been turned ${I?"on":"off"}.`})):C({title:"Torch Control Failed",description:"Failed to toggle torch. It may not be supported on this device.",variant:"default"})},R=()=>{o(!0),setTimeout(()=>{l(!0)},100)};return d.jsxs(d.Fragment,{children:[d.jsxs(De,{variant:r,size:n,className:`flex items-center gap-1 ${i}`,onClick:R,children:[d.jsx(Zv,{className:"h-4 w-4"}),e]}),d.jsx(Hi,{open:a,onOpenChange:I=>{I?o(!0):N()},children:d.jsxs(Ci,{className:"sm:max-w-md",children:[d.jsx(Ni,{children:d.jsxs(Ti,{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zv,{className:"h-4 w-4"}),"Scan Receipt"]}),d.jsxs("div",{className:"flex gap-2",children:[g&&s&&d.jsx(De,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:P,"aria-label":p?"Turn off torch":"Turn on torch",children:d.jsx(oH,{className:"h-4 w-4"})}),d.jsx(De,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:N,"aria-label":"Close scanner",children:d.jsx(Xa,{className:"h-4 w-4"})})]})]})}),d.jsx("div",{className:"relative overflow-hidden rounded-md",children:f?d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 text-red-700 dark:text-red-300 rounded-md",children:[d.jsx("p",{className:"font-medium",children:"Camera Error"}),d.jsx("p",{className:"text-sm mt-1",children:f}),v&&d.jsx(De,{className:"mt-3",size:"sm",onClick:()=>{h(null),l(!0)},children:"Retry"})]}):d.jsxs("div",{className:"aspect-video bg-black relative rounded-md overflow-hidden",children:[s&&d.jsx("video",{ref:w,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:d.jsx("div",{className:"w-2/3 h-1/3 border-2 border-white/30 rounded-lg"})}),d.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white text-sm",children:"Position receipt within the frame"}),s&&!f&&d.jsx(De,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",onClick:A,children:"Capture Receipt"})]})}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Position the receipt clearly within the frame and ensure good lighting"})]})})]})},vY=[{id:"produce",name:"Produce",keywords:["fruit","vegetable","apple","banana","orange","berry","berries","grape","tomato","potato","onion","carrot","broccoli","spinach","lettuce","salad"]},{id:"dairy",name:"Dairy & Eggs",keywords:["milk","cheese","yogurt","butter","cream","egg"]},{id:"meat",name:"Meat & Seafood",keywords:["meat","chicken","beef","pork","lamb","fish","salmon","tuna","shrimp","sausage","bacon"]},{id:"bakery",name:"Bakery & Bread",keywords:["bread","bagel","bun","croissant","muffin","cake","pie","cookie","pastry"]},{id:"pantry",name:"Pantry",keywords:["pasta","rice","flour","sugar","cereal","oats","canned","soup","sauce","oil","vinegar","spice","condiment","jam","honey","peanut butter","nut","seed"]},{id:"frozen",name:"Frozen Foods",keywords:["frozen","ice cream","pizza","waffle","dessert"]},{id:"beverages",name:"Beverages",keywords:["water","juice","soda","tea","coffee","drink","beverage"]},{id:"snacks",name:"Snacks",keywords:["chip","cracker","pretzel","popcorn","candy","chocolate","bar"]},{id:"household",name:"Household & Cleaning",keywords:["paper towel","toilet paper","soap","detergent","cleaner","trash bag","sponge"]},{id:"personal_care",name:"Personal Care",keywords:["shampoo","conditioner","toothpaste","deodorant","lotion"]},{id:"baby",name:"Baby Items",keywords:["diaper","formula","baby food","wipe"]},{id:"pets",name:"Pet Supplies",keywords:["pet food","cat food","dog food","litter","pet toy"]},{id:"other",name:"Other",keywords:[]}],_3=vY.reduce((t,e)=>({...t,[e.id]:e}),{});function jbe(t){if(!t)return"other";const e=t.toLowerCase();for(const r of vY)if(r.keywords){for(const n of r.keywords)if(e.includes(n))return r.id}return"other"}var lk="Switch",[Rbe,Att]=Nl(lk),[Dbe,Mbe]=Rbe(lk),yY=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=E.useState(null),m=dr(e,w=>p(w)),g=E.useRef(!1),x=h?u||!!h.closest("form"):!0,[v=!1,y]=_l({prop:i,defaultProp:a,onChange:c});return d.jsxs(Dbe,{scope:r,checked:v,disabled:s,children:[d.jsx(Nt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":bY(v),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:st(t.onClick,w=>{y(C=>!C),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&d.jsx(Lbe,{control:h,bubbles:!g.current,name:n,value:l,checked:v,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});yY.displayName=lk;var xY="SwitchThumb",wY=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Mbe(xY,r);return d.jsx(Nt.span,{"data-state":bY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});wY.displayName=xY;var Lbe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=E.useRef(null),o=VO(r),s=nO(e);return E.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bY(t){return t?"checked":"unchecked"}var _Y=yY,Fbe=wY;const Fm=E.forwardRef(({className:t,onCheckedChange:e,...r},n)=>{const i=a=>{a?po.success():po.light(),e&&e(a)};return d.jsx(_Y,{className:dt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),onCheckedChange:i,...r,ref:n,children:d.jsx(Fbe,{className:dt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Fm.displayName=_Y.displayName;function Bbe(t,e){const r=typeof t=="string"?new Date(t):t;let n;switch(e){case"daily":n=Xb(r,1);break;case"weekly":n=cM(r,1);break;case"bi-weekly":n=cM(r,2);break;case"monthly":n=fge(r,1);break;default:console.warn("Invalid recurrence frequency:",e),n=Xb(r,7);break}return n.toISOString()}var DN=["Enter"," "],$be=["ArrowDown","PageUp","Home"],SY=["ArrowUp","PageDown","End"],Ube=[...$be,...SY],Vbe={ltr:[...DN,"ArrowRight"],rtl:[...DN,"ArrowLeft"]},zbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sx="Menu",[ly,Hbe,qbe]=H5(Sx),[xp,AY]=Nl(Sx,[qbe,Sf,AS]),PS=Sf(),EY=AS(),[Wbe,wp]=xp(Sx),[Gbe,Ax]=xp(Sx),CY=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=PS(e),[l,c]=E.useState(null),u=E.useRef(!1),f=sa(a),h=xS(i);return E.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),d.jsx(Q5,{...s,children:d.jsx(Wbe,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(Gbe,{scope:e,onClose:E.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:n})})})};CY.displayName=Sx;var Kbe="MenuAnchor",ck=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=PS(r);return d.jsx(dx,{...i,...n,ref:e})});ck.displayName=Kbe;var uk="MenuPortal",[Ybe,NY]=xp(uk,{forceMount:void 0}),TY=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=wp(uk,e);return d.jsx(Ybe,{scope:e,forceMount:r,children:d.jsx(Co,{present:r||a.open,children:d.jsx(mg,{asChild:!0,container:i,children:n})})})};TY.displayName=uk;var Ns="MenuContent",[Xbe,dk]=xp(Ns),PY=E.forwardRef((t,e)=>{const r=NY(Ns,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=wp(Ns,t.__scopeMenu),o=Ax(Ns,t.__scopeMenu);return d.jsx(ly.Provider,{scope:t.__scopeMenu,children:d.jsx(Co,{present:n||a.open,children:d.jsx(ly.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(Qbe,{...i,ref:e}):d.jsx(Zbe,{...i,ref:e})})})})}),Qbe=E.forwardRef((t,e)=>{const r=wp(Ns,t.__scopeMenu),n=E.useRef(null),i=dr(e,n);return E.useEffect(()=>{const a=n.current;if(a)return vS(a)},[]),d.jsx(fk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Zbe=E.forwardRef((t,e)=>{const r=wp(Ns,t.__scopeMenu);return d.jsx(fk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fk=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,x=wp(Ns,r),v=Ax(Ns,r),y=PS(r),w=EY(r),C=Hbe(r),[A,O]=E.useState(null),N=E.useRef(null),S=dr(e,N,x.onContentChange),P=E.useRef(0),R=E.useRef(""),I=E.useRef(0),k=E.useRef(null),D=E.useRef("right"),z=E.useRef(0),J=m?yx:E.Fragment,U=m?{as:hu,allowPinchZoom:!0}:void 0,K=H=>{var le,de;const te=R.current+H,ie=C().filter(ae=>!ae.disabled),F=document.activeElement,q=(le=ie.find(ae=>ae.ref.current===F))==null?void 0:le.textValue,Q=ie.map(ae=>ae.textValue),se=u_e(Q,te,q),G=(de=ie.find(ae=>ae.textValue===se))==null?void 0:de.ref.current;(function ae(ye){R.current=ye,window.clearTimeout(P.current),ye!==""&&(P.current=window.setTimeout(()=>ae(""),1e3))})(te),G&&setTimeout(()=>G.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),mS();const $=E.useCallback(H=>{var ie,F;return D.current===((ie=k.current)==null?void 0:ie.side)&&f_e(H,(F=k.current)==null?void 0:F.area)},[]);return d.jsx(Xbe,{scope:r,searchRef:R,onItemEnter:E.useCallback(H=>{$(H)&&H.preventDefault()},[$]),onItemLeave:E.useCallback(H=>{var te;$(H)||((te=N.current)==null||te.focus(),O(null))},[$]),onTriggerLeave:E.useCallback(H=>{$(H)&&H.preventDefault()},[$]),pointerGraceTimerRef:I,onPointerGraceIntentChange:E.useCallback(H=>{k.current=H},[]),children:d.jsx(J,{...U,children:d.jsx(gx,{asChild:!0,trapped:i,onMountAutoFocus:st(a,H=>{var te;H.preventDefault(),(te=N.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(fp,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:d.jsx(xK,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:O,onEntryFocus:st(l,H=>{v.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Z5,{role:"menu","aria-orientation":"vertical","data-state":qY(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:st(g.onKeyDown,H=>{const ie=H.target.closest("[data-radix-menu-content]")===H.currentTarget,F=H.ctrlKey||H.altKey||H.metaKey,q=H.key.length===1;ie&&(H.key==="Tab"&&H.preventDefault(),!F&&q&&K(H.key));const Q=N.current;if(H.target!==Q||!Ube.includes(H.key))return;H.preventDefault();const G=C().filter(le=>!le.disabled).map(le=>le.ref.current);SY.includes(H.key)&&G.reverse(),l_e(G)}),onBlur:st(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:st(t.onPointerMove,cy(H=>{const te=H.target,ie=z.current!==H.clientX;if(H.currentTarget.contains(te)&&ie){const F=H.clientX>z.current?"right":"left";D.current=F,z.current=H.clientX}}))})})})})})})});PY.displayName=Ns;var Jbe="MenuGroup",hk=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Nt.div,{role:"group",...n,ref:e})});hk.displayName=Jbe;var e_e="MenuLabel",IY=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Nt.div,{...n,ref:e})});IY.displayName=e_e;var r_="MenuItem",n7="menu.itemSelect",IS=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=E.useRef(null),o=Ax(r_,t.__scopeMenu),s=dk(r_,t.__scopeMenu),l=dr(e,a),c=E.useRef(!1),u=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(n7,{bubbles:!0,cancelable:!0});f.addEventListener(n7,p=>n==null?void 0:n(p),{once:!0}),zI(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(OY,{...i,ref:l,disabled:r,onClick:st(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:st(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:st(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||DN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});IS.displayName=r_;var OY=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=dk(r_,r),s=EY(r),l=E.useRef(null),c=dr(e,l),[u,f]=E.useState(!1),[h,p]=E.useState("");return E.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),d.jsx(ly.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:d.jsx(wK,{asChild:!0,...s,focusable:!n,children:d.jsx(Nt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:st(t.onPointerMove,cy(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,cy(m=>o.onItemLeave(m))),onFocus:st(t.onFocus,()=>f(!0)),onBlur:st(t.onBlur,()=>f(!1))})})})}),t_e="MenuCheckboxItem",kY=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return d.jsx(LY,{scope:t.__scopeMenu,checked:r,children:d.jsx(IS,{role:"menuitemcheckbox","aria-checked":n_(r)?"mixed":r,...i,ref:e,"data-state":mk(r),onSelect:st(i.onSelect,()=>n==null?void 0:n(n_(r)?!0:!r),{checkForDefaultPrevented:!1})})})});kY.displayName=t_e;var jY="MenuRadioGroup",[r_e,n_e]=xp(jY,{value:void 0,onValueChange:()=>{}}),RY=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=sa(n);return d.jsx(r_e,{scope:t.__scopeMenu,value:r,onValueChange:a,children:d.jsx(hk,{...i,ref:e})})});RY.displayName=jY;var DY="MenuRadioItem",MY=E.forwardRef((t,e)=>{const{value:r,...n}=t,i=n_e(DY,t.__scopeMenu),a=r===i.value;return d.jsx(LY,{scope:t.__scopeMenu,checked:a,children:d.jsx(IS,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":mk(a),onSelect:st(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});MY.displayName=DY;var pk="MenuItemIndicator",[LY,i_e]=xp(pk,{checked:!1}),FY=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=i_e(pk,r);return d.jsx(Co,{present:n||n_(a.checked)||a.checked===!0,children:d.jsx(Nt.span,{...i,ref:e,"data-state":mk(a.checked)})})});FY.displayName=pk;var a_e="MenuSeparator",BY=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Nt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});BY.displayName=a_e;var o_e="MenuArrow",$Y=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=PS(r);return d.jsx(J5,{...i,...n,ref:e})});$Y.displayName=o_e;var s_e="MenuSub",[Ett,UY]=xp(s_e),J1="MenuSubTrigger",VY=E.forwardRef((t,e)=>{const r=wp(J1,t.__scopeMenu),n=Ax(J1,t.__scopeMenu),i=UY(J1,t.__scopeMenu),a=dk(J1,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},u=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>u,[u]),E.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),d.jsx(ck,{asChild:!0,...c,children:d.jsx(OY,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":qY(r.open),...t,ref:z5(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,cy(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:st(t.onPointerLeave,cy(f=>{var p,m;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,x=g==="right",v=x?-5:5,y=h[x?"left":"right"],w=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||Vbe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});VY.displayName=J1;var zY="MenuSubContent",HY=E.forwardRef((t,e)=>{const r=NY(Ns,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=wp(Ns,t.__scopeMenu),o=Ax(Ns,t.__scopeMenu),s=UY(zY,t.__scopeMenu),l=E.useRef(null),c=dr(e,l);return d.jsx(ly.Provider,{scope:t.__scopeMenu,children:d.jsx(Co,{present:n||a.open,children:d.jsx(ly.Slot,{scope:t.__scopeMenu,children:d.jsx(fk,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:st(t.onFocusOutside,u=>{u.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:st(t.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=zbe[o.dir].includes(u.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),u.preventDefault())})})})})})});HY.displayName=zY;function qY(t){return t?"open":"closed"}function n_(t){return t==="indeterminate"}function mk(t){return n_(t)?"indeterminate":t?"checked":"unchecked"}function l_e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function c_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function u_e(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=c_e(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function d_e(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,u=e[o].y;l>n!=u>n&&r<(c-s)*(n-l)/(u-l)+s&&(i=!i)}return i}function f_e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return d_e(r,e)}function cy(t){return e=>e.pointerType==="mouse"?t(e):void 0}var h_e=CY,p_e=ck,m_e=TY,g_e=PY,v_e=hk,y_e=IY,x_e=IS,w_e=kY,b_e=RY,__e=MY,S_e=FY,A_e=BY,E_e=$Y,C_e=VY,N_e=HY,gk="DropdownMenu",[T_e,Ctt]=Nl(gk,[AY]),ro=AY(),[P_e,WY]=T_e(gk),GY=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=ro(e),c=E.useRef(null),[u=!1,f]=_l({prop:i,defaultProp:a,onChange:o});return d.jsx(P_e,{scope:e,triggerId:Es(),triggerRef:c,contentId:Es(),open:u,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(h=>!h),[f]),modal:s,children:d.jsx(h_e,{...l,open:u,onOpenChange:f,dir:n,modal:s,children:r})})};GY.displayName=gk;var KY="DropdownMenuTrigger",YY=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=WY(KY,r),o=ro(r);return d.jsx(p_e,{asChild:!0,...o,children:d.jsx(Nt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:z5(e,a.triggerRef),onPointerDown:st(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:st(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});YY.displayName=KY;var I_e="DropdownMenuPortal",XY=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ro(e);return d.jsx(m_e,{...n,...r})};XY.displayName=I_e;var QY="DropdownMenuContent",ZY=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=WY(QY,r),a=ro(r),o=E.useRef(!1);return d.jsx(g_e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:st(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZY.displayName=QY;var O_e="DropdownMenuGroup",k_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(v_e,{...i,...n,ref:e})});k_e.displayName=O_e;var j_e="DropdownMenuLabel",JY=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(y_e,{...i,...n,ref:e})});JY.displayName=j_e;var R_e="DropdownMenuItem",eX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(x_e,{...i,...n,ref:e})});eX.displayName=R_e;var D_e="DropdownMenuCheckboxItem",tX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(w_e,{...i,...n,ref:e})});tX.displayName=D_e;var M_e="DropdownMenuRadioGroup",L_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(b_e,{...i,...n,ref:e})});L_e.displayName=M_e;var F_e="DropdownMenuRadioItem",rX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(__e,{...i,...n,ref:e})});rX.displayName=F_e;var B_e="DropdownMenuItemIndicator",nX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(S_e,{...i,...n,ref:e})});nX.displayName=B_e;var $_e="DropdownMenuSeparator",iX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(A_e,{...i,...n,ref:e})});iX.displayName=$_e;var U_e="DropdownMenuArrow",V_e=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(E_e,{...i,...n,ref:e})});V_e.displayName=U_e;var z_e="DropdownMenuSubTrigger",aX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(C_e,{...i,...n,ref:e})});aX.displayName=z_e;var H_e="DropdownMenuSubContent",oX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ro(r);return d.jsx(N_e,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oX.displayName=H_e;var q_e=GY,W_e=YY,G_e=XY,sX=ZY,lX=JY,cX=eX,uX=tX,dX=rX,fX=nX,hX=iX,pX=aX,mX=oX;const K_e=q_e,Y_e=W_e,X_e=E.forwardRef(({className:t,inset:e,children:r,...n},i)=>d.jsxs(pX,{ref:i,className:dt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,d.jsx(vg,{className:"ml-auto h-4 w-4"})]}));X_e.displayName=pX.displayName;const Q_e=E.forwardRef(({className:t,...e},r)=>d.jsx(mX,{ref:r,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Q_e.displayName=mX.displayName;const gX=E.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(G_e,{children:d.jsx(sX,{ref:n,sideOffset:e,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));gX.displayName=sX.displayName;const Yw=E.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(cX,{ref:n,className:dt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Yw.displayName=cX.displayName;const Z_e=E.forwardRef(({className:t,children:e,checked:r,...n},i)=>d.jsxs(uX,{ref:i,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(fX,{children:d.jsx(dc,{className:"h-4 w-4"})})}),e]}));Z_e.displayName=uX.displayName;const J_e=E.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(dX,{ref:n,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(fX,{children:d.jsx(Tse,{className:"h-2 w-2 fill-current"})})}),e]}));J_e.displayName=dX.displayName;const e5e=E.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(lX,{ref:n,className:dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));e5e.displayName=lX.displayName;const vX=E.forwardRef(({className:t,...e},r)=>d.jsx(hX,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));vX.displayName=hX.displayName;const t5e="modulepreload",r5e=function(t,e){return new URL(t,e).href},i7={},MN=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=r5e(c,n),c in i7)return;i7[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":t5e,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};var Ia=Uint8Array,Go=Uint16Array,vk=Int32Array,OS=new Ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kS=new Ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LN=new Ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yX=function(t,e){for(var r=new Go(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new vk(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},xX=yX(OS,2),wX=xX.b,FN=xX.r;wX[28]=258,FN[258]=28;var bX=yX(kS,0),n5e=bX.b,a7=bX.r,BN=new Go(32768);for(var gn=0;gn<32768;++gn){var hd=(gn&43690)>>1|(gn&21845)<<1;hd=(hd&52428)>>2|(hd&13107)<<2,hd=(hd&61680)>>4|(hd&3855)<<4,BN[gn]=((hd&65280)>>8|(hd&255)<<8)>>1}var ac=function(t,e,r){for(var n=t.length,i=0,a=new Go(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new Go(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new Go(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=o[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)s[BN[f]>>l]=c}else for(s=new Go(n),i=0;i<n;++i)t[i]&&(s[i]=BN[o[t[i]-1]++]>>15-t[i]);return s},df=new Ia(288);for(var gn=0;gn<144;++gn)df[gn]=8;for(var gn=144;gn<256;++gn)df[gn]=9;for(var gn=256;gn<280;++gn)df[gn]=7;for(var gn=280;gn<288;++gn)df[gn]=8;var uy=new Ia(32);for(var gn=0;gn<32;++gn)uy[gn]=5;var i5e=ac(df,9,0),a5e=ac(df,9,1),o5e=ac(uy,5,0),s5e=ac(uy,5,1),S3=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Qs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},A3=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},yk=function(t){return(t+7)/8|0},_X=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ia(t.subarray(e,r))},l5e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],il=function(t,e,r){var n=new Error(e||l5e[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,il),!r)throw n;return n},c5e=function(t,e,r,n){var i=t.length,a=0;if(!i||e.f&&!e.l)return r||new Ia(0);var o=!r,s=o||e.i!=2,l=e.i;o&&(r=new Ia(i*3));var c=function(ge){var ve=r.length;if(ge>ve){var Re=new Ia(Math.max(ve*2,ge));Re.set(r),r=Re}},u=e.f||0,f=e.p||0,h=e.b||0,p=e.l,m=e.d,g=e.m,x=e.n,v=i*8;do{if(!p){u=Qs(t,f,1);var y=Qs(t,f+1,3);if(f+=3,y)if(y==1)p=a5e,m=s5e,g=9,x=5;else if(y==2){var O=Qs(t,f,31)+257,N=Qs(t,f+10,15)+4,S=O+Qs(t,f+5,31)+1;f+=14;for(var P=new Ia(S),R=new Ia(19),I=0;I<N;++I)R[LN[I]]=Qs(t,f+I*3,7);f+=N*3;for(var k=S3(R),D=(1<<k)-1,z=ac(R,k,1),I=0;I<S;){var J=z[Qs(t,f,D)];f+=J&15;var w=J>>4;if(w<16)P[I++]=w;else{var U=0,K=0;for(w==16?(K=3+Qs(t,f,3),f+=2,U=P[I-1]):w==17?(K=3+Qs(t,f,7),f+=3):w==18&&(K=11+Qs(t,f,127),f+=7);K--;)P[I++]=U}}var $=P.subarray(0,O),H=P.subarray(O);g=S3($),x=S3(H),p=ac($,g,1),m=ac(H,x,1)}else il(1);else{var w=yk(f)+4,C=t[w-4]|t[w-3]<<8,A=w+C;if(A>i){l&&il(0);break}s&&c(h+C),r.set(t.subarray(w,A),h),e.b=h+=C,e.p=f=A*8,e.f=u;continue}if(f>v){l&&il(0);break}}s&&c(h+131072);for(var te=(1<<g)-1,ie=(1<<x)-1,F=f;;F=f){var U=p[A3(t,f)&te],q=U>>4;if(f+=U&15,f>v){l&&il(0);break}if(U||il(2),q<256)r[h++]=q;else if(q==256){F=f,p=null;break}else{var Q=q-254;if(q>264){var I=q-257,se=OS[I];Q=Qs(t,f,(1<<se)-1)+wX[I],f+=se}var G=m[A3(t,f)&ie],le=G>>4;G||il(3),f+=G&15;var H=n5e[le];if(le>3){var se=kS[le];H+=A3(t,f)&(1<<se)-1,f+=se}if(f>v){l&&il(0);break}s&&c(h+131072);var de=h+Q;if(h<H){var ae=a-H,ye=Math.min(H,de);for(ae+h<0&&il(3);h<ye;++h)r[h]=n[ae+h]}for(;h<de;++h)r[h]=r[h-H]}}e.l=p,e.p=F,e.b=h,e.f=u,p&&(u=1,e.m=g,e.d=m,e.n=x)}while(!u);return h!=r.length&&o?_X(r,0,h):r.subarray(0,h)},Vc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},O1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},E3=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:AX,l:0};if(i==1){var o=new Ia(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(A,O){return A.f-O.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var p=new Go(h+1),m=$N(r[u-1],p,0);if(m>e){var n=0,g=0,x=m-e,v=1<<x;for(a.sort(function(O,N){return p[N.s]-p[O.s]||O.f-N.f});n<i;++n){var y=a[n].s;if(p[y]>e)g+=v-(1<<m-p[y]),p[y]=e;else break}for(g>>=x;g>0;){var w=a[n].s;p[w]<e?g-=1<<e-p[w]++-1:++n}for(;n>=0&&g;--n){var C=a[n].s;p[C]==e&&(--p[C],++g)}m=e}return{t:new Ia(p),l:m}},$N=function(t,e,r){return t.s==-1?Math.max($N(t.l,e,r+1),$N(t.r,e,r+1)):e[t.s]=r},o7=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Go(++e),n=0,i=t[0],a=1,o=function(l){r[n++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:r.subarray(0,n),n:e}},k1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},SX=function(t,e,r){var n=r.length,i=yk(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},s7=function(t,e,r,n,i,a,o,s,l,c,u){Vc(e,u++,r),++i[256];for(var f=E3(i,15),h=f.t,p=f.l,m=E3(a,15),g=m.t,x=m.l,v=o7(h),y=v.c,w=v.n,C=o7(g),A=C.c,O=C.n,N=new Go(19),S=0;S<y.length;++S)++N[y[S]&31];for(var S=0;S<A.length;++S)++N[A[S]&31];for(var P=E3(N,7),R=P.t,I=P.l,k=19;k>4&&!R[LN[k-1]];--k);var D=c+5<<3,z=k1(i,df)+k1(a,uy)+o,J=k1(i,h)+k1(a,g)+o+14+3*k+k1(N,R)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&D<=z&&D<=J)return SX(e,u,t.subarray(l,l+c));var U,K,$,H;if(Vc(e,u,1+(J<z)),u+=2,J<z){U=ac(h,p,0),K=h,$=ac(g,x,0),H=g;var te=ac(R,I,0);Vc(e,u,w-257),Vc(e,u+5,O-1),Vc(e,u+10,k-4),u+=14;for(var S=0;S<k;++S)Vc(e,u+3*S,R[LN[S]]);u+=3*k;for(var ie=[y,A],F=0;F<2;++F)for(var q=ie[F],S=0;S<q.length;++S){var Q=q[S]&31;Vc(e,u,te[Q]),u+=R[Q],Q>15&&(Vc(e,u,q[S]>>5&127),u+=q[S]>>12)}}else U=i5e,K=df,$=o5e,H=uy;for(var S=0;S<s;++S){var se=n[S];if(se>255){var Q=se>>18&31;O1(e,u,U[Q+257]),u+=K[Q+257],Q>7&&(Vc(e,u,se>>23&31),u+=OS[Q]);var G=se&31;O1(e,u,$[G]),u+=H[G],G>3&&(O1(e,u,se>>5&8191),u+=kS[G])}else O1(e,u,U[se]),u+=K[se]}return O1(e,u,U[256]),u+K[256]},u5e=new vk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AX=new Ia(0),d5e=function(t,e,r,n,i,a){var o=a.z||t.length,s=new Ia(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),c=a.l,u=(a.r||0)&7;if(e){u&&(l[0]=a.r>>3);for(var f=u5e[e-1],h=f>>13,p=f&8191,m=(1<<r)-1,g=a.p||new Go(32768),x=a.h||new Go(m+1),v=Math.ceil(r/3),y=2*v,w=function(Me){return(t[Me]^t[Me+1]<<v^t[Me+2]<<y)&m},C=new vk(25e3),A=new Go(288),O=new Go(32),N=0,S=0,P=a.i||0,R=0,I=a.w||0,k=0;P+2<o;++P){var D=w(P),z=P&32767,J=x[D];if(g[z]=J,x[D]=z,I<=P){var U=o-P;if((N>7e3||R>24576)&&(U>423||!c)){u=s7(t,l,0,C,A,O,S,R,k,P-k,u),R=N=S=0,k=P;for(var K=0;K<286;++K)A[K]=0;for(var K=0;K<30;++K)O[K]=0}var $=2,H=0,te=p,ie=z-J&32767;if(U>2&&D==w(P-ie))for(var F=Math.min(h,U)-1,q=Math.min(32767,P),Q=Math.min(258,U);ie<=q&&--te&&z!=J;){if(t[P+$]==t[P+$-ie]){for(var se=0;se<Q&&t[P+se]==t[P+se-ie];++se);if(se>$){if($=se,H=ie,se>F)break;for(var G=Math.min(ie,se-2),le=0,K=0;K<G;++K){var de=P-ie+K&32767,ae=g[de],ye=de-ae&32767;ye>le&&(le=ye,J=de)}}}z=J,J=g[z],ie+=z-J&32767}if(H){C[R++]=268435456|FN[$]<<18|a7[H];var ge=FN[$]&31,ve=a7[H]&31;S+=OS[ge]+kS[ve],++A[257+ge],++O[ve],I=P+$,++N}else C[R++]=t[P],++A[t[P]]}}for(P=Math.max(P,I);P<o;++P)C[R++]=t[P],++A[t[P]];u=s7(t,l,c,C,A,O,S,R,k,P-k,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=x,a.p=g,a.i=P,a.w=I)}else{for(var P=a.w||0;P<o+c;P+=65535){var Re=P+65535;Re>=o&&(l[u/8|0]=c,Re=o),u=SX(l,u+1,t.subarray(P,Re))}a.i=o}return _X(s,0,n+yk(u)+i)},EX=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},f5e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Ia(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return d5e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},CX=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},h5e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=EX();i.p(e.dictionary),CX(t,2,i.d())}},p5e=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&il(6,"invalid zlib data"),(t[1]>>5&1)==1&&il(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function UN(t,e){e||(e={});var r=EX();r.p(t);var n=f5e(t,e,e.dictionary?6:2,4);return h5e(n,e),CX(n,n.length-4,r.d()),n}function m5e(t,e){return c5e(t.subarray(p5e(t),-4),{i:2},e,e)}var g5e=typeof TextDecoder<"u"&&new TextDecoder,v5e=0;try{g5e.decode(AX,{stream:!0}),v5e=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function C3(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Jr={log:C3,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):C3.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):C3(t))}};function N3(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){vh(n.response,e,r)},n.onerror=function(){Jr.error("could not download file")},n.send()}function l7(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wv,VN,vh=Ft.saveAs||((typeof window>"u"?"undefined":Tr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?l7(i.href)?N3(t,e,r):Y2(i,i.target="_blank"):Y2(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Y2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(l7(t))N3(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Y2(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Tr(a)!=="object"&&(Jr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return N3(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Ft.HTMLElement)||Ft.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Tr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},s.readAsDataURL(t)}else{var l=Ft.URL||Ft.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function NX(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T3(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ma(r,n,i,a,e[0],7,-680876936),a=ma(a,r,n,i,e[1],12,-389564586),i=ma(i,a,r,n,e[2],17,606105819),n=ma(n,i,a,r,e[3],22,-1044525330),r=ma(r,n,i,a,e[4],7,-176418897),a=ma(a,r,n,i,e[5],12,1200080426),i=ma(i,a,r,n,e[6],17,-1473231341),n=ma(n,i,a,r,e[7],22,-45705983),r=ma(r,n,i,a,e[8],7,1770035416),a=ma(a,r,n,i,e[9],12,-1958414417),i=ma(i,a,r,n,e[10],17,-42063),n=ma(n,i,a,r,e[11],22,-1990404162),r=ma(r,n,i,a,e[12],7,1804603682),a=ma(a,r,n,i,e[13],12,-40341101),i=ma(i,a,r,n,e[14],17,-1502002290),r=ga(r,n=ma(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ga(a,r,n,i,e[6],9,-1069501632),i=ga(i,a,r,n,e[11],14,643717713),n=ga(n,i,a,r,e[0],20,-373897302),r=ga(r,n,i,a,e[5],5,-701558691),a=ga(a,r,n,i,e[10],9,38016083),i=ga(i,a,r,n,e[15],14,-660478335),n=ga(n,i,a,r,e[4],20,-405537848),r=ga(r,n,i,a,e[9],5,568446438),a=ga(a,r,n,i,e[14],9,-1019803690),i=ga(i,a,r,n,e[3],14,-187363961),n=ga(n,i,a,r,e[8],20,1163531501),r=ga(r,n,i,a,e[13],5,-1444681467),a=ga(a,r,n,i,e[2],9,-51403784),i=ga(i,a,r,n,e[7],14,1735328473),r=va(r,n=ga(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=va(a,r,n,i,e[8],11,-2022574463),i=va(i,a,r,n,e[11],16,1839030562),n=va(n,i,a,r,e[14],23,-35309556),r=va(r,n,i,a,e[1],4,-1530992060),a=va(a,r,n,i,e[4],11,1272893353),i=va(i,a,r,n,e[7],16,-155497632),n=va(n,i,a,r,e[10],23,-1094730640),r=va(r,n,i,a,e[13],4,681279174),a=va(a,r,n,i,e[0],11,-358537222),i=va(i,a,r,n,e[3],16,-722521979),n=va(n,i,a,r,e[6],23,76029189),r=va(r,n,i,a,e[9],4,-640364487),a=va(a,r,n,i,e[12],11,-421815835),i=va(i,a,r,n,e[15],16,530742520),r=ya(r,n=va(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ya(a,r,n,i,e[7],10,1126891415),i=ya(i,a,r,n,e[14],15,-1416354905),n=ya(n,i,a,r,e[5],21,-57434055),r=ya(r,n,i,a,e[12],6,1700485571),a=ya(a,r,n,i,e[3],10,-1894986606),i=ya(i,a,r,n,e[10],15,-1051523),n=ya(n,i,a,r,e[1],21,-2054922799),r=ya(r,n,i,a,e[8],6,1873313359),a=ya(a,r,n,i,e[15],10,-30611744),i=ya(i,a,r,n,e[6],15,-1560198380),n=ya(n,i,a,r,e[13],21,1309151649),r=ya(r,n,i,a,e[4],6,-145523070),a=ya(a,r,n,i,e[11],10,-1120210379),i=ya(i,a,r,n,e[2],15,718787259),n=ya(n,i,a,r,e[9],21,-343485551),t[0]=Rd(r,t[0]),t[1]=Rd(n,t[1]),t[2]=Rd(i,t[2]),t[3]=Rd(a,t[3])}function jS(t,e,r,n,i,a){return e=Rd(Rd(e,t),Rd(n,a)),Rd(e<<i|e>>>32-i,r)}function ma(t,e,r,n,i,a,o){return jS(e&r|~e&n,t,e,i,a,o)}function ga(t,e,r,n,i,a,o){return jS(e&n|r&~n,t,e,i,a,o)}function va(t,e,r,n,i,a,o){return jS(e^r^n,t,e,i,a,o)}function ya(t,e,r,n,i,a,o){return jS(r^(e|~n),t,e,i,a,o)}function TX(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)T3(n,y5e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(T3(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,T3(n,i),n}function y5e(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}wv=Ft.atob.bind(Ft),VN=Ft.btoa.bind(Ft);var c7="0123456789abcdef".split("");function x5e(t){for(var e="",r=0;r<4;r++)e+=c7[t>>8*r+4&15]+c7[t>>8*r&15];return e}function w5e(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function zN(t){return TX(t).map(w5e).join("")}var b5e=function(t){for(var e=0;e<t.length;e++)t[e]=x5e(t[e]);return t.join("")}(TX("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rd(t,e){if(b5e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function HN(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+o.charCodeAt(l))%256,s[l]=s[c],s[c]=u}r=t,n=s}else s=n;var f=e.length,h=0,p=0,m="";for(l=0;l<f;l++)p=(p+(u=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=u,o=s[(s[h]+s[p])%256],m+=String.fromCharCode(e.charCodeAt(l)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var u7={print:4,modify:8,copy:16,"annot-forms":32};function hm(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(u7.perm!==void 0)throw new Error("Invalid permission: "+s);i+=u7[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=zN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=HN(this.encryptionKey,this.padding)}function pm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function d7(t){if(Tr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(s){Ft.console&&Jr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function i_(t){if(!(this instanceof i_))return new i_(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function PX(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _h(t,e,r,n,i){if(!(this instanceof _h))return new _h(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,PX.call(this,n,i)}function Bm(t,e,r,n,i){if(!(this instanceof Bm))return new Bm(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,PX.call(this,n,i)}function Dt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",u=null;Tr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=d7;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(j){m=j};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var v=p.__private__.getPageFormat=function(j){return x[j]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function C(){this.saveGraphicsState(),W(new xt(tt,0,0,-tt,0,fa()*tt).toString()+" cm"),this.setFontSize(this.getFontSize()/tt),c="n",w=y.ADVANCED}function A(){this.restoreGraphicsState(),c="S",w=y.COMPAT}var O=p.__private__.combineFontStyleAndFontWeight=function(j,Y){if(j=="bold"&&Y=="normal"||j=="bold"&&Y==400||j=="normal"&&Y=="italic"||j=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(j=Y==400||Y==="normal"?j==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||j!=="normal"?(Y==700?"bold":Y)+""+j:"bold"),j};p.advancedAPI=function(j){var Y=w===y.COMPAT;return Y&&C.call(this),typeof j!="function"||(j(this),Y&&A.call(this)),this},p.compatAPI=function(j){var Y=w===y.ADVANCED;return Y&&A.call(this),typeof j!="function"||(j(this),Y&&C.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var N,S=function(j){if(w!==y.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(j,Y){var pe=e||Y;if(isNaN(j)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(pe).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return P(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return P(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return P(j,16)};var R=p.f2=p.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return P(j,2)},I=p.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return P(j,3)},k=p.scale=p.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?j*tt:w===y.ADVANCED?j:void 0},D=function(j){return w===y.COMPAT?fa()-j:w===y.ADVANCED?j:void 0},z=function(j){return k(D(j))};p.__private__.setPrecision=p.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var J,U="00000000000000000000000000000000",K=p.__private__.getFileId=function(){return U},$=p.__private__.setFileId=function(j){return U=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(cn=new hm(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};p.setFileId=function(j){return $(j),this},p.getFileId=function(){return K()};var H=p.__private__.convertDateToPDFDate=function(j){var Y=j.getTimezoneOffset(),pe=Y<0?"+":"-",xe=Math.floor(Math.abs(Y/60)),Ce=Math.abs(Y%60),Be=[pe,Q(xe),"'",Q(Ce),"'"].join("");return["D:",j.getFullYear(),Q(j.getMonth()+1),Q(j.getDate()),Q(j.getHours()),Q(j.getMinutes()),Q(j.getSeconds()),Be].join("")},te=p.__private__.convertPDFDateToDate=function(j){var Y=parseInt(j.substr(2,4),10),pe=parseInt(j.substr(6,2),10)-1,xe=parseInt(j.substr(8,2),10),Ce=parseInt(j.substr(10,2),10),Be=parseInt(j.substr(12,2),10),Qe=parseInt(j.substr(14,2),10);return new Date(Y,pe,xe,Ce,Be,Qe,0)},ie=p.__private__.setCreationDate=function(j){var Y;if(j===void 0&&(j=new Date),j instanceof Date)Y=H(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=j}return J=Y},F=p.__private__.getCreationDate=function(j){var Y=J;return j==="jsDate"&&(Y=te(J)),Y};p.setCreationDate=function(j){return ie(j),this},p.getCreationDate=function(j){return F(j)};var q,Q=p.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},se=p.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},G=0,le=[],de=[],ae=0,ye=[],ge=[],ve=!1,Re=de,Me=function(){G=0,ae=0,de=[],le=[],ye=[],Fs=On(),da=On()};p.__private__.setCustomOutputDestination=function(j){ve=!0,Re=j};var Se=function(j){ve||(Re=j)};p.__private__.resetCustomOutputDestination=function(){ve=!1,Re=de};var W=p.__private__.out=function(j){return j=j.toString(),ae+=j.length+1,Re.push(j),Re},Pe=p.__private__.write=function(j){return W(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},ce=p.__private__.getArrayBuffer=function(j){for(var Y=j.length,pe=new ArrayBuffer(Y),xe=new Uint8Array(pe);Y--;)xe[Y]=j.charCodeAt(Y);return pe},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return me};var we=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(j){return we=w===y.ADVANCED?j/tt:j,this};var Ue,ze=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?we:we*tt},et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(j){return et=j,this},p.__private__.getR2L=p.getR2L=function(){return et};var at,Te=p.__private__.setZoomMode=function(j){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))Ue=j;else if(isNaN(j)){if(Y.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');Ue=j}else Ue=parseInt(j,10)};p.__private__.getZoomMode=function(){return Ue};var Fe,Ge=p.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');at=j};p.__private__.getPageMode=function(){return at};var Ye=p.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Fe=j};p.__private__.getLayoutMode=function(){return Fe},p.__private__.setDisplayMode=p.setDisplayMode=function(j,Y,pe){return Te(j),Ye(Y),Ge(pe),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(j){if(Object.keys(rt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[j]},p.__private__.getDocumentProperties=function(){return rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(j){for(var Y in rt)rt.hasOwnProperty(Y)&&j[Y]&&(rt[Y]=j[Y]);return this},p.__private__.setDocumentProperty=function(j,Y){if(Object.keys(rt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[j]=Y};var vt,tt,Yt,$t,Fn,Et={},jt={},Ii=[],ct={},Jt={},It={},Wr={},xn=null,Ar=0,Tt=[],vr=new d7(p),is=t.hotfixes||[],Zn={},ca={},Io=[],xt=function j(Y,pe,xe,Ce,Be,Qe){if(!(this instanceof j))return new j(Y,pe,xe,Ce,Be,Qe);isNaN(Y)&&(Y=1),isNaN(pe)&&(pe=0),isNaN(xe)&&(xe=0),isNaN(Ce)&&(Ce=1),isNaN(Be)&&(Be=0),isNaN(Qe)&&(Qe=0),this._matrix=[Y,pe,xe,Ce,Be,Qe]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(j)},xt.prototype.multiply=function(j){var Y=j.sx*this.sx+j.shy*this.shx,pe=j.sx*this.shy+j.shy*this.sy,xe=j.shx*this.sx+j.sy*this.shx,Ce=j.shx*this.shy+j.sy*this.sy,Be=j.tx*this.sx+j.ty*this.shx+this.tx,Qe=j.tx*this.shy+j.ty*this.sy+this.ty;return new xt(Y,pe,xe,Ce,Be,Qe)},xt.prototype.decompose=function(){var j=this.sx,Y=this.shy,pe=this.shx,xe=this.sy,Ce=this.tx,Be=this.ty,Qe=Math.sqrt(j*j+Y*Y),ht=(j/=Qe)*pe+(Y/=Qe)*xe;pe-=j*ht,xe-=Y*ht;var _=Math.sqrt(pe*pe+xe*xe);return ht/=_,j*(xe/=_)<Y*(pe/=_)&&(j=-j,Y=-Y,ht=-ht,Qe=-Qe),{scale:new xt(Qe,0,0,_,0,0),translate:new xt(1,0,0,1,Ce,Be),rotate:new xt(j,Y,-Y,j,0,0),skew:new xt(1,0,ht,1,0,0)}},xt.prototype.toString=function(j){return this.join(" ")},xt.prototype.inversed=function(){var j=this.sx,Y=this.shy,pe=this.shx,xe=this.sy,Ce=this.tx,Be=this.ty,Qe=1/(j*xe-Y*pe),ht=xe*Qe,_=-Y*Qe,L=-pe*Qe,V=j*Qe;return new xt(ht,_,L,V,-ht*Ce-L*Be,-_*Ce-V*Be)},xt.prototype.applyToPoint=function(j){var Y=j.x*this.sx+j.y*this.shx+this.tx,pe=j.x*this.shy+j.y*this.sy+this.ty;return new kc(Y,pe)},xt.prototype.applyToRectangle=function(j){var Y=this.applyToPoint(j),pe=this.applyToPoint(new kc(j.x+j.w,j.y+j.h));return new Wu(Y.x,Y.y,pe.x-Y.x,pe.y-Y.y)},xt.prototype.clone=function(){var j=this.sx,Y=this.shy,pe=this.shx,xe=this.sy,Ce=this.tx,Be=this.ty;return new xt(j,Y,pe,xe,Ce,Be)},p.Matrix=xt;var no=p.matrixMult=function(j,Y){return Y.multiply(j)},ua=new xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ua;var Jn=function(j,Y){if(!Jt[j]){var pe=(Y instanceof _h?"Sh":"P")+(Object.keys(ct).length+1).toString(10);Y.id=pe,Jt[j]=pe,ct[pe]=Y,vr.publish("addPattern",Y)}};p.ShadingPattern=_h,p.TilingPattern=Bm,p.addShadingPattern=function(j,Y){return S("addShadingPattern()"),Jn(j,Y),this},p.beginTilingPattern=function(j){S("beginTilingPattern()"),Gu(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},p.endTilingPattern=function(j,Y){S("endTilingPattern()"),Y.stream=ge[q].join(`
`),Jn(j,Y),vr.publish("endTilingPattern",Y),Io.pop().restore()};var Bn=p.__private__.newObject=function(){var j=On();return ei(j,!0),j},On=p.__private__.newObjectDeferred=function(){return G++,le[G]=function(){return ae},G},ei=function(j,Y){return Y=typeof Y=="boolean"&&Y,le[j]=ae,Y&&W(j+" 0 obj"),j},ku=p.__private__.newAdditionalObject=function(){var j={objId:On(),content:""};return ye.push(j),j},Fs=On(),da=On(),io=p.__private__.decodeColorString=function(j){var Y=j.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var pe=parseFloat(Y[0]);Y=[pe,pe,pe,"r"]}for(var xe="#",Ce=0;Ce<3;Ce++)xe+=("0"+Math.floor(255*parseFloat(Y[Ce])).toString(16)).slice(-2);return xe},Ma=p.__private__.encodeColorString=function(j){var Y;typeof j=="string"&&(j={ch1:j});var pe=j.ch1,xe=j.ch2,Ce=j.ch3,Be=j.ch4,Qe=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var ht=new NX(pe);if(ht.ok)pe=ht.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var _=parseInt(pe.substr(1),16);pe=_>>16&255,xe=_>>8&255,Ce=255&_}if(xe===void 0||Be===void 0&&pe===xe&&xe===Ce)if(typeof pe=="string")Y=pe+" "+Qe[0];else switch(j.precision){case 2:Y=R(pe/255)+" "+Qe[0];break;case 3:default:Y=I(pe/255)+" "+Qe[0]}else if(Be===void 0||Tr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return Y=["1.","1.","1.",Qe[1]].join(" ");if(typeof pe=="string")Y=[pe,xe,Ce,Qe[1]].join(" ");else switch(j.precision){case 2:Y=[R(pe/255),R(xe/255),R(Ce/255),Qe[1]].join(" ");break;default:case 3:Y=[I(pe/255),I(xe/255),I(Ce/255),Qe[1]].join(" ")}}else if(typeof pe=="string")Y=[pe,xe,Ce,Be,Qe[2]].join(" ");else switch(j.precision){case 2:Y=[R(pe),R(xe),R(Ce),R(Be),Qe[2]].join(" ");break;case 3:default:Y=[I(pe),I(xe),I(Ce),I(Be),Qe[2]].join(" ")}return Y},La=p.__private__.getFilters=function(){return o},$n=p.__private__.putStream=function(j){var Y=(j=j||{}).data||"",pe=j.filters||La(),xe=j.alreadyAppliedFilters||[],Ce=j.addLength1||!1,Be=Y.length,Qe=j.objectId,ht=function(Vt){return Vt};if(u!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ht=cn.encryptor(Qe,0));var _={};pe===!0&&(pe=["FlateEncode"]);var L=j.additionalKeyValues||[],V=(_=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(Y,pe):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(_.data.length!==0&&(L.push({key:"Length",value:_.data.length}),Ce===!0&&L.push({key:"Length1",value:Be})),V.length!=0)if(V.split("/").length-1==1)L.push({key:"Filter",value:V});else{L.push({key:"Filter",value:"["+V+"]"});for(var re=0;re<L.length;re+=1)if(L[re].key==="DecodeParms"){for(var Ee=[],je=0;je<_.reverseChain.split("/").length-1;je+=1)Ee.push("null");Ee.push(L[re].value),L[re].value="["+Ee.join(" ")+"]"}}W("<<");for(var Ze=0;Ze<L.length;Ze++)W("/"+L[Ze].key+" "+L[Ze].value);W(">>"),_.data.length!==0&&(W("stream"),W(ht(_.data)),W("endstream"))},Oo=p.__private__.putPage=function(j){var Y=j.number,pe=j.data,xe=j.objId,Ce=j.contentsObjId;ei(xe,!0),W("<</Type /Page"),W("/Parent "+j.rootDictionaryObjId+" 0 R"),W("/Resources "+j.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(N(j.mediaBox.bottomLeftX))+" "+parseFloat(N(j.mediaBox.bottomLeftY))+" "+N(j.mediaBox.topRightX)+" "+N(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&W("/CropBox ["+N(j.cropBox.bottomLeftX)+" "+N(j.cropBox.bottomLeftY)+" "+N(j.cropBox.topRightX)+" "+N(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&W("/BleedBox ["+N(j.bleedBox.bottomLeftX)+" "+N(j.bleedBox.bottomLeftY)+" "+N(j.bleedBox.topRightX)+" "+N(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&W("/TrimBox ["+N(j.trimBox.bottomLeftX)+" "+N(j.trimBox.bottomLeftY)+" "+N(j.trimBox.topRightX)+" "+N(j.trimBox.topRightY)+"]"),j.artBox!==null&&W("/ArtBox ["+N(j.artBox.bottomLeftX)+" "+N(j.artBox.bottomLeftY)+" "+N(j.artBox.topRightX)+" "+N(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&W("/UserUnit "+j.userUnit),vr.publish("putPage",{objId:xe,pageContext:Tt[Y],pageNumber:Y,page:pe}),W("/Contents "+Ce+" 0 R"),W(">>"),W("endobj");var Be=pe.join(`
`);return w===y.ADVANCED&&(Be+=`
Q`),ei(Ce,!0),$n({data:Be,filters:La(),objectId:Ce}),W("endobj"),xe},kl=p.__private__.putPages=function(){var j,Y,pe=[];for(j=1;j<=Ar;j++)Tt[j].objId=On(),Tt[j].contentsObjId=On();for(j=1;j<=Ar;j++)pe.push(Oo({number:j,data:ge[j],objId:Tt[j].objId,contentsObjId:Tt[j].contentsObjId,mediaBox:Tt[j].mediaBox,cropBox:Tt[j].cropBox,bleedBox:Tt[j].bleedBox,trimBox:Tt[j].trimBox,artBox:Tt[j].artBox,userUnit:Tt[j].userUnit,rootDictionaryObjId:Fs,resourceDictionaryObjId:da}));ei(Fs,!0),W("<</Type /Pages");var xe="/Kids [";for(Y=0;Y<Ar;Y++)xe+=pe[Y]+" 0 R ";W(xe+"]"),W("/Count "+Ar),W(">>"),W("endobj"),vr.publish("postPutPages")},jl=function(j){vr.publish("putFont",{font:j,out:W,newObject:Bn,putStream:$n}),j.isAlreadyPutted!==!0&&(j.objectNumber=Bn(),W("<<"),W("/Type /Font"),W("/BaseFont /"+pm(j.postScriptName)),W("/Subtype /Type1"),typeof j.encoding=="string"&&W("/Encoding /"+j.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Rl=function(){for(var j in Et)Et.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&jl(Et[j])},Sc=function(j){j.objectNumber=Bn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[N(j.x),N(j.y),N(j.x+j.width),N(j.y+j.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var pe=j.pages[1].join(`
`);$n({data:pe,additionalKeyValues:Y,objectId:j.objectNumber}),W("endobj")},Ac=function(){for(var j in Zn)Zn.hasOwnProperty(j)&&Sc(Zn[j])},Pp=function(j,Y){var pe,xe=[],Ce=1/(Y-1);for(pe=0;pe<1;pe+=Ce)xe.push(pe);if(xe.push(1),j[0].offset!=0){var Be={offset:0,color:j[0].color};j.unshift(Be)}if(j[j.length-1].offset!=1){var Qe={offset:1,color:j[j.length-1].color};j.push(Qe)}for(var ht="",_=0,L=0;L<xe.length;L++){for(pe=xe[L];pe>j[_+1].offset;)_++;var V=j[_].offset,re=(pe-V)/(j[_+1].offset-V),Ee=j[_].color,je=j[_+1].color;ht+=se(Math.round((1-re)*Ee[0]+re*je[0]).toString(16))+se(Math.round((1-re)*Ee[1]+re*je[1]).toString(16))+se(Math.round((1-re)*Ee[2]+re*je[2]).toString(16))}return ht.trim()},ju=function(j,Y){Y||(Y=21);var pe=Bn(),xe=Pp(j.colors,Y),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+Y+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:xe,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),W("endobj"),j.objectNumber=Bn(),W("<< /ShadingType "+j.type),W("/ColorSpace /DeviceRGB");var Be="/Coords ["+N(parseFloat(j.coords[0]))+" "+N(parseFloat(j.coords[1]))+" ";j.type===2?Be+=N(parseFloat(j.coords[2]))+" "+N(parseFloat(j.coords[3])):Be+=N(parseFloat(j.coords[2]))+" "+N(parseFloat(j.coords[3]))+" "+N(parseFloat(j.coords[4]))+" "+N(parseFloat(j.coords[5])),W(Be+="]"),j.matrix&&W("/Matrix ["+j.matrix.toString()+"]"),W("/Function "+pe+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Ip=function(j,Y){var pe=On(),xe=Bn();Y.push({resourcesOid:pe,objectOid:xe}),j.objectNumber=xe;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+j.boundingBox.map(N).join(" ")+"]"}),Ce.push({key:"XStep",value:N(j.xStep)}),Ce.push({key:"YStep",value:N(j.yStep)}),Ce.push({key:"Resources",value:pe+" 0 R"}),j.matrix&&Ce.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),$n({data:j.stream,additionalKeyValues:Ce,objectId:j.objectNumber}),W("endobj")},Dl=function(j){var Y;for(Y in ct)ct.hasOwnProperty(Y)&&(ct[Y]instanceof _h?ju(ct[Y]):ct[Y]instanceof Bm&&Ip(ct[Y],j))},Ml=function(j){for(var Y in j.objectNumber=Bn(),W("<<"),j)switch(Y){case"opacity":W("/ca "+R(j[Y]));break;case"stroke-opacity":W("/CA "+R(j[Y]))}W(">>"),W("endobj")},Bs=function(){var j;for(j in It)It.hasOwnProperty(j)&&Ml(It[j])},Ec=function(){for(var j in W("/XObject <<"),Zn)Zn.hasOwnProperty(j)&&Zn[j].objectNumber>=0&&W("/"+j+" "+Zn[j].objectNumber+" 0 R");vr.publish("putXobjectDict"),W(">>")},Kg=function(){cn.oid=Bn(),W("<<"),W("/Filter /Standard"),W("/V "+cn.v),W("/R "+cn.r),W("/U <"+cn.toHexString(cn.U)+">"),W("/O <"+cn.toHexString(cn.O)+">"),W("/P "+cn.P),W(">>"),W("endobj")},Ff=function(){for(var j in W("/Font <<"),Et)Et.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&W("/"+j+" "+Et[j].objectNumber+" 0 R");W(">>")},Op=function(){if(Object.keys(ct).length>0){for(var j in W("/Shading <<"),ct)ct.hasOwnProperty(j)&&ct[j]instanceof _h&&ct[j].objectNumber>=0&&W("/"+j+" "+ct[j].objectNumber+" 0 R");vr.publish("putShadingPatternDict"),W(">>")}},Cc=function(j){if(Object.keys(ct).length>0){for(var Y in W("/Pattern <<"),ct)ct.hasOwnProperty(Y)&&ct[Y]instanceof p.TilingPattern&&ct[Y].objectNumber>=0&&ct[Y].objectNumber<j&&W("/"+Y+" "+ct[Y].objectNumber+" 0 R");vr.publish("putTilingPatternDict"),W(">>")}},Bf=function(){if(Object.keys(It).length>0){var j;for(j in W("/ExtGState <<"),It)It.hasOwnProperty(j)&&It[j].objectNumber>=0&&W("/"+j+" "+It[j].objectNumber+" 0 R");vr.publish("putGStateDict"),W(">>")}},ln=function(j){ei(j.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ff(),Op(),Cc(j.objectOid),Bf(),Ec(),W(">>"),W("endobj")},$f=function(){var j=[];Rl(),Bs(),Ac(),Dl(j),vr.publish("putResources"),j.forEach(ln),ln({resourcesOid:da,objectOid:Number.MAX_SAFE_INTEGER}),vr.publish("postPutResources")},Uf=function(){vr.publish("putAdditionalObjects");for(var j=0;j<ye.length;j++){var Y=ye[j];ei(Y.objId,!0),W(Y.content),W("endobj")}vr.publish("postPutAdditionalObjects")},kp=function(j){jt[j.fontName]=jt[j.fontName]||{},jt[j.fontName][j.fontStyle]=j.id},Vf=function(j,Y,pe,xe,Ce){var Be={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:j,fontName:Y,fontStyle:pe,encoding:xe,isStandardFont:Ce||!1,metadata:{}};return vr.publish("addFont",{font:Be,instance:this}),Et[Be.id]=Be,kp(Be),Be.id},jp=function(j){for(var Y=0,pe=me.length;Y<pe;Y++){var xe=Vf.call(this,j[Y][0],j[Y][1],j[Y][2],me[Y][3],!0);f===!1&&(h[xe]=!0);var Ce=j[Y][0].split("-");kp({id:xe,fontName:Ce[0],fontStyle:Ce[1]||""})}vr.publish("addFonts",{fonts:Et,dictionary:jt})},ao=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(xe){var Y=xe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var pe="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Ft.console)throw new Error(pe);Ft.console.error(pe,xe),Ft.alert&&alert(pe)}},j.foo.bar=j,j.foo},Ru=function(j,Y){var pe,xe,Ce,Be,Qe,ht,_,L,V;if(Ce=(Y=Y||{}).sourceEncoding||"Unicode",Qe=Y.outputEncoding,(Y.autoencode||Qe)&&Et[vt].metadata&&Et[vt].metadata[Ce]&&Et[vt].metadata[Ce].encoding&&(Be=Et[vt].metadata[Ce].encoding,!Qe&&Et[vt].encoding&&(Qe=Et[vt].encoding),!Qe&&Be.codePages&&(Qe=Be.codePages[0]),typeof Qe=="string"&&(Qe=Be[Qe]),Qe)){for(_=!1,ht=[],pe=0,xe=j.length;pe<xe;pe++)(L=Qe[j.charCodeAt(pe)])?ht.push(String.fromCharCode(L)):ht.push(j[pe]),ht[pe].charCodeAt(0)>>8&&(_=!0);j=ht.join("")}for(pe=j.length;_===void 0&&pe!==0;)j.charCodeAt(pe-1)>>8&&(_=!0),pe--;if(!_)return j;for(ht=Y.noBOM?[]:[254,255],pe=0,xe=j.length;pe<xe;pe++){if((V=(L=j.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(V),ht.push(L-(V<<8))}return String.fromCharCode.apply(void 0,ht)},kn=p.__private__.pdfEscape=p.pdfEscape=function(j,Y){return Ru(j,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fa=p.__private__.beginPage=function(j){ge[++Ar]=[],Tt[Ar]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},zf(Ar),Se(ge[q])},Nc=function(j,Y){var pe,xe,Ce;switch(r=Y||r,typeof j=="string"&&(pe=v(j.toLowerCase()),Array.isArray(pe)&&(xe=pe[0],Ce=pe[1])),Array.isArray(j)&&(xe=j[0]*tt,Ce=j[1]*tt),isNaN(xe)&&(xe=i[0],Ce=i[1]),(xe>14400||Ce>14400)&&(Jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ce=Math.min(14400,Ce)),i=[xe,Ce],r.substr(0,1)){case"l":Ce>xe&&(i=[Ce,xe]);break;case"p":xe>Ce&&(i=[Ce,xe])}Fa(i),Kf(Gf),W(Wi),Qf!==0&&W(Qf+" J"),qu!==0&&W(qu+" j"),vr.publish("addPage",{pageNumber:Ar})},Du=function(j){j>0&&j<=Ar&&(ge.splice(j,1),Tt.splice(j,1),Ar--,q>Ar&&(q=Ar),this.setPage(q))},zf=function(j){j>0&&j<=Ar&&(q=j)},Dr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ge.length-1},Tc=function(j,Y,pe){var xe,Ce=void 0;return pe=pe||{},j=j!==void 0?j:Et[vt].fontName,Y=Y!==void 0?Y:Et[vt].fontStyle,xe=j.toLowerCase(),jt[xe]!==void 0&&jt[xe][Y]!==void 0?Ce=jt[xe][Y]:jt[j]!==void 0&&jt[j][Y]!==void 0?Ce=jt[j][Y]:pe.disableWarning===!1&&Jr.warn("Unable to look up font label for font '"+j+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ce||pe.noFallback||(Ce=jt.times[Y])==null&&(Ce=jt.times.normal),Ce},Pc=p.__private__.putInfo=function(){var j=Bn(),Y=function(xe){return xe};for(var pe in u!==null&&(Y=cn.encryptor(j,0)),W("<<"),W("/Producer ("+kn(Y("jsPDF "+Dt.version))+")"),rt)rt.hasOwnProperty(pe)&&rt[pe]&&W("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+kn(Y(rt[pe]))+")");W("/CreationDate ("+kn(Y(J))+")"),W(">>"),W("endobj")},$s=p.__private__.putCatalog=function(j){var Y=(j=j||{}).rootDictionaryObjId||Fs;switch(Bn(),W("<<"),W("/Type /Catalog"),W("/Pages "+Y+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+Ue;pe.substr(pe.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&W("/OpenAction [3 0 R /XYZ null null "+R(Ue)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}at&&W("/PageMode /"+at),vr.publish("putCatalog"),W(">>"),W("endobj")},Yg=p.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(G+1)),W("/Root "+G+" 0 R"),W("/Info "+(G-1)+" 0 R"),u!==null&&W("/Encrypt "+cn.oid+" 0 R"),W("/ID [ <"+U+"> <"+U+"> ]"),W(">>")},Rp=p.__private__.putHeader=function(){W("%PDF-"+m),W("%ºß¬à")},Xg=p.__private__.putXRef=function(){var j="0000000000";W("xref"),W("0 "+(G+1)),W("0000000000 65535 f ");for(var Y=1;Y<=G;Y++)typeof le[Y]=="function"?W((j+le[Y]()).slice(-10)+" 00000 n "):le[Y]!==void 0?W((j+le[Y]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Us=p.__private__.buildDocument=function(){Me(),Se(de),vr.publish("buildDocument"),Rp(),kl(),Uf(),$f(),u!==null&&Kg(),Pc(),$s();var j=ae;return Xg(),Yg(),W("startxref"),W(""+j),W("%%EOF"),Se(ge[q]),de.join(`
`)},Mu=p.__private__.getBlob=function(j){return new Blob([ce(j)],{type:"application/pdf"})},Lu=p.output=p.__private__.output=ao(function(j,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",j){case void 0:return Us();case"save":p.save(Y.filename);break;case"arraybuffer":return ce(Us());case"blob":return Mu(Us());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Mu(Us()))||void 0;Jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",xe=Us();try{pe=VN(xe)}catch{pe=VN(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+Y.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ce=Y.pdfObjectUrl,Be="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",ht=Ft.open();return ht!==null&&ht.document.write(Qe),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',L=Ft.open();if(L!==null){L.document.write(_);var V=this;L.document.documentElement.querySelector("#pdfViewer").onload=function(){L.document.title=Y.filename,L.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(V.output("bloburl"))}}return L}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Ee=Ft.open();if(Ee!==null&&(Ee.document.write(re),Ee.document.title=Y.filename),Ee||typeof safari>"u")return Ee;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",Y);default:return null}}),Ll=function(j){return Array.isArray(is)===!0&&is.indexOf(j)>-1};switch(n){case"pt":tt=1;break;case"mm":tt=72/25.4;break;case"cm":tt=72/2.54;break;case"in":tt=72;break;case"px":tt=Ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":tt=12;break;case"ex":tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);tt=n}var cn=null;ie(),$();var Dp=function(j){return u!==null?cn.encryptor(j,0):function(Y){return Y}},Hf=p.__private__.getPageInfo=p.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[j].objId,pageNumber:j,pageContext:Tt[j]}},Bt=p.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Tt)if(Tt[Y].objId===j)break;return Hf(Y)},Fl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Tt[q].objId,pageNumber:q,pageContext:Tt[q]}};p.addPage=function(){return Nc.apply(this,arguments),this},p.setPage=function(){return zf.apply(this,arguments),Se.call(this,ge[q]),this},p.insertPage=function(j){return this.addPage(),this.movePage(q,j),this},p.movePage=function(j,Y){var pe,xe;if(j>Y){pe=ge[j],xe=Tt[j];for(var Ce=j;Ce>Y;Ce--)ge[Ce]=ge[Ce-1],Tt[Ce]=Tt[Ce-1];ge[Y]=pe,Tt[Y]=xe,this.setPage(Y)}else if(j<Y){pe=ge[j],xe=Tt[j];for(var Be=j;Be<Y;Be++)ge[Be]=ge[Be+1],Tt[Be]=Tt[Be+1];ge[Y]=pe,Tt[Y]=xe,this.setPage(Y)}return this},p.deletePage=function(){return Du.apply(this,arguments),this},p.__private__.text=p.text=function(j,Y,pe,xe,Ce){var Be,Qe,ht,_,L,V,re,Ee,je,Ze=(xe=xe||{}).scope||this;if(typeof j=="number"&&typeof Y=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Vt=pe;pe=Y,Y=j,j=Vt}if(arguments[3]instanceof xt?(S("The transform parameter of text() with a Matrix value"),je=Ce):(ht=arguments[4],_=arguments[5],Tr(re=arguments[3])==="object"&&re!==null||(typeof ht=="string"&&(_=ht,ht=null),typeof re=="string"&&(_=re,re=null),typeof re=="number"&&(ht=re,re=null),xe={flags:re,angle:ht,align:_})),isNaN(Y)||isNaN(pe)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Ze;var ar="",zt=!1,Ir=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Pr,Qr=Ze.internal.scaleFactor;function Ws(tn){return tn=tn.split("	").join(Array(xe.TabLen||9).join(" ")),kn(tn,re)}function Gi(tn){for(var rn,Vn=tn.concat(),fi=[],Lc=Vn.length;Lc--;)typeof(rn=Vn.shift())=="string"?fi.push(rn):Array.isArray(tn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?fi.push(rn[0]):fi.push([rn[0],rn[1],rn[2]]);return fi}function Vl(tn,rn){var Vn;if(typeof tn=="string")Vn=rn(tn)[0];else if(Array.isArray(tn)){for(var fi,Lc,a1=tn.concat(),Kp=[],Gx=a1.length;Gx--;)typeof(fi=a1.shift())=="string"?Kp.push(rn(fi)[0]):Array.isArray(fi)&&typeof fi[0]=="string"&&(Lc=rn(fi[0],fi[1],fi[2]),Kp.push([Lc[0],Lc[1],Lc[2]]));Vn=Kp}return Vn}var zl=!1,Zg=!0;if(typeof j=="string")zl=!0;else if(Array.isArray(j)){var Jg=j.concat();Qe=[];for(var $p,Ki=Jg.length;Ki--;)(typeof($p=Jg.shift())!="string"||Array.isArray($p)&&typeof $p[0]!="string")&&(Zg=!1);zl=Zg}if(zl===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Up=we/Ze.internal.scaleFactor,Vp=Up*(Ir-1);switch(xe.baseline){case"bottom":pe-=Vp;break;case"top":pe+=Up-Vp;break;case"hanging":pe+=Up-2*Vp;break;case"middle":pe+=Up/2-Vp}if((V=xe.maxWidth||0)>0&&(typeof j=="string"?j=Ze.splitTextToSize(j,V):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(tn,rn){return tn.concat(Ze.splitTextToSize(rn,V))},[]))),Be={text:j,x:Y,y:pe,options:xe,mutex:{pdfEscape:kn,activeFontKey:vt,fonts:Et,activeFontSize:we}},vr.publish("preProcessText",Be),j=Be.text,ht=(xe=Be.options).angle,!(je instanceof xt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,xe.rotationDirection===0&&(ht=-ht),w===y.ADVANCED&&(ht=-ht);var zp=Math.cos(ht),e1=Math.sin(ht);je=new xt(zp,e1,-e1,zp,0,0)}else ht&&ht instanceof xt&&(je=ht);w!==y.ADVANCED||je||(je=ua),(L=xe.charSpace||Oc)!==void 0&&(ar+=N(k(L))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ee=xe.horizontalScale)!==void 0&&(ar+=N(100*Ee)+` Tz
`),xe.lang;var oo=-1,zA=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,t1=Ze.internal.getCurrentPageInfo().pageContext;switch(zA){case 0:case!1:case"fill":oo=0;break;case 1:case!0:case"stroke":oo=1;break;case 2:case"fillThenStroke":oo=2;break;case 3:case"invisible":oo=3;break;case 4:case"fillAndAddForClipping":oo=4;break;case 5:case"strokeAndAddPathForClipping":oo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oo=6;break;case 7:case"addToPathForClipping":oo=7}var zx=t1.usedRenderingMode!==void 0?t1.usedRenderingMode:-1;oo!==-1?ar+=oo+` Tr
`:zx!==-1&&(ar+=`0 Tr
`),oo!==-1&&(t1.usedRenderingMode=oo),_=xe.align||"left";var os,Hp=we*Ir,Hx=Ze.internal.pageSize.getWidth(),qx=Et[vt];L=xe.charSpace||Oc,V=xe.maxWidth||0,re=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Xu=[],Zf=function(tn){return Ze.getStringUnitWidth(tn,{font:qx,charSpace:L,fontSize:we,doKerning:!1})*we/Qr};if(Object.prototype.toString.call(j)==="[object Array]"){var so;Qe=Gi(j),_!=="left"&&(os=Qe.map(Zf));var Ba,Qu=0;if(_==="right"){Y-=os[0],j=[],Ki=Qe.length;for(var Rc=0;Rc<Ki;Rc++)Rc===0?(Ba=Ro(Y),so=di(pe)):(Ba=k(Qu-os[Rc]),so=-Hp),j.push([Qe[Rc],Ba,so]),Qu=os[Rc]}else if(_==="center"){Y-=os[0]/2,j=[],Ki=Qe.length;for(var Dc=0;Dc<Ki;Dc++)Dc===0?(Ba=Ro(Y),so=di(pe)):(Ba=k((Qu-os[Dc])/2),so=-Hp),j.push([Qe[Dc],Ba,so]),Qu=os[Dc]}else if(_==="left"){j=[],Ki=Qe.length;for(var qp=0;qp<Ki;qp++)j.push(Qe[qp])}else if(_==="justify"&&qx.encoding==="Identity-H"){j=[],Ki=Qe.length,V=V!==0?V:Hx;for(var Mc=0,Un=0;Un<Ki;Un++)if(so=Un===0?di(pe):-Hp,Ba=Un===0?Ro(Y):Mc,Un<Ki-1){var r1=k((V-os[Un])/(Qe[Un].split(" ").length-1)),$a=Qe[Un].split(" ");j.push([$a[0]+" ",Ba,so]),Mc=0;for(var ss=1;ss<$a.length;ss++){var Wp=(Zf($a[ss-1]+" "+$a[ss])-Zf($a[ss]))*Qr+r1;ss==$a.length-1?j.push([$a[ss],Wp,0]):j.push([$a[ss]+" ",Wp,0]),Mc-=Wp}}else j.push([Qe[Un],Ba,so]);j.push(["",Mc,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ki=Qe.length,V=V!==0?V:Hx,Un=0;Un<Ki;Un++)so=Un===0?di(pe):-Hp,Ba=Un===0?Ro(Y):0,Un<Ki-1?Xu.push(N(k((V-os[Un])/(Qe[Un].split(" ").length-1)))):Xu.push(0),j.push([Qe[Un],Ba,so])}}var Wx=typeof xe.R2L=="boolean"?xe.R2L:et;Wx===!0&&(j=Vl(j,function(tn,rn,Vn){return[tn.split("").reverse().join(""),rn,Vn]})),Be={text:j,x:Y,y:pe,options:xe,mutex:{pdfEscape:kn,activeFontKey:vt,fonts:Et,activeFontSize:we}},vr.publish("postProcessText",Be),j=Be.text,zt=Be.mutex.isHex||!1;var n1=Et[vt].encoding;n1!=="WinAnsiEncoding"&&n1!=="StandardEncoding"||(j=Vl(j,function(tn,rn,Vn){return[Ws(tn),rn,Vn]})),Qe=Gi(j),j=[];for(var Jf,eh,Zu,th=0,Gp=1,rh=Array.isArray(Qe[0])?Gp:th,Ju="",i1=function(tn,rn,Vn){var fi="";return Vn instanceof xt?(Vn=typeof xe.angle=="number"?no(Vn,new xt(1,0,0,1,tn,rn)):no(new xt(1,0,0,1,tn,rn),Vn),w===y.ADVANCED&&(Vn=no(new xt(1,0,0,-1,0,0),Vn)),fi=Vn.join(" ")+` Tm
`):fi=N(tn)+" "+N(rn)+` Td
`,fi},ls=0;ls<Qe.length;ls++){switch(Ju="",rh){case Gp:Zu=(zt?"<":"(")+Qe[ls][0]+(zt?">":")"),Jf=parseFloat(Qe[ls][1]),eh=parseFloat(Qe[ls][2]);break;case th:Zu=(zt?"<":"(")+Qe[ls]+(zt?">":")"),Jf=Ro(Y),eh=di(pe)}Xu!==void 0&&Xu[ls]!==void 0&&(Ju=Xu[ls]+` Tw
`),ls===0?j.push(Ju+i1(Jf,eh,je)+Zu):rh===th?j.push(Ju+Zu):rh===Gp&&j.push(Ju+i1(Jf,eh,je)+Zu)}j=rh===th?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var cs=`BT
/`;return cs+=vt+" "+we+` Tf
`,cs+=N(we*Ir)+` TL
`,cs+=Hs+`
`,cs+=ar,cs+=j,W(cs+="ET"),h[vt]=!0,Ze};var Qg=p.__private__.clip=p.clip=function(j){return W(j==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Qg("evenodd")},p.__private__.discardPath=p.discardPath=function(){return W("n"),this};var as=p.__private__.isValidStyle=function(j){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(Y=!0),Y};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(j){return as(j)&&(c=j),this};var Mp=p.__private__.getStyle=p.getStyle=function(j){var Y=c;switch(j){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=j}return Y},ko=p.close=function(){return W("h"),this};p.stroke=function(){return W("S"),this},p.fill=function(j){return Fu("f",j),this},p.fillEvenOdd=function(j){return Fu("f*",j),this},p.fillStroke=function(j){return Fu("B",j),this},p.fillStrokeEvenOdd=function(j){return Fu("B*",j),this};var Fu=function(j,Y){Tr(Y)==="object"?$u(Y,j):W(j)},qf=function(j){j===null||w===y.ADVANCED&&j===void 0||(j=Mp(j),W(j))};function Bu(j,Y,pe,xe,Ce){var Be=new Bm(Y||this.boundingBox,pe||this.xStep,xe||this.yStep,this.gState,Ce||this.matrix);Be.stream=this.stream;var Qe=j+"$$"+this.cloneIndex+++"$$";return Jn(Qe,Be),Be}var $u=function(j,Y){var pe=Jt[j.key],xe=ct[pe];if(xe instanceof _h)W("q"),W(Lp(Y)),xe.gState&&p.setGState(xe.gState),W(j.matrix.toString()+" cm"),W("/"+pe+" sh"),W("Q");else if(xe instanceof Bm){var Ce=new xt(1,0,0,-1,0,fa());j.matrix&&(Ce=Ce.multiply(j.matrix||ua),pe=Bu.call(xe,j.key,j.boundingBox,j.xStep,j.yStep,Ce).id),W("q"),W("/Pattern cs"),W("/"+pe+" scn"),xe.gState&&p.setGState(xe.gState),W(Y),W("Q")}},Lp=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Vs=p.moveTo=function(j,Y){return W(N(k(j))+" "+N(z(Y))+" m"),this},jo=p.lineTo=function(j,Y){return W(N(k(j))+" "+N(z(Y))+" l"),this},zs=p.curveTo=function(j,Y,pe,xe,Ce,Be){return W([N(k(j)),N(z(Y)),N(k(pe)),N(z(xe)),N(k(Ce)),N(z(Be)),"c"].join(" ")),this};p.__private__.line=p.line=function(j,Y,pe,xe,Ce){if(isNaN(j)||isNaN(Y)||isNaN(pe)||isNaN(xe)||!as(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[pe-j,xe-Y]],j,Y,[1,1],Ce||"S"):this.lines([[pe-j,xe-Y]],j,Y,[1,1]).stroke()},p.__private__.lines=p.lines=function(j,Y,pe,xe,Ce,Be){var Qe,ht,_,L,V,re,Ee,je,Ze,Vt,ar,zt;if(typeof j=="number"&&(zt=pe,pe=Y,Y=j,j=zt),xe=xe||[1,1],Be=Be||!1,isNaN(Y)||isNaN(pe)||!Array.isArray(j)||!Array.isArray(xe)||!as(Ce)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vs(Y,pe),Qe=xe[0],ht=xe[1],L=j.length,Vt=Y,ar=pe,_=0;_<L;_++)(V=j[_]).length===2?(Vt=V[0]*Qe+Vt,ar=V[1]*ht+ar,jo(Vt,ar)):(re=V[0]*Qe+Vt,Ee=V[1]*ht+ar,je=V[2]*Qe+Vt,Ze=V[3]*ht+ar,Vt=V[4]*Qe+Vt,ar=V[5]*ht+ar,zs(re,Ee,je,Ze,Vt,ar));return Be&&ko(),qf(Ce),this},p.path=function(j){for(var Y=0;Y<j.length;Y++){var pe=j[Y],xe=pe.c;switch(pe.op){case"m":Vs(xe[0],xe[1]);break;case"l":jo(xe[0],xe[1]);break;case"c":zs.apply(this,xe);break;case"h":ko()}}return this},p.__private__.rect=p.rect=function(j,Y,pe,xe,Ce){if(isNaN(j)||isNaN(Y)||isNaN(pe)||isNaN(xe)||!as(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(xe=-xe),W([N(k(j)),N(z(Y)),N(k(pe)),N(k(xe)),"re"].join(" ")),qf(Ce),this},p.__private__.triangle=p.triangle=function(j,Y,pe,xe,Ce,Be,Qe){if(isNaN(j)||isNaN(Y)||isNaN(pe)||isNaN(xe)||isNaN(Ce)||isNaN(Be)||!as(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-j,xe-Y],[Ce-pe,Be-xe],[j-Ce,Y-Be]],j,Y,[1,1],Qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(j,Y,pe,xe,Ce,Be,Qe){if(isNaN(j)||isNaN(Y)||isNaN(pe)||isNaN(xe)||isNaN(Ce)||isNaN(Be)||!as(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*pe),Be=Math.min(Be,.5*xe),this.lines([[pe-2*Ce,0],[Ce*ht,0,Ce,Be-Be*ht,Ce,Be],[0,xe-2*Be],[0,Be*ht,-Ce*ht,Be,-Ce,Be],[2*Ce-pe,0],[-Ce*ht,0,-Ce,-Be*ht,-Ce,-Be],[0,2*Be-xe],[0,-Be*ht,Ce*ht,-Be,Ce,-Be]],j+Ce,Y,[1,1],Qe,!0),this},p.__private__.ellipse=p.ellipse=function(j,Y,pe,xe,Ce){if(isNaN(j)||isNaN(Y)||isNaN(pe)||isNaN(xe)||!as(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*pe,Qe=4/3*(Math.SQRT2-1)*xe;return Vs(j+pe,Y),zs(j+pe,Y-Qe,j+Be,Y-xe,j,Y-xe),zs(j-Be,Y-xe,j-pe,Y-Qe,j-pe,Y),zs(j-pe,Y+Qe,j-Be,Y+xe,j,Y+xe),zs(j+Be,Y+xe,j+pe,Y+Qe,j+pe,Y),qf(Ce),this},p.__private__.circle=p.circle=function(j,Y,pe,xe){if(isNaN(j)||isNaN(Y)||isNaN(pe)||!as(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,Y,pe,pe,xe)},p.setFont=function(j,Y,pe){return pe&&(Y=O(Y,pe)),vt=Tc(j,Y,{disableWarning:!1}),this};var Wf=p.__private__.getFont=p.getFont=function(){return Et[Tc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var j,Y,pe={};for(j in jt)if(jt.hasOwnProperty(j))for(Y in pe[j]=[],jt[j])jt[j].hasOwnProperty(Y)&&pe[j].push(Y);return pe},p.addFont=function(j,Y,pe,xe,Ce){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(pe=O(pe,xe)),Ce=Ce||"Identity-H",Vf.call(this,j,Y,pe,Ce)};var Pr,Gf=t.lineWidth||.200025,Uu=p.__private__.getLineWidth=p.getLineWidth=function(){return Gf},Kf=p.__private__.setLineWidth=p.setLineWidth=function(j){return Gf=j,W(N(k(j))+" w"),this};p.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(j,Y){if(j=j||[],Y=Y||0,isNaN(Y)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(pe){return N(k(pe))}).join(" "),Y=N(k(Y)),W("["+j+"] "+Y+" d"),this};var Yf=p.__private__.getLineHeight=p.getLineHeight=function(){return we*Pr};p.__private__.getLineHeight=p.getLineHeight=function(){return we*Pr};var Xf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Pr=j),this},Ic=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Pr};Xf(t.lineHeight);var Ro=p.__private__.getHorizontalCoordinate=function(j){return k(j)},di=p.__private__.getVerticalCoordinate=function(j){return w===y.ADVANCED?j:Tt[q].mediaBox.topRightY-Tt[q].mediaBox.bottomLeftY-k(j)},Fp=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(j){return N(Ro(j))},Bl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(j){return N(di(j))},Wi=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return io(Wi)},p.__private__.setStrokeColor=p.setDrawColor=function(j,Y,pe,xe){return Wi=Ma({ch1:j,ch2:Y,ch3:pe,ch4:xe,pdfColorType:"draw",precision:2}),W(Wi),this};var Vu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return io(Vu)},p.__private__.setFillColor=p.setFillColor=function(j,Y,pe,xe){return Vu=Ma({ch1:j,ch2:Y,ch3:pe,ch4:xe,pdfColorType:"fill",precision:2}),W(Vu),this};var Hs=t.textColor||"0 g",zu=p.__private__.getTextColor=p.getTextColor=function(){return io(Hs)};p.__private__.setTextColor=p.setTextColor=function(j,Y,pe,xe){return Hs=Ma({ch1:j,ch2:Y,ch3:pe,ch4:xe,pdfColorType:"text",precision:3}),this};var Oc=t.charSpace,Hu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Oc||0)};p.__private__.setCharSpace=p.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oc=j,this};var Qf=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(j){var Y=p.CapJoinStyles[j];if(Y===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qf=Y,W(Y+" J"),this};var qu=0;p.__private__.setLineJoin=p.setLineJoin=function(j){var Y=p.CapJoinStyles[j];if(Y===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qu=Y,W(Y+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(N(k(j))+" M"),this},p.GState=i_,p.setGState=function(j){(j=typeof j=="string"?It[Wr[j]]:$l(null,j)).equals(xn)||(W("/"+j.id+" gs"),xn=j)};var $l=function(j,Y){if(!j||!Wr[j]){var pe=!1;for(var xe in It)if(It.hasOwnProperty(xe)&&It[xe].equals(Y)){pe=!0;break}if(pe)Y=It[xe];else{var Ce="GS"+(Object.keys(It).length+1).toString(10);It[Ce]=Y,Y.id=Ce}return j&&(Wr[j]=Y.id),vr.publish("addGState",Y),Y}};p.addGState=function(j,Y){return $l(j,Y),this},p.saveGraphicsState=function(){return W("q"),Ii.push({key:vt,size:we,color:Hs}),this},p.restoreGraphicsState=function(){W("Q");var j=Ii.pop();return vt=j.key,we=j.size,Hs=j.color,xn=null,this},p.setCurrentTransformationMatrix=function(j){return W(j.toString()+" cm"),this},p.comment=function(j){return W("#"+j),this};var kc=function(j,Y){var pe=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var xe=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Be){isNaN(Be)||(xe=parseFloat(Be))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Be){Ce=Be.toString()}}),this},Wu=function(j,Y,pe,xe){kc.call(this,j,Y),this.type="rect";var Ce=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Qe){isNaN(Qe)||(Ce=parseFloat(Qe))}});var Be=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Qe){isNaN(Qe)||(Be=parseFloat(Qe))}}),this},jc=function(){this.page=Ar,this.currentPage=q,this.pages=ge.slice(0),this.pagesContext=Tt.slice(0),this.x=Yt,this.y=$t,this.matrix=Fn,this.width=Ul(q),this.height=fa(q),this.outputDestination=Re,this.id="",this.objectNumber=-1};jc.prototype.restore=function(){Ar=this.page,q=this.currentPage,Tt=this.pagesContext,ge=this.pages,Yt=this.x,$t=this.y,Fn=this.matrix,Ku(q,this.width),Yu(q,this.height),Re=this.outputDestination};var Gu=function(j,Y,pe,xe,Ce){Io.push(new jc),Ar=q=0,ge=[],Yt=j,$t=Y,Fn=Ce,Fa([pe,xe])},Bp=function(j){if(ca[j])Io.pop().restore();else{var Y=new jc,pe="Xo"+(Object.keys(Zn).length+1).toString(10);Y.id=pe,ca[j]=pe,Zn[pe]=Y,vr.publish("addFormObject",Y),Io.pop().restore()}};for(var qs in p.beginFormObject=function(j,Y,pe,xe,Ce){return Gu(j,Y,pe,xe,Ce),this},p.endFormObject=function(j){return Bp(j),this},p.doFormObject=function(j,Y){var pe=Zn[ca[j]];return W("q"),W(Y.toString()+" cm"),W("/"+pe.id+" Do"),W("Q"),this},p.getFormObject=function(j){var Y=Zn[ca[j]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},p.save=function(j,Y){return j=j||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(vh(Mu(Us()),j),typeof vh.unload=="function"&&Ft.setTimeout&&setTimeout(vh.unload,911),this):new Promise(function(pe,xe){try{var Ce=vh(Mu(Us()),j);typeof vh.unload=="function"&&Ft.setTimeout&&setTimeout(vh.unload,911),pe(Ce)}catch(Be){xe(Be.message)}})},Dt.API)Dt.API.hasOwnProperty(qs)&&(qs==="events"&&Dt.API.events.length?function(j,Y){var pe,xe,Ce;for(Ce=Y.length-1;Ce!==-1;Ce--)pe=Y[Ce][0],xe=Y[Ce][1],j.subscribe.apply(j,[pe].concat(typeof xe=="function"?[xe]:xe))}(vr,Dt.API.events):p[qs]=Dt.API[qs]);var Ul=p.getPageWidth=function(j){return(Tt[j=j||q].mediaBox.topRightX-Tt[j].mediaBox.bottomLeftX)/tt},Ku=p.setPageWidth=function(j,Y){Tt[j].mediaBox.topRightX=Y*tt+Tt[j].mediaBox.bottomLeftX},fa=p.getPageHeight=function(j){return(Tt[j=j||q].mediaBox.topRightY-Tt[j].mediaBox.bottomLeftY)/tt},Yu=p.setPageHeight=function(j,Y){Tt[j].mediaBox.topRightY=Y*tt+Tt[j].mediaBox.bottomLeftY};return p.internal={pdfEscape:kn,getStyle:Mp,getFont:Wf,getFontSize:ze,getCharSpace:Hu,getTextColor:zu,getLineHeight:Yf,getLineHeightFactor:Ic,getLineWidth:Uu,write:Pe,getHorizontalCoordinate:Ro,getVerticalCoordinate:di,getCoordinateString:Fp,getVerticalCoordinateString:Bl,collections:{},newObject:Bn,newAdditionalObject:ku,newObjectDeferred:On,newObjectDeferredBegin:ei,getFilters:La,putStream:$n,events:vr,scaleFactor:tt,pageSize:{getWidth:function(){return Ul(q)},setWidth:function(j){Ku(q,j)},getHeight:function(){return fa(q)},setHeight:function(j){Yu(q,j)}},encryptionOptions:u,encryption:cn,getEncryptor:Dp,output:Lu,getNumberOfPages:Dr,pages:ge,out:W,f2:R,f3:I,getPageInfo:Hf,getPageInfoByObjId:Bt,getCurrentPageInfo:Fl,getPDFVersion:g,Point:kc,Rectangle:Wu,Matrix:xt,hasHotfix:Ll},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ul(q)},set:function(j){Ku(q,j)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return fa(q)},set:function(j){Yu(q,j)},enumerable:!0,configurable:!0}),jp.call(p,me),vt="F1",Nc(i,r),vr.publish("initialized"),p}hm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},hm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hm.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},hm.prototype.processOwnerPassword=function(t,e){return HN(zN(e).substr(0,5),t)},hm.prototype.encryptor=function(t,e){var r=zN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return HN(r,n)}},i_.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Tr(t)!==Tr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Dt.API={events:[]},Dt.version="3.0.1";var Dn=Dt.API,xk=1,bp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},om=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(t){return t.toFixed(2)},pd=function(t){return t.toFixed(5)};Dn.__acroform__={};var To=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},f7=function(t){return t*xk},Wl=function(t){var e=new OX,r=_t.internal.getHeight(t)||0,n=_t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ht(n)),Number(Ht(r))],e},_5e=Dn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},S5e=Dn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},A5e=Dn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},qn=Dn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A5e(t,e-1)},Wn=Dn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _5e(t,e-1)},Gn=Dn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return S5e(t,e-1)},E5e=Dn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+s)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(a)||0,[Number(Ht(l.lowerLeft_X)),Number(Ht(l.lowerLeft_Y)),Number(Ht(l.upperRight_X)),Number(Ht(l.upperRight_Y))]},C5e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=qN(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Wl(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},qN=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=r,o=_t.internal.getHeight(t)||0;o=o<0?-o:o;var s=_t.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(I,k,D){if(I+1<i.length){var z=k+" "+i[I+1][0];return X2(z,t,D).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var c,u,f=X2("3",t,a).height,h=t.multiline?o-a:(o-f)/2,p=h+=2,m=0,g=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+X2(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var v="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var C=!1;if(i[w].length!==1&&x!==i[w].length-1){if((f+2)*(y+2)+2>o)continue e;v+=i[w][x],C=!0,g=w,w--}else{v=(v+=i[w][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var A=parseInt(w),O=l(A,v,a),N=w>=i.length-1;if(O&&!N){v+=" ",x=0;continue}if(O||N){if(N)g=A;else if(t.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(y+2)+2>o)continue e;g=A}}for(var S="",P=m;P<=g;P++){var R=i[P];if(t.multiline){if(P===g){S+=R[x]+" ",x=(x+1)%R.length;continue}if(P===m){S+=R[R.length-1]+" ";continue}}S+=R[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=X2(S,t,a).width,t.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;case"left":default:c=2}e+=Ht(c)+" "+Ht(p)+` Td
`,e+="("+bp(S)+`) Tj
`,e+=-Ht(c)+` 0 Td
`,p=-(a+2),u=0,m=C?g:g+1,y++,v=""}break}return n.text=e,n.fontSize=a,n},X2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},N5e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},T5e=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},P5e=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Tr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},I5e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(N5e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kX,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&T5e(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],c=s.Rect;if(s.Rect&&(s.Rect=E5e(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=_t.createDefaultAppearanceStream(s),Tr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=C5e(s);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var p=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var m=p[o];typeof m=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(i,s)),f+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&P5e(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},IX=Dn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Tr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+bp(n(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P3=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+bp(n(t))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:IX(i,this.objId,this.scope)}):i instanceof ec?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var OX=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};To(OX,ec);var kX=function(){ec.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+bp(r(t))+")"}},set:function(r){t=r}})};To(kX,ec);var Pl=function t(){ec.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qn(e,3)},set:function(v){v?this.F=Wn(e,3):this.F=Gn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof a_)return;a="FieldObject"+t.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+bp(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/xk:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof a_||this instanceof Fh))return P3(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fi?h:P3(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Fi?v:v.substr(0,1)==="("?om(v.substr(1,v.length-2)):om(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi?om(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Fi?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Fi?p:P3(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof Fi?v:v.substr(0,1)==="("?om(v.substr(1,v.length-2)):om(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi?om(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Fi?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,1)},set:function(v){v?this.Ff=Wn(this.Ff,1):this.Ff=Gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,2)},set:function(v){v?this.Ff=Wn(this.Ff,2):this.Ff=Gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,3)},set:function(v){v?this.Ff=Wn(this.Ff,3):this.Ff=Gn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};To(Pl,ec);var t0=function(){Pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return IX(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,c=[];l=o.exec(a);)c.push(l[s]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,18)},set:function(r){r?this.Ff=Wn(this.Ff,18):this.Ff=Gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Wn(this.Ff,19):this.Ff=Gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,20)},set:function(r){r?(this.Ff=Wn(this.Ff,20),e.sort()):this.Ff=Gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,22)},set:function(r){r?this.Ff=Wn(this.Ff,22):this.Ff=Gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(r){r?this.Ff=Wn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,27)},set:function(r){r?this.Ff=Wn(this.Ff,27):this.Ff=Gn(this.Ff,27)}}),this.hasAppearanceStream=!1};To(t0,Pl);var r0=function(){t0.call(this),this.fontName="helvetica",this.combo=!1};To(r0,t0);var n0=function(){r0.call(this),this.combo=!0};To(n0,r0);var Xw=function(){n0.call(this),this.edit=!0};To(Xw,n0);var Fi=function(){Pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,15)},set:function(r){r?this.Ff=Wn(this.Ff,15):this.Ff=Gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,16)},set:function(r){r?this.Ff=Wn(this.Ff,16):this.Ff=Gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,17)},set:function(r){r?this.Ff=Wn(this.Ff,17):this.Ff=Gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(r){r?this.Ff=Wn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+bp(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Tr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};To(Fi,Pl);var Qw=function(){Fi.call(this),this.pushButton=!0};To(Qw,Fi);var i0=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};To(i0,Fi);var a_=function(){var t,e;Pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+bp(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Tr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(a_,Pl),i0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},i0.prototype.createOption=function(t){var e=new a_;return e.Parent=this,e.optionName=t,this.Kids.push(e),O5e.call(this.scope,e),e};var Zw=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};To(Zw,Fi);var Fh=function(){Pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,13)},set:function(e){e?this.Ff=Wn(this.Ff,13):this.Ff=Gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,21)},set:function(e){e?this.Ff=Wn(this.Ff,21):this.Ff=Gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(e){e?this.Ff=Wn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,24)},set:function(e){e?this.Ff=Wn(this.Ff,24):this.Ff=Gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,25)},set:function(e){e?this.Ff=Wn(this.Ff,25):this.Ff=Gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(e){e?this.Ff=Wn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(Fh,Pl);var Jw=function(){Fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,14)},set:function(t){t?this.Ff=Wn(this.Ff,14):this.Ff=Gn(this.Ff,14)}}),this.password=!0};To(Jw,Fh);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=qN(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ht(_t.internal.getWidth(t))+" "+Ht(_t.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ht(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=_t.internal.getHeight(t),o=_t.internal.getWidth(t),s=qN(t,t.caption);return i.push("1 g"),i.push("0 0 "+Ht(o)+" "+Ht(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ht(o-1)+" "+Ht(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Ht(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ht(_t.internal.getWidth(t))+" "+Ht(_t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Circle.YesNormal,e.D[t]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=_t.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pd(_t.internal.getWidth(t)/2)+" "+pd(_t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*_t.internal.Bezier_C).toFixed(5)),o=Number((n*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pd(_t.internal.getWidth(t)/2)+" "+pd(_t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pd(_t.internal.getWidth(t)/2)+" "+pd(_t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pd(_t.internal.getWidth(t)/2)+" "+pd(_t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Cross.YesNormal,e.D[t]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=_t.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ht(_t.internal.getWidth(t)-2)+" "+Ht(_t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ht(n.x1.x)+" "+Ht(n.x1.y)+" m"),r.push(Ht(n.x2.x)+" "+Ht(n.x2.y)+" l"),r.push(Ht(n.x4.x)+" "+Ht(n.x4.y)+" m"),r.push(Ht(n.x3.x)+" "+Ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=_t.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ht(_t.internal.getWidth(t))+" "+Ht(_t.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ht(_t.internal.getWidth(t)-2)+" "+Ht(_t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ht(r.x1.x)+" "+Ht(r.x1.y)+" m"),n.push(Ht(r.x2.x)+" "+Ht(r.x2.y)+" l"),n.push(Ht(r.x4.x)+" "+Ht(r.x4.y)+" m"),n.push(Ht(r.x3.x)+" "+Ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ht(_t.internal.getWidth(t))+" "+Ht(_t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};_t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_t.internal.getWidth(t),r=_t.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},_t.internal.getWidth=function(t){var e=0;return Tr(t)==="object"&&(e=f7(t.Rect[2])),e},_t.internal.getHeight=function(t){var e=0;return Tr(t)==="object"&&(e=f7(t.Rect[3])),e};var O5e=Dn.addField=function(t){if(I5e(this,t),!(t instanceof Pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Dn.AcroFormChoiceField=t0,Dn.AcroFormListBox=r0,Dn.AcroFormComboBox=n0,Dn.AcroFormEditBox=Xw,Dn.AcroFormButton=Fi,Dn.AcroFormPushButton=Qw,Dn.AcroFormRadioButton=i0,Dn.AcroFormCheckBox=Zw,Dn.AcroFormTextField=Fh,Dn.AcroFormPasswordField=Jw,Dn.AcroFormAppearance=_t,Dn.AcroForm={ChoiceField:t0,ListBox:r0,ComboBox:n0,EditBox:Xw,Button:Fi,PushButton:Qw,RadioButton:i0,CheckBox:Zw,TextField:Fh,PasswordField:Jw,Appearance:_t},Dt.AcroForm={ChoiceField:t0,ListBox:r0,ComboBox:n0,EditBox:Xw,Button:Fi,PushButton:Qw,RadioButton:i0,CheckBox:Zw,TextField:Fh,PasswordField:Jw,Appearance:_t};Dt.AcroForm;function jX(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,k){var D,z,J,U,K,$=e;if((k=k||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(O(I))for(K in r)for(J=r[K],D=0;D<J.length;D+=1){for(U=!0,z=0;z<J[D].length;z+=1)if(J[D][z]!==void 0&&J[D][z]!==I[z]){U=!1;break}if(U===!0){$=K;break}}else for(K in r)for(J=r[K],D=0;D<J.length;D+=1){for(U=!0,z=0;z<J[D].length;z+=1)if(J[D][z]!==void 0&&J[D][z]!==I.charCodeAt(z)){U=!1;break}if(U===!0){$=K;break}}return $===e&&k!==e&&($=k),$},i=function I(k){for(var D=this.internal.write,z=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:k.width}),U.push({key:"Height",value:k.height}),k.colorSpace===x.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===x.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var K="",$=0,H=k.transparency.length;$<H;$++)K+=k.transparency[$]+" "+k.transparency[$]+" ";U.push({key:"Mask",value:"["+K+"]"})}k.sMask!==void 0&&U.push({key:"SMask",value:k.objectId+1+" 0 R"});var te=k.filter!==void 0?["/"+k.filter]:void 0;if(z({data:k.data,additionalKeyValues:U,alreadyAppliedFilters:te,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var ie="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,F={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ie,data:k.sMask};"filter"in k&&(F.filter=k.filter),I.call(this,F)}if(k.colorSpace===x.INDEXED){var q=this.internal.newObject();z({data:S(new Uint8Array(k.palette)),objectId:q}),D("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var k in I)i.call(this,I[k])},o=function(){var I,k=this.internal.collections.addImage_images,D=this.internal.write;for(var z in k)D("/I"+(I=k[z]).index,I.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return s.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return typeof t["process"+I.toUpperCase()]=="function"},f=function(I){return Tr(I)==="object"&&I.nodeType===1},h=function(I,k){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var D=""+I.getAttribute("src");if(D.indexOf("data:image/")===0)return wv(unescape(D).split("base64,").pop());var z=t.loadFile(D,!0);if(z!==void 0)return z}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var J;switch(k){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return wv(I.toDataURL(J,1).split("base64,").pop())}},p=function(I){var k=this.internal.collections.addImage_images;if(k){for(var D in k)if(I===k[D].alias)return k[D]}},m=function(I,k,D){return I||k||(I=-96,k=-96),I<0&&(I=-1*D.width*72/I/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),I===0&&(I=k*D.width/D.height),k===0&&(k=I*D.height/D.width),[I,k]},g=function(I,k,D,z,J,U){var K=m.call(this,D,z,J),$=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,te=l.call(this);if(D=K[0],z=K[1],te[J.index]=J,U){U*=Math.PI/180;var ie=Math.cos(U),F=Math.sin(U),q=function(se){return se.toFixed(4)},Q=[q(ie),q(F),q(-1*F),q(ie),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,$(I),H(k+z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([$(D),"0","0",$(z),"0","0","cm"].join(" "))):this.internal.write([$(D),"0","0",$(z),$(I),H(k+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(I){var k,D,z=0;if(typeof I=="string")for(D=I.length,k=0;k<D;k++)z=(z<<5)-z+I.charCodeAt(k),z|=0;else if(O(I))for(D=I.byteLength/2,k=0;k<D;k++)z=(z<<5)-z+I[k],z|=0;return z},w=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var k=!0;return I.length===0&&(k=!1),I.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(k=!1),k},C=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var k=I.indexOf(",");return k<0?null:I.substring(0,k).trim().endsWith("base64")?I.substring(k+1):null},A=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return A()&&I instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(I){return A()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(I){for(var k=I.length,D=new Uint8Array(k),z=0;z<k;z++)D[z]=I.charCodeAt(z);return D},S=t.__addimage__.arrayBufferToBinaryString=function(I){for(var k="",D=O(I)?I:new Uint8Array(I),z=0;z<D.length;z+=8192)k+=String.fromCharCode.apply(null,D.subarray(z,z+8192));return k};t.addImage=function(){var I,k,D,z,J,U,K,$,H;if(typeof arguments[1]=="number"?(k=e,D=arguments[1],z=arguments[2],J=arguments[3],U=arguments[4],K=arguments[5],$=arguments[6],H=arguments[7]):(k=arguments[1],D=arguments[2],z=arguments[3],J=arguments[4],U=arguments[5],K=arguments[6],$=arguments[7],H=arguments[8]),Tr(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var te=I;I=te.imageData,k=te.format||k||e,D=te.x||D||0,z=te.y||z||0,J=te.w||te.width||J,U=te.h||te.height||U,K=te.alias||K,$=te.compression||$,H=te.rotation||te.angle||H}var ie=this.internal.getFilters();if($===void 0&&ie.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(D)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var F=P.call(this,I,k,K,$);return g.call(this,D,z,J,U,F,H),this};var P=function(I,k,D,z){var J,U,K;if(typeof I=="string"&&n(I)===e){I=unescape(I);var $=R(I,!1);($!==""||($=t.loadFile(I,!0))!==void 0)&&(I=$)}if(f(I)&&(I=h(I,k)),k=n(I,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((K=D)==null||K.length===0)&&(D=function(H){return typeof H=="string"||O(H)?y(H):O(H.data)?y(H.data):null}(I)),(J=p.call(this,D))||(A()&&(I instanceof Uint8Array||k==="RGBA"||(U=I,I=N(I))),J=this["process"+k.toUpperCase()](I,c.call(this),D,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:v.NONE}(z),U)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},R=t.__addimage__.convertBase64ToBinaryString=function(I,k){k=typeof k!="boolean"||k;var D,z="";if(typeof I=="string"){var J;D=(J=C(I))!==null&&J!==void 0?J:I;try{z=wv(D)}catch(U){if(k)throw w(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(I){var k,D,z="";if(f(I)&&(I=h(I)),typeof I=="string"&&n(I)===e&&((z=R(I,!1))===""&&(z=t.loadFile(I)||""),I=z),D=n(I),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!A()||I instanceof Uint8Array||(I=N(I)),!(k=this["process"+D.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(Dt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Dt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(v(y))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var A=this.annotations._nameMap[n.options.name];n.options.pageNumber=A.page,n.options.top=A.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,s,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var u=this.splitTextToSize(r,s).length;o=Math.ceil(c*u)}else s=l,o=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,s,o,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var x=0,v=r,y="",w=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(w++,typeof(v=v[g.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(v),v=r,w=0),x===g.length-1&&(v=r,y+=g.charAt(x-(w-1)),x-=w-1,w=0)):(v=r,y+=g.charAt(x-w),x-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(g,x,v){return o(g)?a(g)===!1?-1:!c(g)||!o(x)&&!o(v)||!o(v)&&s(x)||s(g)&&!o(x)||s(g)&&l(x)||s(g)&&s(x)?0:u(g)&&o(x)&&!s(x)&&o(v)&&c(v)?3:s(g)||!o(v)?1:2:-1},p=function(g){var x=0,v=0,y=0,w="",C="",A="",O=(g=g||"").split("\\s+"),N=[];for(x=0;x<O.length;x+=1){for(N.push(""),v=0;v<O[x].length;v+=1)w=O[x][v],C=O[x][v-1],A=O[x][v+1],o(w)?(y=h(w,C,A),N[x]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):N[x]+=w;N[x]=f(N[x])}return N.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var y=0;for(v=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?v.push([p(x[y][0]),x[y][1],x[y][2]]):v.push([p(x[y])]);g=v}else g=p(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(Dt.API),Dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,C){return w.concat(x.splitTextToSize(C,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(g=this.getStringUnitWidth(l[y],{font:f})*u)&&(p=g);return p!==0&&(m=l.length),{w:p/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,m,g,x,v=[],y=[],w=[],C={},A={},O=[],N=[],S=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,I=h.margins||Object.assign({width:this.getPageWidth()},e),k=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",z=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=z,this.setFontSize(R),f==null)y=v=Object.keys(u[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&Tr(f[0])==="object")for(v=f.map(function(te){return te.name}),y=f.map(function(te){return te.prompt||te.name||""}),w=f.map(function(te){return te.align||"left"}),p=0;p<f.length;p+=1)A[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=v=f,w=v.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(C[x=v[p]]=u.map(function(te){return te[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[x],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)O.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[x]=Math.max.apply(null,O)+k+k,O=[]}if(P){var J={};for(p=0;p<v.length;p+=1)J[v[p]]={},J[v[p]].text=y[p],J[v[p]].align=w[p];var U=s.call(this,J,A);N=v.map(function(te){return new a(l,c,A[te],U,J[te].text,void 0,J[te].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var K=f.reduce(function(te,ie){return te[ie.name]=ie.align,te},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var $=s.call(this,u[p],A);for(g=0;g<v.length;g+=1){var H=u[p][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:H},this),o.call(this,new a(l,c,A[v[g]],$,H,p+2,K[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var m=l[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,m){return Math.max(p,m)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Dt.API);var RX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},DX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WN=jX(DX),MX=[100,200,300,400,500,600,700,800,900],k5e=jX(MX);function GN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return RX[a=a||"normal"]?a:"normal"}(t.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof WN[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function h7(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var j5e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},p7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function m7(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function R5e(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},j5e,r.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=GN(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+m7(a)+"' and default family '"+n+"'.");if(o=function(l,c){if(c[l])return c[l];var u=WN[l],f=u<=WN.normal?-1:1,h=h7(c,DX,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=RX[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=k5e[l],f=h7(c,MX,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+m7(a)+"'.");return o}function g7(t){return t.trimLeft()}function D5e(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function M5e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Q2,v7,y7,I3=["times"];(function(t){var e,r,n,i,a,o,s,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=F;Object.defineProperty(this,"pdf",{get:function(){return q}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Se){Q=!!Se}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Se){se=!!Se}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(Se){isNaN(Se)||(G=Se)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Se){isNaN(Se)||(le=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var W;typeof Se=="number"?W=[Se,Se,Se,Se]:((W=new Array(4))[0]=Se[0],W[1]=Se.length>=2?Se[1]:W[0],W[2]=Se.length>=3?Se[2]:W[0],W[3]=Se.length>=4?Se[3]:W[1]),c.margin=W}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Se){de=Se}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Se){ae=Se}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Se){ye=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(Se){ge=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var W;W=h(Se),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var W=h(Se);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var ve=null;function Re(Se,W){if(ve===null){var Pe=function(ce){var me=[];return Object.keys(ce).forEach(function(we){ce[we].forEach(function(Ue){var ze=null;switch(Ue){case"bold":ze={family:we,weight:"bold"};break;case"italic":ze={family:we,style:"italic"};break;case"bolditalic":ze={family:we,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:we}}ze!==null&&(ze.ref={name:we,style:Ue},me.push(ze))})}),me}(Se.getFontList());ve=function(ce){for(var me={},we=0;we<ce.length;++we){var Ue=GN(ce[we]),ze=Ue.family,et=Ue.stretch,at=Ue.style,Te=Ue.weight;me[ze]=me[ze]||{},me[ze][et]=me[ze][et]||{},me[ze][et][at]=me[ze][et][at]||{},me[ze][et][at][Te]=Ue}return me}(Pe.concat(W))}return ve}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(Se){ve=null,Me=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var W;if(this.ctx.font=Se,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Pe=W[1];W[2];var ce=W[3],me=W[4];W[5];var we=W[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(Ue==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var ze=function(rt){var vt,tt,Yt=[],$t=rt.trim();if($t==="")return I3;if($t in p7)return[p7[$t]];for(;$t!=="";){switch(tt=null,vt=($t=g7($t)).charAt(0)){case'"':case"'":tt=D5e($t.substring(1),vt);break;default:tt=M5e($t)}if(tt===null||(Yt.push(tt[0]),($t=g7(tt[1]))!==""&&$t.charAt(0)!==","))return I3;$t=$t.replace(/^,/,"")}return Yt}(we);if(this.fontFaces){var et=R5e(Re(this.pdf,this.fontFaces),ze.map(function(rt){return{family:rt,stretch:"normal",weight:ce,style:Pe}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var at="";(ce==="bold"||parseInt(ce,10)>=700||Pe==="bold")&&(at="bold"),Pe==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var Te="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<ze.length;Ge++){if(this.pdf.internal.getFont(ze[Ge],at,{noFallback:!0,disableWarning:!0})!==void 0){Te=ze[Ge];break}if(at==="bolditalic"&&this.pdf.internal.getFont(ze[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Te=ze[Ge],at="bold";else if(this.pdf.internal.getFont(ze[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Te=ze[Ge],at="normal";break}}if(Te===""){for(var Ye=0;Ye<ze.length;Ye++)if(Fe[ze[Ye]]){Te=Fe[ze[Ye]];break}}Te=Te===""?"Times":Te,this.pdf.setFont(Te,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,q){if(isNaN(F)||isNaN(q))throw Jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(F,q));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(F,q)},f.prototype.closePath=function(){var F=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Tr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){F=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.lineTo=function(F,q){if(isNaN(F)||isNaN(q))throw Jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(F,q));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,q,Q,se){if(isNaN(Q)||isNaN(se)||isNaN(F)||isNaN(q))throw Jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new o(Q,se)),le=this.ctx.transform.applyToPoint(new o(F,q));this.path.push({type:"qct",x1:le.x,y1:le.y,x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.bezierCurveTo=function(F,q,Q,se,G,le){if(isNaN(G)||isNaN(le)||isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se))throw Jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(G,le)),ae=this.ctx.transform.applyToPoint(new o(F,q)),ye=this.ctx.transform.applyToPoint(new o(Q,se));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ye.x,y2:ye.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},f.prototype.arc=function(F,q,Q,se,G,le){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(G))throw Jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(F,q));F=de.x,q=de.y;var ae=this.ctx.transform.applyToPoint(new o(0,Q)),ye=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ae.x-ye.x,2)+Math.pow(ae.y-ye.y,2))}Math.abs(G-se)>=2*Math.PI&&(se=0,G=2*Math.PI),this.path.push({type:"arc",x:F,y:q,radius:Q,startAngle:se,endAngle:G,counterclockwise:le})},f.prototype.arcTo=function(F,q,Q,se,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,q,Q,se){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se))throw Jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,q),this.lineTo(F+Q,q),this.lineTo(F+Q,q+se),this.lineTo(F,q+se),this.lineTo(F,q),this.lineTo(F+Q,q),this.lineTo(F,q)},f.prototype.fillRect=function(F,q,Q,se){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se))throw Jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,q,Q,se),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(F,q,Q,se){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se))throw Jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(F,q,Q,se),this.stroke())},f.prototype.clearRect=function(F,q,Q,se){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se))throw Jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,q,Q,se))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(F){var q,Q,se,G;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))q=0,Q=0,se=0,G=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(le!==null)q=parseInt(le[1]),Q=parseInt(le[2]),se=parseInt(le[3]),G=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)q=parseInt(le[1]),Q=parseInt(le[2]),se=parseInt(le[3]),G=parseFloat(le[4]);else{if(G=1,typeof F=="string"&&F.charAt(0)!=="#"){var de=new NX(F);F=de.ok?de.toHex():"#000000"}F.length===4?(q=F.substring(1,2),q+=q,Q=F.substring(2,3),Q+=Q,se=F.substring(3,4),se+=se):(q=F.substring(1,3),Q=F.substring(3,5),se=F.substring(5,7)),q=parseInt(q,16),Q=parseInt(Q,16),se=parseInt(se,16)}}return{r:q,g:Q,b:se,a:G,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,q,Q,se){if(isNaN(q)||isNaN(Q)||typeof F!="string")throw Jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var G=$(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;k.call(this,{text:F,x:q,y:Q,scale:le,angle:G,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function(F,q,Q,se){if(isNaN(q)||isNaN(Q)||typeof F!="string")throw Jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){se=isNaN(se)?void 0:se;var G=$(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;k.call(this,{text:F,x:q,y:Q,scale:le,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Q=this.pdf.internal.scaleFactor,se=q.internal.getFontSize(),G=q.getStringUnitWidth(F)*se/q.internal.scaleFactor,le=function(de){var ae=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new le({width:G*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(F,q){if(isNaN(F)||isNaN(q))throw Jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(F,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(F){if(isNaN(F))throw Jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(F,q){if(isNaN(F)||isNaN(q))throw Jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,F,q);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(F,q,Q,se,G,le){if(isNaN(F)||isNaN(q)||isNaN(Q)||isNaN(se)||isNaN(G)||isNaN(le))throw Jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(F,q,Q,se,G,le);this.ctx.transform=this.ctx.transform.multiply(de)},f.prototype.setTransform=function(F,q,Q,se,G,le){F=isNaN(F)?1:F,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,se=isNaN(se)?1:se,G=isNaN(G)?0:G,le=isNaN(le)?0:le,this.ctx.transform=new l(F,q,Q,se,G,le)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,q,Q,se,G,le,de,ae,ye){var ge=this.pdf.getImageProperties(F),ve=1,Re=1,Me=1,Se=1;se!==void 0&&ae!==void 0&&(Me=ae/se,Se=ye/G,ve=ge.width/se*ae/se,Re=ge.height/G*ye/G),le===void 0&&(le=q,de=Q,q=0,Q=0),se!==void 0&&ae===void 0&&(ae=se,ye=G),se===void 0&&ae===void 0&&(ae=ge.width,ye=ge.height);for(var W,Pe=this.ctx.transform.decompose(),ce=$(Pe.rotate.shx),me=new l,we=(me=(me=(me=me.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new s(le-q*Me,de-Q*Se,se*ve,G*Re)),Ue=x.call(this,we),ze=[],et=0;et<Ue.length;et+=1)ze.indexOf(Ue[et])===-1&&ze.push(Ue[et]);if(w(ze),this.autoPaging)for(var at=ze[0],Te=ze[ze.length-1],Fe=at;Fe<Te+1;Fe++){this.pdf.setPage(Fe);var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Fe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Fe===1?0:rt+(Fe-2)*vt;if(this.ctx.clip_path.length!==0){var Yt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-tt+Ye+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Yt}var $t=JSON.parse(JSON.stringify(we));$t=y([$t],this.posX+this.margin[3],-tt+Ye+this.ctx.prevPageLastElemOffset)[0];var Fn=(Fe>at||Fe<Te)&&g.call(this);Fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,vt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,ce),Fn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",we.x,we.y,we.w,we.h,null,null,ce)};var x=function(F,q,Q){var se=[];q=q||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":se.push(Math.floor((F.y+G)/Q)+1);break;case"arc":se.push(Math.floor((F.y+G-F.radius)/Q)+1),se.push(Math.floor((F.y+G+F.radius)/Q)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);se.push(Math.floor((le.y+G)/Q)+1),se.push(Math.floor((le.y+le.h+G)/Q)+1);break;case"bct":var de=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);se.push(Math.floor((de.y+G)/Q)+1),se.push(Math.floor((de.y+de.h+G)/Q)+1);break;case"rect":se.push(Math.floor((F.y+G)/Q)+1),se.push(Math.floor((F.y+F.h+G)/Q)+1)}for(var ae=0;ae<se.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<se[ae];)v.call(this);return se},v=function(){var F=this.fillStyle,q=this.strokeStyle,Q=this.font,se=this.lineCap,G=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=q,this.font=Q,this.lineCap=se,this.lineWidth=G,this.lineJoin=le},y=function(F,q,Q){for(var se=0;se<F.length;se++)switch(F[se].type){case"bct":F[se].x2+=q,F[se].y2+=Q;case"qct":F[se].x1+=q,F[se].y1+=Q;case"mt":case"lt":case"arc":default:F[se].x+=q,F[se].y+=Q}return F},w=function(F){return F.sort(function(q,Q){return q-Q})},C=function(F,q){for(var Q,se,G=this.fillStyle,le=this.strokeStyle,de=this.lineCap,ae=this.lineWidth,ye=Math.abs(ae*this.ctx.transform.scaleX),ge=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Me=[],Se=0;Se<Re.length;Se++)if(Re[Se].x!==void 0)for(var W=x.call(this,Re[Se]),Pe=0;Pe<W.length;Pe+=1)Me.indexOf(W[Pe])===-1&&Me.push(W[Pe]);for(var ce=0;ce<Me.length;ce++)for(;this.pdf.internal.getNumberOfPages()<Me[ce];)v.call(this);if(w(Me),this.autoPaging)for(var me=Me[0],we=Me[Me.length-1],Ue=me;Ue<we+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=G,this.strokeStyle=le,this.lineCap=de,this.lineWidth=ye,this.lineJoin=ge;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ue===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Ue===1?0:at+(Ue-2)*Te;if(this.ctx.clip_path.length!==0){var Ge=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-Fe+et+this.ctx.prevPageLastElemOffset),A.call(this,F,!0),this.path=Ge}if(se=JSON.parse(JSON.stringify(ve)),this.path=y(se,this.posX+this.margin[3],-Fe+et+this.ctx.prevPageLastElemOffset),q===!1||Ue===0){var Ye=(Ue>me||Ue<we)&&g.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Te,null).clip().discardPath()),A.call(this,F,q),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=ye,A.call(this,F,q),this.lineWidth=ae;this.path=ve},A=function(F,q){if((F!=="stroke"||q||!m.call(this))&&(F==="stroke"||q||!p.call(this))){for(var Q,se,G=[],le=this.path,de=0;de<le.length;de++){var ae=le[de];switch(ae.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:ae,deltas:[],abs:[]});break;case"lt":var ye=G.length;if(le[de-1]&&!isNaN(le[de-1].x)&&(Q=[ae.x-le[de-1].x,ae.y-le[de-1].y],ye>0)){for(;ye>=0;ye--)if(G[ye-1].close!==!0&&G[ye-1].begin!==!0){G[ye-1].deltas.push(Q),G[ye-1].abs.push(ae);break}}break;case"bct":Q=[ae.x1-le[de-1].x,ae.y1-le[de-1].y,ae.x2-le[de-1].x,ae.y2-le[de-1].y,ae.x-le[de-1].x,ae.y-le[de-1].y],G[G.length-1].deltas.push(Q);break;case"qct":var ge=le[de-1].x+2/3*(ae.x1-le[de-1].x),ve=le[de-1].y+2/3*(ae.y1-le[de-1].y),Re=ae.x+2/3*(ae.x1-ae.x),Me=ae.y+2/3*(ae.y1-ae.y),Se=ae.x,W=ae.y;Q=[ge-le[de-1].x,ve-le[de-1].y,Re-le[de-1].x,Me-le[de-1].y,Se-le[de-1].x,W-le[de-1].y],G[G.length-1].deltas.push(Q);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(ae)}}se=q?null:F==="stroke"?"stroke":"fill";for(var Pe=!1,ce=0;ce<G.length;ce++)if(G[ce].arc)for(var me=G[ce].abs,we=0;we<me.length;we++){var Ue=me[we];Ue.type==="arc"?S.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,q,!Pe):D.call(this,Ue.x,Ue.y),Pe=!0}else if(G[ce].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(G[ce].begin!==!0){var ze=G[ce].start.x,et=G[ce].start.y;z.call(this,G[ce].deltas,ze,et),Pe=!0}se&&P.call(this,se),q&&R.call(this)}},O=function(F){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Q;case"top":return F+q-Q;case"hanging":return F+q-2*Q;case"middle":return F+q/2-Q;case"ideographic":return F;case"alphabetic":default:return F}},N=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(q,Q){this.colorStops.push([q,Q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(F,q,Q,se,G,le,de,ae,ye){for(var ge=U.call(this,Q,se,G,le),ve=0;ve<ge.length;ve++){var Re=ge[ve];ve===0&&(ye?I.call(this,Re.x1+F,Re.y1+q):D.call(this,Re.x1+F,Re.y1+q)),J.call(this,F,q,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ae?R.call(this):P.call(this,de)},P=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(F,q){this.pdf.internal.out(r(F)+" "+n(q)+" m")},k=function(F){var q;switch(F.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Q=this.pdf.getTextDimensions(F.text),se=O.call(this,F.y),G=N.call(this,se)-Q.h,le=this.ctx.transform.applyToPoint(new o(F.x,se)),de=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var ye,ge,ve,Re=this.ctx.transform.applyToRectangle(new s(F.x,se,Q.w,Q.h)),Me=ae.applyToRectangle(new s(F.x,G,Q.w,Q.h)),Se=x.call(this,Me),W=[],Pe=0;Pe<Se.length;Pe+=1)W.indexOf(Se[Pe])===-1&&W.push(Se[Pe]);if(w(W),this.autoPaging)for(var ce=W[0],me=W[W.length-1],we=ce;we<me+1;we++){this.pdf.setPage(we);var Ue=we===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],at=et-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],Fe=Te-this.margin[3],Ge=we===1?0:ze+(we-2)*at;if(this.ctx.clip_path.length!==0){var Ye=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ye,this.posX+this.margin[3],-1*Ge+Ue),A.call(this,"fill",!0),this.path=Ye}var rt=y([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Ge+Ue+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*F.scale),ve=this.lineWidth,this.lineWidth=ve*F.scale);var vt=this.autoPaging!=="text";if(vt||rt.y+rt.h<=et){if(vt||rt.y>=Ue&&rt.x<=Te){var tt=vt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Te-rt.x)[0],Yt=y([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ge+Ue+this.ctx.prevPageLastElemOffset)[0],$t=vt&&(we>ce||we<me)&&g.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,at,null).clip().discardPath()),this.pdf.text(tt,Yt.x,Yt.y,{angle:F.angle,align:q,renderingMode:F.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else rt.y<et&&(this.ctx.prevPageLastElemOffset+=et-rt.y);F.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ve)}else F.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*F.scale),ve=this.lineWidth,this.lineWidth=ve*F.scale),this.pdf.text(F.text,le.x+this.posX,le.y+this.posY,{angle:F.angle,align:q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ve)},D=function(F,q,Q,se){Q=Q||0,se=se||0,this.pdf.internal.out(r(F+Q)+" "+n(q+se)+" l")},z=function(F,q,Q){return this.pdf.lines(F,q,Q,null,null)},J=function(F,q,Q,se,G,le,de,ae){this.pdf.internal.out([e(i(Q+F)),e(a(se+q)),e(i(G+F)),e(a(le+q)),e(i(de+F)),e(a(ae+q)),"c"].join(" "))},U=function(F,q,Q,se){for(var G=2*Math.PI,le=Math.PI/2;q>Q;)q-=G;var de=Math.abs(Q-q);de<G&&se&&(de=G-de);for(var ae=[],ye=se?-1:1,ge=q;de>1e-5;){var ve=ge+ye*Math.min(de,le);ae.push(K.call(this,F,ge,ve)),de-=Math.abs(ve-ge),ge=ve}return ae},K=function(F,q,Q){var se=(Q-q)/2,G=F*Math.cos(se),le=F*Math.sin(se),de=G,ae=-le,ye=de*de+ae*ae,ge=ye+de*G+ae*le,ve=4/3*(Math.sqrt(2*ye*ge)-ge)/(de*le-ae*G),Re=de-ve*ae,Me=ae+ve*de,Se=Re,W=-Me,Pe=se+q,ce=Math.cos(Pe),me=Math.sin(Pe);return{x1:F*Math.cos(q),y1:F*Math.sin(q),x2:Re*ce-Me*me,y2:Re*me+Me*ce,x3:Se*ce-W*me,y3:Se*me+W*ce,x4:F*Math.cos(Q),y4:F*Math.sin(Q)}},$=function(F){return 180*F/Math.PI},H=function(F,q,Q,se,G,le){var de=F+.5*(Q-F),ae=q+.5*(se-q),ye=G+.5*(Q-G),ge=le+.5*(se-le),ve=Math.min(F,G,de,ye),Re=Math.max(F,G,de,ye),Me=Math.min(q,le,ae,ge),Se=Math.max(q,le,ae,ge);return new s(ve,Me,Re-ve,Se-Me)},te=function(F,q,Q,se,G,le,de,ae){var ye,ge,ve,Re,Me,Se,W,Pe,ce,me,we,Ue,ze,et,at=Q-F,Te=se-q,Fe=G-Q,Ge=le-se,Ye=de-G,rt=ae-le;for(ge=0;ge<41;ge++)ce=(W=(ve=F+(ye=ge/40)*at)+ye*((Me=Q+ye*Fe)-ve))+ye*(Me+ye*(G+ye*Ye-Me)-W),me=(Pe=(Re=q+ye*Te)+ye*((Se=se+ye*Ge)-Re))+ye*(Se+ye*(le+ye*rt-Se)-Pe),ge==0?(we=ce,Ue=me,ze=ce,et=me):(we=Math.min(we,ce),Ue=Math.min(Ue,me),ze=Math.max(ze,ce),et=Math.max(et,me));return new s(Math.round(we),Math.round(Ue),Math.round(ze-we),Math.round(et-Ue))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,q,Q=(F=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:q}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Dt.API),function(t){var e=function(a){var o,s,l,c,u,f,h,p,m,g;for(s=[],l=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>l;l+=4)(u=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,s.push(f+33,h+33,p+33,m+33,g+33)):s.push(122);return function(x,v){for(var y=v;y>0;y--)x.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},r=function(a){var o,s,l,c,u,f=String,h="length",p=255,m="charCodeAt",g="slice",x="replace";for(a[g](-2),a=a[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(a+=o="uuuuu"[g](a[h]%5||5))[h];u>c;c+=5)s=52200625*(a[m](c)-33)+614125*(a[m](c+1)-33)+7225*(a[m](c+2)-33)+85*(a[m](c+3)-33)+(a[m](c+4)-33),l.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(v,y){for(var w=y;w>0;w--)v.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=UN(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Dt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(m){var g=m.length,x=[],v=String.fromCharCode;for(h=0;h<g;h+=1)x.push(v(255&m.charCodeAt(h)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,a,o)}catch{}return s}(e,r,n)},t.loadImageFile=t.loadFile}(Dt.API),function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):MN(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):MN(()=>import("./purify.es-Bf0oSh3b.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var s=Tr(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],m=p.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,c){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,c){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,s);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Dt.getPageSize=function(o,s,l){if(Tr(o)==="object"){var c=o;o=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+s}var p,m=0,g=0;if(h.hasOwnProperty(f))m=h[f][1]/u,g=h[f][0]/u;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>m&&(p=g,g=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(p=g,g=m,m=p)}return{width:g,height:m,unit:s,k:u,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(GN):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(Dt.API),Dt.API.addJS=function(t){return y7=t,this.internal.events.subscribe("postPutResources",function(){Q2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Q2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+y7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Q2!==void 0&&v7!==void 0&&this.internal.out("/Names <</JavaScript "+Q2+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},x=4;x<m;x+=2){if(x+=p,e.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),g={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(Dt.API);var sm,Z2,x7,w7,b7,L5e=function(){var t,e,r;function n(a){var o,s,l,c,u,f,h,p,m,g,x,v,y,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),m=(function(){var C,A;for(A=[],C=0;C<4;++C)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(f,h,p,m){var g,x,v,y,w,C,A,O,N,S,P,R,I,k,D,z,J,U,K,$,H,te=Math.ceil((c.width-f)/p),ie=Math.ceil((c.height-h)/m),F=c.width==te&&c.height==ie;for(k=o*te,R=F?s:new Uint8Array(k*ie),C=a.length,I=0,x=0;I<ie&&l<C;){switch(a[l++]){case 0:for(y=J=0;J<k;y=J+=1)R[x++]=a[l++];break;case 1:for(y=U=0;U<k;y=U+=1)g=a[l++],w=y<o?0:R[x-o],R[x++]=(g+w)%256;break;case 2:for(y=K=0;K<k;y=K+=1)g=a[l++],v=(y-y%o)/o,D=I&&R[(I-1)*k+v*o+y%o],R[x++]=(D+g)%256;break;case 3:for(y=$=0;$<k;y=$+=1)g=a[l++],v=(y-y%o)/o,w=y<o?0:R[x-o],D=I&&R[(I-1)*k+v*o+y%o],R[x++]=(g+Math.floor((w+D)/2))%256;break;case 4:for(y=H=0;H<k;y=H+=1)g=a[l++],v=(y-y%o)/o,w=y<o?0:R[x-o],I===0?D=z=0:(D=R[(I-1)*k+v*o+y%o],z=v&&R[(I-1)*k+(v-1)*o+y%o]),A=w+D-z,O=Math.abs(A-w),S=Math.abs(A-D),P=Math.abs(A-z),N=O<=S&&O<=P?w:S<=P?D:z,R[x++]=(g+N)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!F){var q=((h+I*m)*c.width+f)*o,Q=I*k;for(y=0;y<te;y+=1){for(var se=0;se<o;se+=1)s[q++]=R[Q++];q+=(p-1)*o}}I++}}return a=m5e(a),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),s},n.prototype.decodePalette=function(){var a,o,s,l,c,u,f,h,p;for(s=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)c[l++]=s[o],c[l++]=s[o+1],c[l++]=s[o+2],c[l++]=(p=u[a++])!=null?p:255;return c},n.prototype.copyToImageData=function(a,o){var s,l,c,u,f,h,p,m,g,x,v;if(l=this.colors,g=null,s=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,s=!0),m=(c=a.data||a).length,f=g||o,u=h=0,l===1)for(;u<m;)p=g?4*o[u/4]:h,x=f[p++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=s?f[p++]:255,h=p;else for(;u<m;)p=g?4*o[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=s?f[p++]:255,h=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{e=Ft.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,s,l,c,u,f,h,p;if(this.animation){for(p=[],s=u=0,f=(h=this.animation.frames).length;u<f;s=++u)o=h[s],l=a.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},n.prototype.renderFrame=function(a,o){var s,l,c;return s=(l=this.animation.frames)[o],c=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(a){var o,s,l,c,u,f,h=this;return s=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(o=function(){var p,m;if(p=s++%c,m=l[p],h.renderFrame(a,p),c>1&&s/c<u)return h.animation._timeout=setTimeout(o,m.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function F5e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var c=!0,u=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&g)&&(h=null),p=g>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,C=t[e++],A=C>>6&1,O=1<<(7&C)+1,N=s,S=l,P=!1;C>>7&&(P=!0,N=e,S=O,e+=3*O);var R=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}u.push({x,y:v,width:y,height:w,has_local_palette:P,palette_offset:N,palette_size:S,data_offset:R,data_length:e-R,transparent_index:h,interlaced:!!A,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,D){var z=this.frameInfo(k),J=z.width*z.height,U=new Uint8Array(J);_7(t,z.data_offset,U,J);var K=z.palette_offset,$=z.transparent_index;$===null&&($=256);var H=z.width,te=r-H,ie=H,F=4*(z.y*r+z.x),q=4*((z.y+z.height)*r+z.x),Q=F,se=4*te;z.interlaced===!0&&(se+=4*r*7);for(var G=8,le=0,de=U.length;le<de;++le){var ae=U[le];if(ie===0&&(ie=H,(Q+=se)>=q&&(se=4*te+4*r*(G-1),Q=F+(H+te)*(G<<1),G>>=1)),ae===$)Q+=4;else{var ye=t[K+3*ae],ge=t[K+3*ae+1],ve=t[K+3*ae+2];D[Q++]=ve,D[Q++]=ge,D[Q++]=ye,D[Q++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(k,D){var z=this.frameInfo(k),J=z.width*z.height,U=new Uint8Array(J);_7(t,z.data_offset,U,J);var K=z.palette_offset,$=z.transparent_index;$===null&&($=256);var H=z.width,te=r-H,ie=H,F=4*(z.y*r+z.x),q=4*((z.y+z.height)*r+z.x),Q=F,se=4*te;z.interlaced===!0&&(se+=4*r*7);for(var G=8,le=0,de=U.length;le<de;++le){var ae=U[le];if(ie===0&&(ie=H,(Q+=se)>=q&&(se=4*te+4*r*(G-1),Q=F+(H+te)*(G<<1),G>>=1)),ae===$)Q+=4;else{var ye=t[K+3*ae],ge=t[K+3*ae+1],ve=t[K+3*ae+2];D[Q++]=ye,D[Q++]=ge,D[Q++]=ve,D[Q++]=255}--ie}}}function _7(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=t[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var x=f&c;if(f>>=l,u-=l,x!==a){if(x===o)break;for(var v=x<s?x:g,y=0,w=v;w>a;)w=m[w]>>8,++y;var C=w;if(h+y+(v!==x?1:0)>n)return void Jr.log("Warning, gif stream longer than expected.");r[h++]=C;var A=h+=y;for(v!==x&&(r[h++]=C),w=v;y--;)w=m[w],r[--A]=255&w,w>>=8;g!==null&&s<4096&&(m[s++]=g<<8|C,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=x}else s=o+1,c=(1<<(l=i+1))-1,g=null}return h!==n&&Jr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function O3(t){var e,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),g=[],x=0,v=7,y=new Array(64),w=new Array(64),C=new Array(64),A=new Array(256),O=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(F,q){for(var Q=0,se=0,G=new Array,le=1;le<=16;le++){for(var de=1;de<=F[le];de++)G[q[se]]=[],G[q[se]][0]=Q,G[q[se]][1]=le,se++,Q++;Q*=2}return G}function K(F){for(var q=F[0],Q=F[1]-1;Q>=0;)q&1<<Q&&(x|=1<<v),Q--,--v<0&&(x==255?($(255),$(0)):$(x),v=7,x=0)}function $(F){g.push(F)}function H(F){$(F>>8&255),$(255&F)}function te(F,q,Q,se,G){for(var le,de=G[0],ae=G[240],ye=function(me,we){var Ue,ze,et,at,Te,Fe,Ge,Ye,rt,vt,tt=0;for(rt=0;rt<8;++rt){Ue=me[tt],ze=me[tt+1],et=me[tt+2],at=me[tt+3],Te=me[tt+4],Fe=me[tt+5],Ge=me[tt+6];var Yt=Ue+(Ye=me[tt+7]),$t=Ue-Ye,Fn=ze+Ge,Et=ze-Ge,jt=et+Fe,Ii=et-Fe,ct=at+Te,Jt=at-Te,It=Yt+ct,Wr=Yt-ct,xn=Fn+jt,Ar=Fn-jt;me[tt]=It+xn,me[tt+4]=It-xn;var Tt=.707106781*(Ar+Wr);me[tt+2]=Wr+Tt,me[tt+6]=Wr-Tt;var vr=.382683433*((It=Jt+Ii)-(Ar=Et+$t)),is=.5411961*It+vr,Zn=1.306562965*Ar+vr,ca=.707106781*(xn=Ii+Et),Io=$t+ca,xt=$t-ca;me[tt+5]=xt+is,me[tt+3]=xt-is,me[tt+1]=Io+Zn,me[tt+7]=Io-Zn,tt+=8}for(tt=0,rt=0;rt<8;++rt){Ue=me[tt],ze=me[tt+8],et=me[tt+16],at=me[tt+24],Te=me[tt+32],Fe=me[tt+40],Ge=me[tt+48];var no=Ue+(Ye=me[tt+56]),ua=Ue-Ye,Jn=ze+Ge,Bn=ze-Ge,On=et+Fe,ei=et-Fe,ku=at+Te,Fs=at-Te,da=no+ku,io=no-ku,Ma=Jn+On,La=Jn-On;me[tt]=da+Ma,me[tt+32]=da-Ma;var $n=.707106781*(La+io);me[tt+16]=io+$n,me[tt+48]=io-$n;var Oo=.382683433*((da=Fs+ei)-(La=Bn+ua)),kl=.5411961*da+Oo,jl=1.306562965*La+Oo,Rl=.707106781*(Ma=ei+Bn),Sc=ua+Rl,Ac=ua-Rl;me[tt+40]=Ac+kl,me[tt+24]=Ac-kl,me[tt+8]=Sc+jl,me[tt+56]=Sc-jl,tt++}for(rt=0;rt<64;++rt)vt=me[rt]*we[rt],p[rt]=vt>0?vt+.5|0:vt-.5|0;return p}(F,q),ge=0;ge<64;++ge)m[N[ge]]=ye[ge];var ve=m[0]-Q;Q=m[0],ve==0?K(se[0]):(K(se[h[le=32767+ve]]),K(f[le]));for(var Re=63;Re>0&&m[Re]==0;)Re--;if(Re==0)return K(de),Q;for(var Me,Se=1;Se<=Re;){for(var W=Se;m[Se]==0&&Se<=Re;)++Se;var Pe=Se-W;if(Pe>=16){Me=Pe>>4;for(var ce=1;ce<=Me;++ce)K(ae);Pe&=15}le=32767+m[Se],K(G[(Pe<<4)+h[le]]),K(f[le]),Se++}return Re!=63&&K(de),Q}function ie(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(q){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var G=o((Q[se]*q+50)/100);G=Math.min(Math.max(G,1),255),s[N[se]]=G}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=o((le[de]*q+50)/100);ae=Math.min(Math.max(ae,1),255),l[N[de]]=ae}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ve=0;ve<8;ve++)for(var Re=0;Re<8;Re++)c[ge]=1/(s[N[ge]]*ye[ve]*ye[Re]*8),u[ge]=1/(l[N[ge]]*ye[ve]*ye[Re]*8),ge++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,q){q&&ie(q),g=new Array,x=0,v=7,H(65496),H(65504),H(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),H(1),H(1),$(0),$(0),function(){H(65499),H(132),$(0);for(var ze=0;ze<64;ze++)$(s[ze]);$(1);for(var et=0;et<64;et++)$(l[et])}(),function(ze,et){H(65472),H(17),$(8),H(et),H(ze),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(F.width,F.height),function(){H(65476),H(418),$(0);for(var ze=0;ze<16;ze++)$(S[ze+1]);for(var et=0;et<=11;et++)$(P[et]);$(16);for(var at=0;at<16;at++)$(R[at+1]);for(var Te=0;Te<=161;Te++)$(I[Te]);$(1);for(var Fe=0;Fe<16;Fe++)$(k[Fe+1]);for(var Ge=0;Ge<=11;Ge++)$(D[Ge]);$(17);for(var Ye=0;Ye<16;Ye++)$(z[Ye+1]);for(var rt=0;rt<=161;rt++)$(J[rt])}(),H(65498),H(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var Q=0,se=0,G=0;x=0,v=7,this.encode.displayName="_encode_";for(var le,de,ae,ye,ge,ve,Re,Me,Se,W=F.data,Pe=F.width,ce=F.height,me=4*Pe,we=0;we<ce;){for(le=0;le<me;){for(ge=me*we+le,Re=-1,Me=0,Se=0;Se<64;Se++)ve=ge+(Me=Se>>3)*me+(Re=4*(7&Se)),we+Me>=ce&&(ve-=me*(we+1+Me-ce)),le+Re>=me&&(ve-=le+Re-me+4),de=W[ve++],ae=W[ve++],ye=W[ve++],y[Se]=(O[de]+O[ae+256>>0]+O[ye+512>>0]>>16)-128,w[Se]=(O[de+768>>0]+O[ae+1024>>0]+O[ye+1280>>0]>>16)-128,C[Se]=(O[de+1280>>0]+O[ae+1536>>0]+O[ye+1792>>0]>>16)-128;Q=te(y,c,Q,e,n),se=te(w,u,se,r,i),G=te(C,u,G,r,i),le+=32}we+=8}if(v>=0){var Ue=[];Ue[1]=v+1,Ue[0]=(1<<v+1)-1,K(Ue)}return H(65497),new Uint8Array(g)},t=t||50,function(){for(var F=String.fromCharCode,q=0;q<256;q++)A[q]=F(q)}(),e=U(S,P),r=U(k,D),n=U(R,I),i=U(z,J),function(){for(var F=1,q=2,Q=1;Q<=15;Q++){for(var se=F;se<q;se++)h[32767+se]=Q,f[32767+se]=[],f[32767+se][1]=Q,f[32767+se][0]=se;for(var G=-(q-1);G<=-F;G++)h[32767+G]=Q,f[32767+G]=[],f[32767+G][1]=Q,f[32767+G][0]=q-1+G;F<<=1,q<<=1}}(),function(){for(var F=0;F<256;F++)O[F]=19595*F,O[F+256>>0]=38470*F,O[F+512>>0]=7471*F+32768,O[F+768>>0]=-11059*F,O[F+1024>>0]=-21709*F,O[F+1280>>0]=32768*F+8421375,O[F+1536>>0]=-27439*F,O[F+1792>>0]=-5329*F}(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function S7(t){function e(S){if(!S)throw Error("assert :P")}function r(S,P,R){for(var I=0;4>I;I++)if(S[P+I]!=R.charCodeAt(I))return!0;return!1}function n(S,P,R,I,k){for(var D=0;D<k;D++)S[P+D]=R[I+D]}function i(S,P,R,I){for(var k=0;k<I;k++)S[P+k]=R}function a(S){return new Int32Array(S)}function o(S,P){for(var R=[],I=0;I<S;I++)R.push(new P);return R}function s(S,P){var R=[];return function I(k,D,z){for(var J=z[D],U=0;U<J&&(k.push(z.length>D+1?[]:new P),!(z.length<D+1));U++)I(k[U],D+1,z)}(R,0,S),R}var l=function(){var S=this;function P(b,T){for(var M=1<<T-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function R(b,T,M,B,X){e(!(B%M));do b[T+(B-=M)]=X;while(0<B)}function I(b,T,M,B,X){if(e(2328>=X),512>=X)var Z=a(512);else if((Z=a(X))==null)return 0;return function(ee,ne,oe,fe,be,Ie){var Oe,Ne,We=ne,Le=1<<oe,_e=a(16),Ae=a(16);for(e(be!=0),e(fe!=null),e(ee!=null),e(0<oe),Ne=0;Ne<be;++Ne){if(15<fe[Ne])return 0;++_e[fe[Ne]]}if(_e[0]==be)return 0;for(Ae[1]=0,Oe=1;15>Oe;++Oe){if(_e[Oe]>1<<Oe)return 0;Ae[Oe+1]=Ae[Oe]+_e[Oe]}for(Ne=0;Ne<be;++Ne)Oe=fe[Ne],0<fe[Ne]&&(Ie[Ae[Oe]++]=Ne);if(Ae[15]==1)return(fe=new k).g=0,fe.value=Ie[0],R(ee,We,1,Le,fe),Le;var He,Xe=-1,qe=Le-1,mt=0,ft=1,Ot=1,pt=1<<oe;for(Ne=0,Oe=1,be=2;Oe<=oe;++Oe,be<<=1){if(ft+=Ot<<=1,0>(Ot-=_e[Oe]))return 0;for(;0<_e[Oe];--_e[Oe])(fe=new k).g=Oe,fe.value=Ie[Ne++],R(ee,We+mt,be,pt,fe),mt=P(mt,Oe)}for(Oe=oe+1,be=2;15>=Oe;++Oe,be<<=1){if(ft+=Ot<<=1,0>(Ot-=_e[Oe]))return 0;for(;0<_e[Oe];--_e[Oe]){if(fe=new k,(mt&qe)!=Xe){for(We+=pt,He=1<<(Xe=Oe)-oe;15>Xe&&!(0>=(He-=_e[Xe]));)++Xe,He<<=1;Le+=pt=1<<(He=Xe-oe),ee[ne+(Xe=mt&qe)].g=He+oe,ee[ne+Xe].value=We-ne-Xe}fe.g=Oe-oe,fe.value=Ie[Ne++],R(ee,We+(mt>>oe),be,pt,fe),mt=P(mt,Oe)}}return ft!=2*Ae[15]-1?0:Le}(b,T,M,B,X,Z)}function k(){this.value=this.g=0}function D(){this.value=this.g=0}function z(){this.G=o(5,k),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ki,D)}function J(b,T,M,B){e(b!=null),e(T!=null),e(2147483648>B),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=M,b.Jd=T,b.Yc=M+B,b.Zc=4<=B?M+B-4+1:M,le(b)}function U(b,T){for(var M=0;0<T--;)M|=ae(b,128)<<T;return M}function K(b,T){var M=U(b,T);return de(b)?-M:M}function $(b,T,M,B){var X,Z=0;for(e(b!=null),e(T!=null),e(4294967288>B),b.Sb=B,b.Ra=0,b.u=0,b.h=0,4<B&&(B=4),X=0;X<B;++X)Z+=T[M+X]<<8*X;b.Ra=Z,b.bb=B,b.oa=T,b.pa=M}function H(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<zp-8>>>0,++b.bb,b.u-=8;Q(b)&&(b.h=1,b.u=0)}function te(b,T){if(e(0<=T),!b.h&&T<=Vp){var M=q(b)&Up[T];return b.u+=T,H(b),M}return b.h=1,b.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(b){return b.Ra>>>(b.u&zp-1)>>>0}function Q(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>zp}function se(b,T){b.u=T,b.h=Q(b)}function G(b){b.u>=e1&&(e(b.u>=e1),H(b))}function le(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function de(b){return U(b,1)}function ae(b,T){var M=b.Ca;0>b.b&&le(b);var B=b.b,X=M*T>>>8,Z=(b.I>>>B>X)+0;for(Z?(M-=X,b.I-=X+1<<B>>>0):M=X+1,B=M,X=0;256<=B;)X+=8,B>>=8;return B=7^X+oo[B],b.b-=B,b.Ca=(M<<B)-1,Z}function ye(b,T,M){b[T+0]=M>>24&255,b[T+1]=M>>16&255,b[T+2]=M>>8&255,b[T+3]=M>>0&255}function ge(b,T){return b[T+0]<<0|b[T+1]<<8}function ve(b,T){return ge(b,T)|b[T+2]<<16}function Re(b,T){return ge(b,T)|ge(b,T+2)<<16}function Me(b,T){var M=1<<T;return e(b!=null),e(0<T),b.X=a(M),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function Se(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),n(T.X,0,b.X,0,1<<T.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Pe(b,T,M,B){e(M!=null),e(B!=null);var X=M[0],Z=B[0];return X==0&&(X=(b*Z+T/2)/T),Z==0&&(Z=(T*X+b/2)/b),0>=X||0>=Z?0:(M[0]=X,B[0]=Z,1)}function ce(b,T){return b+(1<<T)-1>>>T}function me(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function we(b,T){S[T]=function(M,B,X,Z,ee,ne,oe){var fe;for(fe=0;fe<ee;++fe){var be=S[b](ne[oe+fe-1],X,Z+fe);ne[oe+fe]=me(M[B+fe],be)}}}function Ue(){this.ud=this.hd=this.jd=0}function ze(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function et(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function at(b,T){return et(b+(b-T+.5>>1))}function Te(b,T,M){return Math.abs(T-M)-Math.abs(b-M)}function Fe(b,T,M,B,X,Z,ee){for(B=Z[ee-1],M=0;M<X;++M)Z[ee+M]=B=me(b[T+M],B)}function Ge(b,T,M,B,X){var Z;for(Z=0;Z<M;++Z){var ee=b[T+Z],ne=ee>>8&255,oe=16711935&(oe=(oe=16711935&ee)+((ne<<16)+ne));B[X+Z]=(4278255360&ee)+oe>>>0}}function Ye(b,T){T.jd=b>>0&255,T.hd=b>>8&255,T.ud=b>>16&255}function rt(b,T,M,B,X,Z){var ee;for(ee=0;ee<B;++ee){var ne=T[M+ee],oe=ne>>>8,fe=ne,be=255&(be=(be=ne>>>16)+((b.jd<<24>>24)*(oe<<24>>24)>>>5));fe=255&(fe=(fe=fe+((b.hd<<24>>24)*(oe<<24>>24)>>>5))+((b.ud<<24>>24)*(be<<24>>24)>>>5)),X[Z+ee]=(4278255360&ne)+(be<<16)+fe}}function vt(b,T,M,B,X){S[T]=function(Z,ee,ne,oe,fe,be,Ie,Oe,Ne){for(oe=Ie;oe<Oe;++oe)for(Ie=0;Ie<Ne;++Ie)fe[be++]=X(ne[B(Z[ee++])])},S[b]=function(Z,ee,ne,oe,fe,be,Ie){var Oe=8>>Z.b,Ne=Z.Ea,We=Z.K[0],Le=Z.w;if(8>Oe)for(Z=(1<<Z.b)-1,Le=(1<<Oe)-1;ee<ne;++ee){var _e,Ae=0;for(_e=0;_e<Ne;++_e)_e&Z||(Ae=B(oe[fe++])),be[Ie++]=X(We[Ae&Le]),Ae>>=Oe}else S["VP8LMapColor"+M](oe,fe,We,Le,be,Ie,ee,ne,Ne)}}function tt(b,T,M,B,X){for(M=T+M;T<M;){var Z=b[T++];B[X++]=Z>>16&255,B[X++]=Z>>8&255,B[X++]=Z>>0&255}}function Yt(b,T,M,B,X){for(M=T+M;T<M;){var Z=b[T++];B[X++]=Z>>16&255,B[X++]=Z>>8&255,B[X++]=Z>>0&255,B[X++]=Z>>24&255}}function $t(b,T,M,B,X){for(M=T+M;T<M;){var Z=(ee=b[T++])>>16&240|ee>>12&15,ee=ee>>0&240|ee>>28&15;B[X++]=Z,B[X++]=ee}}function Fn(b,T,M,B,X){for(M=T+M;T<M;){var Z=(ee=b[T++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;B[X++]=Z,B[X++]=ee}}function Et(b,T,M,B,X){for(M=T+M;T<M;){var Z=b[T++];B[X++]=Z>>0&255,B[X++]=Z>>8&255,B[X++]=Z>>16&255}}function jt(b,T,M,B,X,Z){if(Z==0)for(M=T+M;T<M;)ye(B,((Z=b[T++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),X+=32;else n(B,X,b,T,M)}function Ii(b,T){S[T][0]=S[b+"0"],S[T][1]=S[b+"1"],S[T][2]=S[b+"2"],S[T][3]=S[b+"3"],S[T][4]=S[b+"4"],S[T][5]=S[b+"5"],S[T][6]=S[b+"6"],S[T][7]=S[b+"7"],S[T][8]=S[b+"8"],S[T][9]=S[b+"9"],S[T][10]=S[b+"10"],S[T][11]=S[b+"11"],S[T][12]=S[b+"12"],S[T][13]=S[b+"13"],S[T][14]=S[b+"0"],S[T][15]=S[b+"0"]}function ct(b){return b==WA||b==GA||b==Jx||b==KA}function Jt(){this.eb=[],this.size=this.A=this.fb=0}function It(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jt,this.f.kb=new It,this.sd=null}function xn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function vr(b,T){var M=b.T,B=T.ba.f.RGBA,X=B.eb,Z=B.fb+b.ka*B.A,ee=ds[T.ba.S],ne=b.y,oe=b.O,fe=b.f,be=b.N,Ie=b.ea,Oe=b.W,Ne=T.cc,We=T.dc,Le=T.Mc,_e=T.Nc,Ae=b.ka,He=b.ka+b.T,Xe=b.U,qe=Xe+1>>1;for(Ae==0?ee(ne,oe,null,null,fe,be,Ie,Oe,fe,be,Ie,Oe,X,Z,null,null,Xe):(ee(T.ec,T.fc,ne,oe,Ne,We,Le,_e,fe,be,Ie,Oe,X,Z-B.A,X,Z,Xe),++M);Ae+2<He;Ae+=2)Ne=fe,We=be,Le=Ie,_e=Oe,be+=b.Rc,Oe+=b.Rc,Z+=2*B.A,ee(ne,(oe+=2*b.fa)-b.fa,ne,oe,Ne,We,Le,_e,fe,be,Ie,Oe,X,Z-B.A,X,Z,Xe);return oe+=b.fa,b.j+He<b.o?(n(T.ec,T.fc,ne,oe,Xe),n(T.cc,T.dc,fe,be,qe),n(T.Mc,T.Nc,Ie,Oe,qe),M--):1&He||ee(ne,oe,null,null,fe,be,Ie,Oe,fe,be,Ie,Oe,X,Z+B.A,null,null,Xe),M}function is(b,T,M){var B=b.F,X=[b.J];if(B!=null){var Z=b.U,ee=T.ba.S,ne=ee==Zx||ee==Jx;T=T.ba.f.RGBA;var oe=[0],fe=b.ka;oe[0]=b.T,b.Kb&&(fe==0?--oe[0]:(--fe,X[0]-=b.width),b.j+b.ka+b.T==b.o&&(oe[0]=b.o-b.j-fe));var be=T.eb;fe=T.fb+fe*T.A,b=rn(B,X[0],b.width,Z,oe,be,fe+(ne?0:3),T.A),e(M==oe),b&&ct(ee)&&cs(be,fe,ne,Z,oe,T.A)}return 0}function Zn(b){var T=b.ma,M=T.ba.S,B=11>M,X=M==Xx||M==Qx||M==Zx||M==qA||M==12||ct(M);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Zg(T.Oa,b,X?11:12))return 0;if(X&&ct(M)&&Qe(),b.da)alert("todo:use_scaling");else{if(B){if(T.Ib=Tt,b.Kb){if(M=b.U+1>>1,T.memory=a(b.U+2*M),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+M,T.Ib=vr,Qe()}}else alert("todo:EmitYUV");X&&(T.Jb=is,B&&Ce())}if(B&&!V8){for(b=0;256>b;++b)Lne[b]=89858*(b-128)+t2>>e2,$ne[b]=-22014*(b-128)+t2,Bne[b]=-45773*(b-128),Fne[b]=113618*(b-128)+t2>>e2;for(b=s1;b<QA;++b)T=76283*(b-16)+t2>>e2,Une[b-s1]=Ir(T,255),Vne[b-s1]=Ir(T+8>>4,15);V8=1}return 1}function ca(b){var T=b.ma,M=b.U,B=b.T;return e(!(1&b.ka)),0>=M||0>=B?0:(M=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,M),T.Dc+=M,1)}function Io(b){b.ma.memory=null}function xt(b,T,M,B){return te(b,8)!=47?0:(T[0]=te(b,14)+1,M[0]=te(b,14)+1,B[0]=te(b,1),te(b,3)!=0?0:!b.h)}function no(b,T){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+te(T,M)+1}function ua(b,T){return 120<T?T-120:1<=(M=((M=Sne[T-1])>>4)*b+(8-(15&M)))?M:1;var M}function Jn(b,T,M){var B=q(M),X=b[T+=255&B].g-8;return 0<X&&(se(M,M.u+8),B=q(M),T+=b[T].value,T+=B&(1<<X)-1),se(M,M.u+b[T].g),b[T].value}function Bn(b,T,M){return M.g+=b.g,M.value+=b.value<<T>>>0,e(8>=M.g),b.g}function On(b,T,M){var B=b.xc;return e((T=B==0?0:b.vc[b.md*(M>>B)+(T>>B)])<b.Wb),b.Ya[T]}function ei(b,T,M,B){var X=b.ab,Z=b.c*T,ee=b.C;T=ee+T;var ne=M,oe=B;for(B=b.Ta,M=b.Ua;0<X--;){var fe=b.gc[X],be=ee,Ie=T,Oe=ne,Ne=oe,We=(oe=B,ne=M,fe.Ea);switch(e(be<Ie),e(Ie<=fe.nc),fe.hc){case 2:zx(Oe,Ne,(Ie-be)*We,oe,ne);break;case 0:var Le=be,_e=Ie,Ae=oe,He=ne,Xe=(pt=fe).Ea;Le==0&&(zA(Oe,Ne,null,null,1,Ae,He),Fe(Oe,Ne+1,0,0,Xe-1,Ae,He+1),Ne+=Xe,He+=Xe,++Le);for(var qe=1<<pt.b,mt=qe-1,ft=ce(Xe,pt.b),Ot=pt.K,pt=pt.w+(Le>>pt.b)*ft;Le<_e;){var Er=Ot,Mr=pt,yr=1;for(t1(Oe,Ne,Ae,He-Xe,1,Ae,He);yr<Xe;){var or=(yr&~mt)+qe;or>Xe&&(or=Xe),(0,Xu[Er[Mr++]>>8&15])(Oe,Ne+ +yr,Ae,He+yr-Xe,or-yr,Ae,He+yr),yr=or}Ne+=Xe,He+=Xe,++Le&mt||(pt+=ft)}Ie!=fe.nc&&n(oe,ne-We,oe,ne+(Ie-be-1)*We,We);break;case 1:for(We=Oe,_e=Ne,Xe=(Oe=fe.Ea)-(He=Oe&~(Ae=(Ne=1<<fe.b)-1)),Le=ce(Oe,fe.b),qe=fe.K,fe=fe.w+(be>>fe.b)*Le;be<Ie;){for(mt=qe,ft=fe,Ot=new Ue,pt=_e+He,Er=_e+Oe;_e<pt;)Ye(mt[ft++],Ot),Zf(Ot,We,_e,Ne,oe,ne),_e+=Ne,ne+=Ne;_e<Er&&(Ye(mt[ft++],Ot),Zf(Ot,We,_e,Xe,oe,ne),_e+=Xe,ne+=Xe),++be&Ae||(fe+=Le)}break;case 3:if(Oe==oe&&Ne==ne&&0<fe.b){for(_e=oe,Oe=We=ne+(Ie-be)*We-(He=(Ie-be)*ce(fe.Ea,fe.b)),Ne=oe,Ae=ne,Le=[],He=(Xe=He)-1;0<=He;--He)Le[He]=Ne[Ae+He];for(He=Xe-1;0<=He;--He)_e[Oe+He]=Le[He];os(fe,be,Ie,oe,We,oe,ne)}else os(fe,be,Ie,Oe,Ne,oe,ne)}ne=B,oe=M}oe!=M&&n(B,M,ne,oe,Z)}function ku(b,T){var M=b.V,B=b.Ba+b.c*b.C,X=T-b.C;if(e(T<=b.l.o),e(16>=X),0<X){var Z=b.l,ee=b.Ta,ne=b.Ua,oe=Z.width;if(ei(b,X,M,B),X=ne=[ne],e((M=b.C)<(B=T)),e(Z.v<Z.va),B>Z.o&&(B=Z.o),M<Z.j){var fe=Z.j-M;M=Z.j,X[0]+=fe*oe}if(M>=B?M=0:(X[0]+=4*Z.v,Z.ka=M-Z.j,Z.U=Z.va-Z.v,Z.T=B-M,M=1),M){if(ne=ne[0],11>(M=b.ca).S){var be=M.f.RGBA,Ie=(B=M.S,X=Z.U,Z=Z.T,fe=be.eb,be.A),Oe=Z;for(be=be.fb+b.Ma*be.A;0<Oe--;){var Ne=ee,We=ne,Le=X,_e=fe,Ae=be;switch(B){case Yx:so(Ne,We,Le,_e,Ae);break;case Xx:Ba(Ne,We,Le,_e,Ae);break;case WA:Ba(Ne,We,Le,_e,Ae),cs(_e,Ae,0,Le,1,0);break;case j8:Dc(Ne,We,Le,_e,Ae);break;case Qx:jt(Ne,We,Le,_e,Ae,1);break;case GA:jt(Ne,We,Le,_e,Ae,1),cs(_e,Ae,0,Le,1,0);break;case Zx:jt(Ne,We,Le,_e,Ae,0);break;case Jx:jt(Ne,We,Le,_e,Ae,0),cs(_e,Ae,1,Le,1,0);break;case qA:Qu(Ne,We,Le,_e,Ae);break;case KA:Qu(Ne,We,Le,_e,Ae),tn(_e,Ae,Le,1,0);break;case R8:Rc(Ne,We,Le,_e,Ae);break;default:e(0)}ne+=oe,be+=Ie}b.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=M.height)}}b.C=T,e(b.C<=b.i)}function Fs(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var M=b.Ya[T].G,B=b.Ya[T].H;if(0<M[1][B[1]+0].g||0<M[2][B[2]+0].g||0<M[3][B[3]+0].g)return 0}return 1}function da(b,T,M,B,X,Z){if(b.Z!=0){var ee=b.qd,ne=b.rd;for(e(td[b.Z]!=null);T<M;++T)td[b.Z](ee,ne,B,X,B,X,Z),ee=B,ne=X,X+=Z;b.qd=ee,b.rd=ne}}function io(b,T){var M=b.l.ma,B=M.Z==0||M.Z==1?b.l.j:b.C;if(B=b.C<B?B:b.C,e(T<=b.l.o),T>B){var X=b.l.width,Z=M.ca,ee=M.tb+X*B,ne=b.V,oe=b.Ba+b.c*B,fe=b.gc;e(b.ab==1),e(fe[0].hc==3),Hx(fe[0],B,T,ne,oe,Z,ee),da(M,B,T,Z,ee,X)}b.C=b.Ma=T}function Ma(b,T,M,B,X,Z,ee){var ne=b.$/B,oe=b.$%B,fe=b.m,be=b.s,Ie=M+b.$,Oe=Ie;X=M+B*X;var Ne=M+B*Z,We=280+be.ua,Le=b.Pb?ne:16777216,_e=0<be.ua?be.Wa:null,Ae=be.wc,He=Ie<Ne?On(be,oe,ne):null;e(b.C<Z),e(Ne<=X);var Xe=!1;e:for(;;){for(;Xe||Ie<Ne;){var qe=0;if(ne>=Le){var mt=Ie-M;e((Le=b).Pb),Le.wd=Le.m,Le.xd=mt,0<Le.s.ua&&Se(Le.s.Wa,Le.s.vb),Le=ne+Ene}if(oe&Ae||(He=On(be,oe,ne)),e(He!=null),He.Qb&&(T[Ie]=He.qb,Xe=!0),!Xe)if(G(fe),He.jc){qe=fe,mt=T;var ft=Ie,Ot=He.pd[q(qe)&Ki-1];e(He.jc),256>Ot.g?(se(qe,qe.u+Ot.g),mt[ft]=Ot.value,qe=0):(se(qe,qe.u+Ot.g-256),e(256<=Ot.value),qe=Ot.value),qe==0&&(Xe=!0)}else qe=Jn(He.G[0],He.H[0],fe);if(fe.h)break;if(Xe||256>qe){if(!Xe)if(He.nd)T[Ie]=(He.qb|qe<<8)>>>0;else{if(G(fe),Xe=Jn(He.G[1],He.H[1],fe),G(fe),mt=Jn(He.G[2],He.H[2],fe),ft=Jn(He.G[3],He.H[3],fe),fe.h)break;T[Ie]=(ft<<24|Xe<<16|qe<<8|mt)>>>0}if(Xe=!1,++Ie,++oe>=B&&(oe=0,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(b,ne),_e!=null))for(;Oe<Ie;)qe=T[Oe++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else if(280>qe){if(qe=no(qe-256,fe),mt=Jn(He.G[4],He.H[4],fe),G(fe),mt=ua(B,mt=no(mt,fe)),fe.h)break;if(Ie-M<mt||X-Ie<qe)break e;for(ft=0;ft<qe;++ft)T[Ie+ft]=T[Ie+ft-mt];for(Ie+=qe,oe+=qe;oe>=B;)oe-=B,++ne,ee!=null&&ne<=Z&&!(ne%16)&&ee(b,ne);if(e(Ie<=X),oe&Ae&&(He=On(be,oe,ne)),_e!=null)for(;Oe<Ie;)qe=T[Oe++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else{if(!(qe<We))break e;for(Xe=qe-280,e(_e!=null);Oe<Ie;)qe=T[Oe++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe;qe=Ie,e(!(Xe>>>(mt=_e).Xa)),T[qe]=mt.X[Xe],Xe=!0}Xe||e(fe.h==Q(fe))}if(b.Pb&&fe.h&&Ie<X)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Se(b.s.vb,b.s.Wa);else{if(fe.h)break e;ee!=null&&ee(b,ne>Z?Z:ne),b.a=0,b.$=Ie-M}return 1}return b.a=3,0}function La(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function $n(){var b=new Bp;return b==null?null:(b.a=0,b.xb=L8,Ii("Predictor","VP8LPredictors"),Ii("Predictor","VP8LPredictors_C"),Ii("PredictorAdd","VP8LPredictorsAdd"),Ii("PredictorAdd","VP8LPredictorsAdd_C"),zx=Ge,Zf=rt,so=tt,Ba=Yt,Qu=$t,Rc=Fn,Dc=Et,S.VP8LMapColor32b=Hp,S.VP8LMapColor8b=qx,b)}function Oo(b,T,M,B,X){var Z=1,ee=[b],ne=[T],oe=B.m,fe=B.s,be=null,Ie=0;e:for(;;){if(M)for(;Z&&te(oe,1);){var Oe=ee,Ne=ne,We=B,Le=1,_e=We.m,Ae=We.gc[We.ab],He=te(_e,2);if(We.Oc&1<<He)Z=0;else{switch(We.Oc|=1<<He,Ae.hc=He,Ae.Ea=Oe[0],Ae.nc=Ne[0],Ae.K=[null],++We.ab,e(4>=We.ab),He){case 0:case 1:Ae.b=te(_e,3)+2,Le=Oo(ce(Ae.Ea,Ae.b),ce(Ae.nc,Ae.b),0,We,Ae.K),Ae.K=Ae.K[0];break;case 3:var Xe,qe=te(_e,8)+1,mt=16<qe?0:4<qe?1:2<qe?2:3;if(Oe[0]=ce(Ae.Ea,mt),Ae.b=mt,Xe=Le=Oo(qe,1,0,We,Ae.K)){var ft,Ot=qe,pt=Ae,Er=1<<(8>>pt.b),Mr=a(Er);if(Mr==null)Xe=0;else{var yr=pt.K[0],or=pt.w;for(Mr[0]=pt.K[0][0],ft=1;ft<1*Ot;++ft)Mr[ft]=me(yr[or+ft],Mr[ft-1]);for(;ft<4*Er;++ft)Mr[ft]=0;pt.K[0]=null,pt.K[0]=Mr,Xe=1}}Le=Xe;break;case 2:break;default:e(0)}Z=Le}}if(ee=ee[0],ne=ne[0],Z&&te(oe,1)&&!(Z=1<=(Ie=te(oe,4))&&11>=Ie)){B.a=3;break e}var Zr;if(Zr=Z)t:{var Gr,Xt,ti,lo=B,ri=ee,co=ne,Lr=Ie,Mo=M,Lo=lo.m,Oi=lo.s,Yi=[null],Ua=1,fs=0,Hl=Ane[Lr];r:for(;;){if(Mo&&te(Lo,1)){var ki=te(Lo,3)+2,Bc=ce(ri,ki),nh=ce(co,ki),Yp=Bc*nh;if(!Oo(Bc,nh,0,lo,Yi))break r;for(Yi=Yi[0],Oi.xc=ki,Gr=0;Gr<Yp;++Gr){var rd=Yi[Gr]>>8&65535;Yi[Gr]=rd,rd>=Ua&&(Ua=rd+1)}}if(Lo.h)break r;for(Xt=0;5>Xt;++Xt){var jn=D8[Xt];!Xt&&0<Lr&&(jn+=1<<Lr),fs<jn&&(fs=jn)}var ZA=o(Ua*Hl,k),q8=Ua,W8=o(q8,z);if(W8==null)var n2=null;else e(65536>=q8),n2=W8;var l1=a(fs);if(n2==null||l1==null||ZA==null){lo.a=1;break r}var i2=ZA;for(Gr=ti=0;Gr<Ua;++Gr){var Ks=n2[Gr],Xp=Ks.G,Qp=Ks.H,G8=0,a2=1,K8=0;for(Xt=0;5>Xt;++Xt){jn=D8[Xt],Xp[Xt]=i2,Qp[Xt]=ti,!Xt&&0<Lr&&(jn+=1<<Lr);i:{var o2,JA=jn,s2=lo,c1=l1,qne=i2,Wne=ti,eE=0,nd=s2.m,Gne=te(nd,1);if(i(c1,0,0,JA),Gne){var Kne=te(nd,1)+1,Yne=te(nd,1),Y8=te(nd,Yne==0?1:8);c1[Y8]=1,Kne==2&&(c1[Y8=te(nd,8)]=1);var l2=1}else{var X8=a(19),Q8=te(nd,4)+4;if(19<Q8){s2.a=3;var c2=0;break i}for(o2=0;o2<Q8;++o2)X8[_ne[o2]]=te(nd,3);var tE=void 0,u1=void 0,Z8=s2,Xne=X8,u2=JA,J8=c1,rE=0,id=Z8.m,ej=8,tj=o(128,k);n:for(;I(tj,0,7,Xne,19);){if(te(id,1)){var Qne=2+2*te(id,3);if((tE=2+te(id,Qne))>u2)break n}else tE=u2;for(u1=0;u1<u2&&tE--;){G(id);var rj=tj[0+(127&q(id))];se(id,id.u+rj.g);var Zp=rj.value;if(16>Zp)J8[u1++]=Zp,Zp!=0&&(ej=Zp);else{var Zne=Zp==16,nj=Zp-16,Jne=wne[nj],ij=te(id,xne[nj])+Jne;if(u1+ij>u2)break n;for(var eie=Zne?ej:0;0<ij--;)J8[u1++]=eie}}rE=1;break n}rE||(Z8.a=3),l2=rE}(l2=l2&&!nd.h)&&(eE=I(qne,Wne,8,c1,JA)),l2&&eE!=0?c2=eE:(s2.a=3,c2=0)}if(c2==0)break r;if(a2&&bne[Xt]==1&&(a2=i2[ti].g==0),G8+=i2[ti].g,ti+=c2,3>=Xt){var d1,nE=l1[0];for(d1=1;d1<jn;++d1)l1[d1]>nE&&(nE=l1[d1]);K8+=nE}}if(Ks.nd=a2,Ks.Qb=0,a2&&(Ks.qb=(Xp[3][Qp[3]+0].value<<24|Xp[1][Qp[1]+0].value<<16|Xp[2][Qp[2]+0].value)>>>0,G8==0&&256>Xp[0][Qp[0]+0].value&&(Ks.Qb=1,Ks.qb+=Xp[0][Qp[0]+0].value<<8)),Ks.jc=!Ks.Qb&&6>K8,Ks.jc){var d2,$c=Ks;for(d2=0;d2<Ki;++d2){var ad=d2,od=$c.pd[ad],f2=$c.G[0][$c.H[0]+ad];256<=f2.value?(od.g=f2.g+256,od.value=f2.value):(od.g=0,od.value=0,ad>>=Bn(f2,8,od),ad>>=Bn($c.G[1][$c.H[1]+ad],16,od),ad>>=Bn($c.G[2][$c.H[2]+ad],0,od),Bn($c.G[3][$c.H[3]+ad],24,od))}}}Oi.vc=Yi,Oi.Wb=Ua,Oi.Ya=n2,Oi.yc=ZA,Zr=1;break t}Zr=0}if(!(Z=Zr)){B.a=3;break e}if(0<Ie){if(fe.ua=1<<Ie,!Me(fe.Wa,Ie)){B.a=1,Z=0;break e}}else fe.ua=0;var iE=B,aj=ee,tie=ne,aE=iE.s,oE=aE.xc;if(iE.c=aj,iE.i=tie,aE.md=ce(aj,oE),aE.wc=oE==0?-1:(1<<oE)-1,M){B.xb=kne;break e}if((be=a(ee*ne))==null){B.a=1,Z=0;break e}Z=(Z=Ma(B,be,0,ee,ne,ne,null))&&!oe.h;break e}return Z?(X!=null?X[0]=be:(e(be==null),e(M)),B.$=0,M||La(fe)):La(fe),Z}function kl(b,T){var M=b.c*b.i,B=M+T+16*T;return e(b.c<=T),b.V=a(B),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+T,1)}function jl(b,T){var M=b.C,B=T-M,X=b.V,Z=b.Ba+b.c*M;for(e(T<=b.l.o);0<B;){var ee=16<B?16:B,ne=b.l.ma,oe=b.l.width,fe=oe*ee,be=ne.ca,Ie=ne.tb+oe*M,Oe=b.Ta,Ne=b.Ua;ei(b,ee,X,Z),Vn(Oe,Ne,be,Ie,fe),da(ne,M,M+ee,be,Ie,oe),B-=ee,X+=ee*b.c,M+=ee}e(M==T),b.C=b.Ma=T}function Rl(){this.ub=this.yd=this.td=this.Rb=0}function Sc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ac(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Pp(){this.Yb=function(){var b=[];return function T(M,B,X){for(var Z=X[B],ee=0;ee<Z&&(M.push(X.length>B+1?[]:0),!(X.length<B+1));ee++)T(M[ee],B+1,X)}(b,0,[3,11]),b}()}function ju(){this.jb=a(3),this.Wc=s([4,8],Pp),this.Xc=s([4,17],Pp)}function Ip(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Dl(){this.ld=this.La=this.dd=this.tc=0}function Ml(){this.Na=this.la=0}function Bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ec(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kg(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dl),this.Y=0,this.ya=Array(new Ec),this.aa=0,this.l=new Cc}function Ff(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Op(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new Rl,this.Kc=new Sc,this.ed=new Ip,this.Qa=new Ac,this.Ic=this.$c=this.Aa=0,this.D=new Kg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ie),this.ia=0,this.pb=o(4,Bs),this.Pa=new ju,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ff),this.Hd=0,this.rb=Array(new Ml),this.sb=0,this.wa=Array(new Dl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ec),this.L=this.aa=0,this.gd=s([4,2],Dl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Bf(){var b=new Op;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,o1||(o1=kp)),b}function ln(b,T,M){return b.a==0&&(b.a=T,b.sc=M,b.cb=0),0}function $f(b,T,M){return 3<=M&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function Uf(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return ln(b,2,"null VP8Io passed to VP8GetHeaders()");var M=T.data,B=T.w,X=T.ha;if(4>X)return ln(b,7,"Truncated header.");var Z=M[B+0]|M[B+1]<<8|M[B+2]<<16,ee=b.Od;if(ee.Rb=!(1&Z),ee.td=Z>>1&7,ee.yd=Z>>4&1,ee.ub=Z>>5,3<ee.td)return ln(b,3,"Incorrect keyframe parameters.");if(!ee.yd)return ln(b,4,"Frame not displayable.");B+=3,X-=3;var ne=b.Kc;if(ee.Rb){if(7>X)return ln(b,7,"cannot parse picture header");if(!$f(M,B,X))return ln(b,3,"Bad code word");ne.c=16383&(M[B+4]<<8|M[B+3]),ne.Td=M[B+4]>>6,ne.i=16383&(M[B+6]<<8|M[B+5]),ne.Ud=M[B+6]>>6,B+=7,X-=7,b.za=ne.c+15>>4,b.Ub=ne.i+15>>4,T.width=ne.c,T.height=ne.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((Z=b.Pa).jb,0,255,Z.jb.length),e((Z=b.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(ee.ub>X)return ln(b,7,"bad partition length");J(Z=b.m,M,B,ee.ub),B+=ee.ub,X-=ee.ub,ee.Rb&&(ne.Ld=de(Z),ne.Kd=de(Z)),ne=b.Qa;var oe,fe=b.Pa;if(e(Z!=null),e(ne!=null),ne.Cb=de(Z),ne.Cb){if(ne.Bb=de(Z),de(Z)){for(ne.Fb=de(Z),oe=0;4>oe;++oe)ne.Zb[oe]=de(Z)?K(Z,7):0;for(oe=0;4>oe;++oe)ne.Lb[oe]=de(Z)?K(Z,6):0}if(ne.Bb)for(oe=0;3>oe;++oe)fe.jb[oe]=de(Z)?U(Z,8):255}else ne.Bb=0;if(Z.Ka)return ln(b,3,"cannot parse segment header");if((ne=b.ed).zd=de(Z),ne.Tb=U(Z,6),ne.wb=U(Z,3),ne.Pc=de(Z),ne.Pc&&de(Z)){for(fe=0;4>fe;++fe)de(Z)&&(ne.vd[fe]=K(Z,6));for(fe=0;4>fe;++fe)de(Z)&&(ne.od[fe]=K(Z,6))}if(b.L=ne.Tb==0?0:ne.zd?1:2,Z.Ka)return ln(b,3,"cannot parse filter header");var be=X;if(X=oe=B,B=oe+be,ne=be,b.Xb=(1<<U(b.m,2))-1,be<3*(fe=b.Xb))M=7;else{for(oe+=3*fe,ne-=3*fe,be=0;be<fe;++be){var Ie=M[X+0]|M[X+1]<<8|M[X+2]<<16;Ie>ne&&(Ie=ne),J(b.Jc[+be],M,oe,Ie),oe+=Ie,ne-=Ie,X+=3}J(b.Jc[+fe],M,oe,ne),M=oe<B?0:5}if(M!=0)return ln(b,M,"cannot parse partitions");for(M=U(oe=b.m,7),X=de(oe)?K(oe,4):0,B=de(oe)?K(oe,4):0,ne=de(oe)?K(oe,4):0,fe=de(oe)?K(oe,4):0,oe=de(oe)?K(oe,4):0,be=b.Qa,Ie=0;4>Ie;++Ie){if(be.Cb){var Oe=be.Zb[Ie];be.Fb||(Oe+=M)}else{if(0<Ie){b.pb[Ie]=b.pb[0];continue}Oe=M}var Ne=b.pb[Ie];Ne.Sc[0]=YA[Ir(Oe+X,127)],Ne.Sc[1]=XA[Ir(Oe+0,127)],Ne.Eb[0]=2*YA[Ir(Oe+B,127)],Ne.Eb[1]=101581*XA[Ir(Oe+ne,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=YA[Ir(Oe+fe,117)],Ne.Qc[1]=XA[Ir(Oe+oe,127)],Ne.lc=Oe+oe}if(!ee.Rb)return ln(b,4,"Not a key frame.");for(de(Z),ee=b.Pa,M=0;4>M;++M){for(X=0;8>X;++X)for(B=0;3>B;++B)for(ne=0;11>ne;++ne)fe=ae(Z,Ine[M][X][B][ne])?U(Z,8):Tne[M][X][B][ne],ee.Wc[M][X].Yb[B][ne]=fe;for(X=0;17>X;++X)ee.Xc[M][X]=ee.Wc[M][One[X]]}return b.kc=de(Z),b.kc&&(b.Bd=U(Z,8)),b.cb=1}function kp(b,T,M,B,X,Z,ee){var ne=T[X].Yb[M];for(M=0;16>X;++X){if(!ae(b,ne[M+0]))return X;for(;!ae(b,ne[M+1]);)if(ne=T[++X].Yb[0],M=0,X==16)return 16;var oe=T[X+1].Yb;if(ae(b,ne[M+2])){var fe=b,be=0;if(ae(fe,(Oe=ne)[(Ie=M)+3]))if(ae(fe,Oe[Ie+6])){for(ne=0,Ie=2*(be=ae(fe,Oe[Ie+8]))+(Oe=ae(fe,Oe[Ie+9+be])),be=0,Oe=Cne[Ie];Oe[ne];++ne)be+=be+ae(fe,Oe[ne]);be+=3+(8<<Ie)}else ae(fe,Oe[Ie+7])?(be=7+2*ae(fe,165),be+=ae(fe,145)):be=5+ae(fe,159);else be=ae(fe,Oe[Ie+4])?3+ae(fe,Oe[Ie+5]):2;ne=oe[2]}else be=1,ne=oe[1];oe=ee+Nne[X],0>(fe=b).b&&le(fe);var Ie,Oe=fe.b,Ne=(Ie=fe.Ca>>1)-(fe.I>>Oe)>>31;--fe.b,fe.Ca+=Ne,fe.Ca|=1,fe.I-=(Ie+1&Ne)<<Oe,Z[oe]=((be^Ne)-Ne)*B[(0<X)+0]}return 16}function Vf(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function jp(b,T){if(b==null)return 0;if(T==null)return ln(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Uf(b,T))return 0;if(e(b.cb),T.ac==null||T.ac(T)){T.ob&&(b.L=0);var M=r2[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=T.v-M>>4,b.zb=T.j-M>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=T.o+15+M>>4,b.Hb=T.va+15+M>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var B=b.ed;for(M=0;4>M;++M){var X;if(b.Qa.Cb){var Z=b.Qa.Lb[M];b.Qa.Fb||(Z+=B.Tb)}else Z=B.Tb;for(X=0;1>=X;++X){var ee=b.gd[M][X],ne=Z;if(B.Pc&&(ne+=B.vd[0],X&&(ne+=B.od[0])),0<(ne=0>ne?0:63<ne?63:ne)){var oe=ne;0<B.wb&&(oe=4<B.wb?oe>>2:oe>>1)>9-B.wb&&(oe=9-B.wb),1>oe&&(oe=1),ee.dd=oe,ee.tc=2*ne+oe,ee.ld=40<=ne?2:15<=ne?1:0}else ee.tc=0;ee.La=X}}}M=0}else ln(b,6,"Frame setup failed"),M=b.a;if(M=M==0){if(M){b.$c=0,0<b.Aa||(b.Ic=Hne);e:{M=b.Ic,B=4*(oe=b.za);var fe=32*oe,be=oe+1,Ie=0<b.L?oe*(0<b.Aa?2:1):0,Oe=(b.Aa==2?2:1)*oe;if((ee=B+832+(X=3*(16*M+r2[b.L])/2*fe)+(Z=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ee)M=0;else{if(ee>b.Vb){if(b.Vb=0,b.Ec=a(ee),b.Fc=0,b.Ec==null){M=ln(b,1,"no memory during frame initialization.");break e}b.Vb=ee}ee=b.Ec,ne=b.Fc,b.Ac=ee,b.Bc=ne,ne+=B,b.Gd=o(fe,Ff),b.Hd=0,b.rb=o(be+1,Ml),b.sb=1,b.wa=Ie?o(Ie,Dl):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=oe),e(!0),b.oc=ee,b.pc=ne,ne+=832,b.ya=o(Oe,Ec),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=oe),b.R=16*oe,b.B=8*oe,oe=(fe=r2[b.L])*b.R,fe=fe/2*b.B,b.sa=ee,b.ta=ne+oe,b.qa=b.sa,b.ra=b.ta+16*M*b.R+fe,b.Ha=b.qa,b.Ia=b.ra+8*M*b.B+fe,b.$c=0,ne+=X,b.mb=Z?ee:null,b.nb=Z?ne:null,e(ne+Z<=b.Fc+b.Vb),Vf(b),i(b.Ac,b.Bc,0,B),M=1}}if(M){if(T.ka=0,T.y=b.sa,T.O=b.ta,T.f=b.qa,T.N=b.ra,T.ea=b.Ha,T.Vd=b.Ia,T.fa=b.R,T.Rc=b.B,T.F=null,T.J=0,!Gx){for(M=-255;255>=M;++M)fi[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)Lc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)a1[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Kp[255+M]=0>M?0:255<M?255:M;Gx=1}qp=Pc,Mc=Du,r1=zf,$a=Dr,ss=Tc,Un=Nc,Wp=Vu,Wx=Hs,n1=Hu,Jf=Qf,eh=zu,Zu=Oc,th=qu,Gp=$l,rh=Ic,Ju=Ro,i1=di,ls=Fp,Gs[0]=as,Gs[1]=Yg,Gs[2]=Fl,Gs[3]=Qg,Gs[4]=Mp,Gs[5]=Fu,Gs[6]=ko,Gs[7]=qf,Gs[8]=$u,Gs[9]=Bu,ed[0]=Ll,ed[1]=Xg,ed[2]=Us,ed[3]=Mu,ed[4]=cn,ed[5]=Dp,ed[6]=Hf,Fc[0]=zs,Fc[1]=Rp,Fc[2]=Lp,Fc[3]=Vs,Fc[4]=Pr,Fc[5]=Wf,Fc[6]=Gf,M=1}else M=0}M&&(M=function(Ne,We){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Le,_e=Ne.Jc[Ne.M&Ne.Xb],Ae=Ne.m,He=Ne;for(Le=0;Le<He.za;++Le){var Xe=Ae,qe=He,mt=qe.Ac,ft=qe.Bc+4*Le,Ot=qe.zc,pt=qe.ya[qe.aa+Le];if(qe.Qa.Bb?pt.$b=ae(Xe,qe.Pa.jb[0])?2+ae(Xe,qe.Pa.jb[2]):ae(Xe,qe.Pa.jb[1]):pt.$b=0,qe.kc&&(pt.Ad=ae(Xe,qe.Bd)),pt.Za=!ae(Xe,145)+0,pt.Za){var Er=pt.Ob,Mr=0;for(qe=0;4>qe;++qe){var yr,or=Ot[0+qe];for(yr=0;4>yr;++yr){or=Pne[mt[ft+yr]][or];for(var Zr=M8[ae(Xe,or[0])];0<Zr;)Zr=M8[2*Zr+ae(Xe,or[Zr])];or=-Zr,mt[ft+yr]=or}n(Er,Mr,mt,ft,4),Mr+=4,Ot[0+qe]=or}}else or=ae(Xe,156)?ae(Xe,128)?1:3:ae(Xe,163)?2:0,pt.Ob[0]=or,i(mt,ft,or,4),i(Ot,0,or,4);pt.Dd=ae(Xe,142)?ae(Xe,114)?ae(Xe,183)?1:3:2:0}if(He.m.Ka)return ln(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(He=_e,Xe=(Ae=Ne).rb[Ae.sb-1],mt=Ae.rb[Ae.sb+Ae.ja],Le=Ae.ya[Ae.aa+Ae.ja],ft=Ae.kc?Le.Ad:0)Xe.la=mt.la=0,Le.Za||(Xe.Na=mt.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var Gr,Xt;if(Xe=mt,mt=He,ft=Ae.Pa.Xc,Ot=Ae.ya[Ae.aa+Ae.ja],pt=Ae.pb[Ot.$b],qe=Ot.ad,Er=0,Mr=Ae.rb[Ae.sb-1],or=yr=0,i(qe,Er,0,384),Ot.Za)var ti=0,lo=ft[3];else{Zr=a(16);var ri=Xe.Na+Mr.Na;if(ri=o1(mt,ft[1],ri,pt.Eb,0,Zr,0),Xe.Na=Mr.Na=(0<ri)+0,1<ri)qp(Zr,0,qe,Er);else{var co=Zr[0]+3>>3;for(Zr=0;256>Zr;Zr+=16)qe[Er+Zr]=co}ti=1,lo=ft[0]}var Lr=15&Xe.la,Mo=15&Mr.la;for(Zr=0;4>Zr;++Zr){var Lo=1&Mo;for(co=Xt=0;4>co;++co)Lr=Lr>>1|(Lo=(ri=o1(mt,lo,ri=Lo+(1&Lr),pt.Sc,ti,qe,Er))>ti)<<7,Xt=Xt<<2|(3<ri?3:1<ri?2:qe[Er+0]!=0),Er+=16;Lr>>=4,Mo=Mo>>1|Lo<<7,yr=(yr<<8|Xt)>>>0}for(lo=Lr,ti=Mo>>4,Gr=0;4>Gr;Gr+=2){for(Xt=0,Lr=Xe.la>>4+Gr,Mo=Mr.la>>4+Gr,Zr=0;2>Zr;++Zr){for(Lo=1&Mo,co=0;2>co;++co)ri=Lo+(1&Lr),Lr=Lr>>1|(Lo=0<(ri=o1(mt,ft[2],ri,pt.Qc,0,qe,Er)))<<3,Xt=Xt<<2|(3<ri?3:1<ri?2:qe[Er+0]!=0),Er+=16;Lr>>=2,Mo=Mo>>1|Lo<<5}or|=Xt<<4*Gr,lo|=Lr<<4<<Gr,ti|=(240&Mo)<<Gr}Xe.la=lo,Mr.la=ti,Ot.Hc=yr,Ot.Gc=or,Ot.ia=43690&or?0:pt.ia,ft=!(yr|or)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Le.$b][Le.Za],Ae.wa[Ae.Y+Ae.ja].La|=!ft),He.Ka)return ln(Ne,7,"Premature end-of-file encountered.")}if(Vf(Ne),Ae=We,He=1,Le=(_e=Ne).D,Xe=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Le.M=_e.M,Le.uc=Xe,Vl(_e,Le),He=1,Le=(Xt=_e.D).Nb,Xe=(or=r2[_e.L])*_e.R,mt=or/2*_e.B,Zr=16*Le*_e.R,co=8*Le*_e.B,ft=_e.sa,Ot=_e.ta-Xe+Zr,pt=_e.qa,qe=_e.ra-mt+co,Er=_e.Ha,Mr=_e.Ia-mt+co,Mo=(Lr=Xt.M)==0,yr=Lr>=_e.Va-1,_e.Aa==2&&Vl(_e,Xt),Xt.uc)for(Lo=(ri=_e).D.M,e(ri.D.uc),Xt=ri.yb;Xt<ri.Hb;++Xt){ti=Xt,lo=Lo;var Oi=(Yi=(jn=ri).D).Nb;Gr=jn.R;var Yi=Yi.wa[Yi.Y+ti],Ua=jn.sa,fs=jn.ta+16*Oi*Gr+16*ti,Hl=Yi.dd,ki=Yi.tc;if(ki!=0)if(e(3<=ki),jn.L==1)0<ti&&Ju(Ua,fs,Gr,ki+4),Yi.La&&ls(Ua,fs,Gr,ki),0<lo&&rh(Ua,fs,Gr,ki+4),Yi.La&&i1(Ua,fs,Gr,ki);else{var Bc=jn.B,nh=jn.qa,Yp=jn.ra+8*Oi*Bc+8*ti,rd=jn.Ha,jn=jn.Ia+8*Oi*Bc+8*ti;Oi=Yi.ld,0<ti&&(Wx(Ua,fs,Gr,ki+4,Hl,Oi),Jf(nh,Yp,rd,jn,Bc,ki+4,Hl,Oi)),Yi.La&&(Zu(Ua,fs,Gr,ki,Hl,Oi),Gp(nh,Yp,rd,jn,Bc,ki,Hl,Oi)),0<lo&&(Wp(Ua,fs,Gr,ki+4,Hl,Oi),n1(nh,Yp,rd,jn,Bc,ki+4,Hl,Oi)),Yi.La&&(eh(Ua,fs,Gr,ki,Hl,Oi),th(nh,Yp,rd,jn,Bc,ki,Hl,Oi))}}if(_e.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Xt=16*Lr,Lr=16*(Lr+1),Mo?(Ae.y=_e.sa,Ae.O=_e.ta+Zr,Ae.f=_e.qa,Ae.N=_e.ra+co,Ae.ea=_e.Ha,Ae.W=_e.Ia+co):(Xt-=or,Ae.y=ft,Ae.O=Ot,Ae.f=pt,Ae.N=qe,Ae.ea=Er,Ae.W=Mr),yr||(Lr-=or),Lr>Ae.o&&(Lr=Ae.o),Ae.F=null,Ae.J=null,_e.Fa!=null&&0<_e.Fa.length&&Xt<Lr&&(Ae.J=Yu(_e,Ae,Xt,Lr-Xt),Ae.F=_e.mb,Ae.F==null&&Ae.F.length==0)){He=ln(_e,3,"Could not decode alpha data.");break e}Xt<Ae.j&&(or=Ae.j-Xt,Xt=Ae.j,e(!(1&or)),Ae.O+=_e.R*or,Ae.N+=_e.B*(or>>1),Ae.W+=_e.B*(or>>1),Ae.F!=null&&(Ae.J+=Ae.width*or)),Xt<Lr&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Xt-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Lr-Xt,He=Ae.put(Ae))}Le+1!=_e.Ic||yr||(n(_e.sa,_e.ta-Xe,ft,Ot+16*_e.R,Xe),n(_e.qa,_e.ra-mt,pt,qe+8*_e.B,mt),n(_e.Ha,_e.Ia-mt,Er,Mr+8*_e.B,mt))}if(!He)return ln(Ne,6,"Output aborted.")}return 1}(b,T)),T.bc!=null&&T.bc(T),M&=1}return M?(b.cb=0,M):0}function ao(b,T,M,B,X){X=b[T+M+32*B]+(X>>3),b[T+M+32*B]=-256&X?0>X?0:255:X}function Ru(b,T,M,B,X,Z){ao(b,T,0,M,B+X),ao(b,T,1,M,B+Z),ao(b,T,2,M,B-Z),ao(b,T,3,M,B-X)}function kn(b){return(20091*b>>16)+b}function Fa(b,T,M,B){var X,Z=0,ee=a(16);for(X=0;4>X;++X){var ne=b[T+0]+b[T+8],oe=b[T+0]-b[T+8],fe=(35468*b[T+4]>>16)-kn(b[T+12]),be=kn(b[T+4])+(35468*b[T+12]>>16);ee[Z+0]=ne+be,ee[Z+1]=oe+fe,ee[Z+2]=oe-fe,ee[Z+3]=ne-be,Z+=4,T++}for(X=Z=0;4>X;++X)ne=(b=ee[Z+0]+4)+ee[Z+8],oe=b-ee[Z+8],fe=(35468*ee[Z+4]>>16)-kn(ee[Z+12]),ao(M,B,0,0,ne+(be=kn(ee[Z+4])+(35468*ee[Z+12]>>16))),ao(M,B,1,0,oe+fe),ao(M,B,2,0,oe-fe),ao(M,B,3,0,ne-be),Z++,B+=32}function Nc(b,T,M,B){var X=b[T+0]+4,Z=35468*b[T+4]>>16,ee=kn(b[T+4]),ne=35468*b[T+1]>>16;Ru(M,B,0,X+ee,b=kn(b[T+1]),ne),Ru(M,B,1,X+Z,b,ne),Ru(M,B,2,X-Z,b,ne),Ru(M,B,3,X-ee,b,ne)}function Du(b,T,M,B,X){Fa(b,T,M,B),X&&Fa(b,T+16,M,B+4)}function zf(b,T,M,B){Mc(b,T+0,M,B,1),Mc(b,T+32,M,B+128,1)}function Dr(b,T,M,B){var X;for(b=b[T+0]+4,X=0;4>X;++X)for(T=0;4>T;++T)ao(M,B,T,X,b)}function Tc(b,T,M,B){b[T+0]&&$a(b,T+0,M,B),b[T+16]&&$a(b,T+16,M,B+4),b[T+32]&&$a(b,T+32,M,B+128),b[T+48]&&$a(b,T+48,M,B+128+4)}function Pc(b,T,M,B){var X,Z=a(16);for(X=0;4>X;++X){var ee=b[T+0+X]+b[T+12+X],ne=b[T+4+X]+b[T+8+X],oe=b[T+4+X]-b[T+8+X],fe=b[T+0+X]-b[T+12+X];Z[0+X]=ee+ne,Z[8+X]=ee-ne,Z[4+X]=fe+oe,Z[12+X]=fe-oe}for(X=0;4>X;++X)ee=(b=Z[0+4*X]+3)+Z[3+4*X],ne=Z[1+4*X]+Z[2+4*X],oe=Z[1+4*X]-Z[2+4*X],fe=b-Z[3+4*X],M[B+0]=ee+ne>>3,M[B+16]=fe+oe>>3,M[B+32]=ee-ne>>3,M[B+48]=fe-oe>>3,B+=64}function $s(b,T,M){var B,X=T-32,Z=Do,ee=255-b[X-1];for(B=0;B<M;++B){var ne,oe=Z,fe=ee+b[T-1];for(ne=0;ne<M;++ne)b[T+ne]=oe[fe+b[X+ne]];T+=32}}function Yg(b,T){$s(b,T,4)}function Rp(b,T){$s(b,T,8)}function Xg(b,T){$s(b,T,16)}function Us(b,T){var M;for(M=0;16>M;++M)n(b,T+32*M,b,T-32,16)}function Mu(b,T){var M;for(M=16;0<M;--M)i(b,T,b[T-1],16),T+=32}function Lu(b,T,M){var B;for(B=0;16>B;++B)i(T,M+32*B,b,16)}function Ll(b,T){var M,B=16;for(M=0;16>M;++M)B+=b[T-1+32*M]+b[T+M-32];Lu(B>>5,b,T)}function cn(b,T){var M,B=8;for(M=0;16>M;++M)B+=b[T-1+32*M];Lu(B>>4,b,T)}function Dp(b,T){var M,B=8;for(M=0;16>M;++M)B+=b[T+M-32];Lu(B>>4,b,T)}function Hf(b,T){Lu(128,b,T)}function Bt(b,T,M){return b+2*T+M+2>>2}function Fl(b,T){var M,B=T-32;for(B=new Uint8Array([Bt(b[B-1],b[B+0],b[B+1]),Bt(b[B+0],b[B+1],b[B+2]),Bt(b[B+1],b[B+2],b[B+3]),Bt(b[B+2],b[B+3],b[B+4])]),M=0;4>M;++M)n(b,T+32*M,B,0,B.length)}function Qg(b,T){var M=b[T-1],B=b[T-1+32],X=b[T-1+64],Z=b[T-1+96];ye(b,T+0,16843009*Bt(b[T-1-32],M,B)),ye(b,T+32,16843009*Bt(M,B,X)),ye(b,T+64,16843009*Bt(B,X,Z)),ye(b,T+96,16843009*Bt(X,Z,Z))}function as(b,T){var M,B=4;for(M=0;4>M;++M)B+=b[T+M-32]+b[T-1+32*M];for(B>>=3,M=0;4>M;++M)i(b,T+32*M,B,4)}function Mp(b,T){var M=b[T-1+0],B=b[T-1+32],X=b[T-1+64],Z=b[T-1-32],ee=b[T+0-32],ne=b[T+1-32],oe=b[T+2-32],fe=b[T+3-32];b[T+0+96]=Bt(B,X,b[T-1+96]),b[T+1+96]=b[T+0+64]=Bt(M,B,X),b[T+2+96]=b[T+1+64]=b[T+0+32]=Bt(Z,M,B),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=Bt(ee,Z,M),b[T+3+64]=b[T+2+32]=b[T+1+0]=Bt(ne,ee,Z),b[T+3+32]=b[T+2+0]=Bt(oe,ne,ee),b[T+3+0]=Bt(fe,oe,ne)}function ko(b,T){var M=b[T+1-32],B=b[T+2-32],X=b[T+3-32],Z=b[T+4-32],ee=b[T+5-32],ne=b[T+6-32],oe=b[T+7-32];b[T+0+0]=Bt(b[T+0-32],M,B),b[T+1+0]=b[T+0+32]=Bt(M,B,X),b[T+2+0]=b[T+1+32]=b[T+0+64]=Bt(B,X,Z),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=Bt(X,Z,ee),b[T+3+32]=b[T+2+64]=b[T+1+96]=Bt(Z,ee,ne),b[T+3+64]=b[T+2+96]=Bt(ee,ne,oe),b[T+3+96]=Bt(ne,oe,oe)}function Fu(b,T){var M=b[T-1+0],B=b[T-1+32],X=b[T-1+64],Z=b[T-1-32],ee=b[T+0-32],ne=b[T+1-32],oe=b[T+2-32],fe=b[T+3-32];b[T+0+0]=b[T+1+64]=Z+ee+1>>1,b[T+1+0]=b[T+2+64]=ee+ne+1>>1,b[T+2+0]=b[T+3+64]=ne+oe+1>>1,b[T+3+0]=oe+fe+1>>1,b[T+0+96]=Bt(X,B,M),b[T+0+64]=Bt(B,M,Z),b[T+0+32]=b[T+1+96]=Bt(M,Z,ee),b[T+1+32]=b[T+2+96]=Bt(Z,ee,ne),b[T+2+32]=b[T+3+96]=Bt(ee,ne,oe),b[T+3+32]=Bt(ne,oe,fe)}function qf(b,T){var M=b[T+0-32],B=b[T+1-32],X=b[T+2-32],Z=b[T+3-32],ee=b[T+4-32],ne=b[T+5-32],oe=b[T+6-32],fe=b[T+7-32];b[T+0+0]=M+B+1>>1,b[T+1+0]=b[T+0+64]=B+X+1>>1,b[T+2+0]=b[T+1+64]=X+Z+1>>1,b[T+3+0]=b[T+2+64]=Z+ee+1>>1,b[T+0+32]=Bt(M,B,X),b[T+1+32]=b[T+0+96]=Bt(B,X,Z),b[T+2+32]=b[T+1+96]=Bt(X,Z,ee),b[T+3+32]=b[T+2+96]=Bt(Z,ee,ne),b[T+3+64]=Bt(ee,ne,oe),b[T+3+96]=Bt(ne,oe,fe)}function Bu(b,T){var M=b[T-1+0],B=b[T-1+32],X=b[T-1+64],Z=b[T-1+96];b[T+0+0]=M+B+1>>1,b[T+2+0]=b[T+0+32]=B+X+1>>1,b[T+2+32]=b[T+0+64]=X+Z+1>>1,b[T+1+0]=Bt(M,B,X),b[T+3+0]=b[T+1+32]=Bt(B,X,Z),b[T+3+32]=b[T+1+64]=Bt(X,Z,Z),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=Z}function $u(b,T){var M=b[T-1+0],B=b[T-1+32],X=b[T-1+64],Z=b[T-1+96],ee=b[T-1-32],ne=b[T+0-32],oe=b[T+1-32],fe=b[T+2-32];b[T+0+0]=b[T+2+32]=M+ee+1>>1,b[T+0+32]=b[T+2+64]=B+M+1>>1,b[T+0+64]=b[T+2+96]=X+B+1>>1,b[T+0+96]=Z+X+1>>1,b[T+3+0]=Bt(ne,oe,fe),b[T+2+0]=Bt(ee,ne,oe),b[T+1+0]=b[T+3+32]=Bt(M,ee,ne),b[T+1+32]=b[T+3+64]=Bt(B,M,ee),b[T+1+64]=b[T+3+96]=Bt(X,B,M),b[T+1+96]=Bt(Z,X,B)}function Lp(b,T){var M;for(M=0;8>M;++M)n(b,T+32*M,b,T-32,8)}function Vs(b,T){var M;for(M=0;8>M;++M)i(b,T,b[T-1],8),T+=32}function jo(b,T,M){var B;for(B=0;8>B;++B)i(T,M+32*B,b,8)}function zs(b,T){var M,B=8;for(M=0;8>M;++M)B+=b[T+M-32]+b[T-1+32*M];jo(B>>4,b,T)}function Wf(b,T){var M,B=4;for(M=0;8>M;++M)B+=b[T+M-32];jo(B>>3,b,T)}function Pr(b,T){var M,B=4;for(M=0;8>M;++M)B+=b[T-1+32*M];jo(B>>3,b,T)}function Gf(b,T){jo(128,b,T)}function Uu(b,T,M){var B=b[T-M],X=b[T+0],Z=3*(X-B)+HA[1020+b[T-2*M]-b[T+M]],ee=Kx[112+(Z+4>>3)];b[T-M]=Do[255+B+Kx[112+(Z+3>>3)]],b[T+0]=Do[255+X-ee]}function Kf(b,T,M,B){var X=b[T+0],Z=b[T+M];return us[255+b[T-2*M]-b[T-M]]>B||us[255+Z-X]>B}function Yf(b,T,M,B){return 4*us[255+b[T-M]-b[T+0]]+us[255+b[T-2*M]-b[T+M]]<=B}function Xf(b,T,M,B,X){var Z=b[T-3*M],ee=b[T-2*M],ne=b[T-M],oe=b[T+0],fe=b[T+M],be=b[T+2*M],Ie=b[T+3*M];return 4*us[255+ne-oe]+us[255+ee-fe]>B?0:us[255+b[T-4*M]-Z]<=X&&us[255+Z-ee]<=X&&us[255+ee-ne]<=X&&us[255+Ie-be]<=X&&us[255+be-fe]<=X&&us[255+fe-oe]<=X}function Ic(b,T,M,B){var X=2*B+1;for(B=0;16>B;++B)Yf(b,T+B,M,X)&&Uu(b,T+B,M)}function Ro(b,T,M,B){var X=2*B+1;for(B=0;16>B;++B)Yf(b,T+B*M,1,X)&&Uu(b,T+B*M,1)}function di(b,T,M,B){var X;for(X=3;0<X;--X)Ic(b,T+=4*M,M,B)}function Fp(b,T,M,B){var X;for(X=3;0<X;--X)Ro(b,T+=4,M,B)}function Bl(b,T,M,B,X,Z,ee,ne){for(Z=2*Z+1;0<X--;){if(Xf(b,T,M,Z,ee))if(Kf(b,T,M,ne))Uu(b,T,M);else{var oe=b,fe=T,be=M,Ie=oe[fe-2*be],Oe=oe[fe-be],Ne=oe[fe+0],We=oe[fe+be],Le=oe[fe+2*be],_e=27*(He=HA[1020+3*(Ne-Oe)+HA[1020+Ie-We]])+63>>7,Ae=18*He+63>>7,He=9*He+63>>7;oe[fe-3*be]=Do[255+oe[fe-3*be]+He],oe[fe-2*be]=Do[255+Ie+Ae],oe[fe-be]=Do[255+Oe+_e],oe[fe+0]=Do[255+Ne-_e],oe[fe+be]=Do[255+We-Ae],oe[fe+2*be]=Do[255+Le-He]}T+=B}}function Wi(b,T,M,B,X,Z,ee,ne){for(Z=2*Z+1;0<X--;){if(Xf(b,T,M,Z,ee))if(Kf(b,T,M,ne))Uu(b,T,M);else{var oe=b,fe=T,be=M,Ie=oe[fe-be],Oe=oe[fe+0],Ne=oe[fe+be],We=Kx[112+((Le=3*(Oe-Ie))+4>>3)],Le=Kx[112+(Le+3>>3)],_e=We+1>>1;oe[fe-2*be]=Do[255+oe[fe-2*be]+_e],oe[fe-be]=Do[255+Ie+Le],oe[fe+0]=Do[255+Oe-We],oe[fe+be]=Do[255+Ne-_e]}T+=B}}function Vu(b,T,M,B,X,Z){Bl(b,T,M,1,16,B,X,Z)}function Hs(b,T,M,B,X,Z){Bl(b,T,1,M,16,B,X,Z)}function zu(b,T,M,B,X,Z){var ee;for(ee=3;0<ee;--ee)Wi(b,T+=4*M,M,1,16,B,X,Z)}function Oc(b,T,M,B,X,Z){var ee;for(ee=3;0<ee;--ee)Wi(b,T+=4,1,M,16,B,X,Z)}function Hu(b,T,M,B,X,Z,ee,ne){Bl(b,T,X,1,8,Z,ee,ne),Bl(M,B,X,1,8,Z,ee,ne)}function Qf(b,T,M,B,X,Z,ee,ne){Bl(b,T,1,X,8,Z,ee,ne),Bl(M,B,1,X,8,Z,ee,ne)}function qu(b,T,M,B,X,Z,ee,ne){Wi(b,T+4*X,X,1,8,Z,ee,ne),Wi(M,B+4*X,X,1,8,Z,ee,ne)}function $l(b,T,M,B,X,Z,ee,ne){Wi(b,T+4,1,X,8,Z,ee,ne),Wi(M,B+4,1,X,8,Z,ee,ne)}function kc(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gu(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new k}function Bp(){this.xb=this.a=0,this.l=new Cc,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gu,this.ab=0,this.gc=o(4,jc),this.Oc=0}function qs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ul(b,T,M,B,X,Z,ee){for(b=b==null?0:b[T+0],T=0;T<ee;++T)X[Z+T]=b+M[B+T]&255,b=X[Z+T]}function Ku(b,T,M,B,X,Z,ee){var ne;if(b==null)Ul(null,null,M,B,X,Z,ee);else for(ne=0;ne<ee;++ne)X[Z+ne]=b[T+ne]+M[B+ne]&255}function fa(b,T,M,B,X,Z,ee){if(b==null)Ul(null,null,M,B,X,Z,ee);else{var ne,oe=b[T+0],fe=oe,be=oe;for(ne=0;ne<ee;++ne)fe=be+(oe=b[T+ne])-fe,be=M[B+ne]+(-256&fe?0>fe?0:255:fe)&255,fe=oe,X[Z+ne]=be}}function Yu(b,T,M,B){var X=T.width,Z=T.o;if(e(b!=null&&T!=null),0>M||0>=B||M+B>Z)return null;if(!b.Cc){if(b.ga==null){var ee;if(b.ga=new qs,(ee=b.ga==null)||(ee=T.width*T.o,e(b.Gb.length==0),b.Gb=a(ee),b.Uc=0,b.Gb==null?ee=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ee=1),ee=!ee),!ee){ee=b.ga;var ne=b.Fa,oe=b.P,fe=b.qc,be=b.mb,Ie=b.nb,Oe=oe+1,Ne=fe-1,We=ee.l;if(e(ne!=null&&be!=null&&T!=null),td[0]=null,td[1]=Ul,td[2]=Ku,td[3]=fa,ee.ca=be,ee.tb=Ie,ee.c=T.width,ee.i=T.height,e(0<ee.c&&0<ee.i),1>=fe)T=0;else if(ee.$a=ne[oe+0]>>0&3,ee.Z=ne[oe+0]>>2&3,ee.Lc=ne[oe+0]>>4&3,oe=ne[oe+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||oe)T=0;else if(We.put=ca,We.ac=Zn,We.bc=Io,We.ma=ee,We.width=T.width,We.height=T.height,We.Da=T.Da,We.v=T.v,We.va=T.va,We.j=T.j,We.o=T.o,ee.$a)e:{e(ee.$a==1),T=$n();t:for(;;){if(T==null){T=0;break e}if(e(ee!=null),ee.mc=T,T.c=ee.c,T.i=ee.i,T.l=ee.l,T.l.ma=ee,T.l.width=ee.c,T.l.height=ee.i,T.a=0,$(T.m,ne,Oe,Ne),!Oo(ee.c,ee.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Fs(T.s)?(ee.ic=1,ne=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ne),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ee.ic=0,T=kl(T,ee.c)),!T))break t;T=1;break e}ee.mc=null,T=0}else T=Ne>=ee.c*ee.i;ee=!T}if(ee)return null;b.ga.Lc!=1?b.Ga=0:B=Z-M}e(b.ga!=null),e(M+B<=Z);e:{if(T=(ne=b.ga).c,Z=ne.l.o,ne.$a==0){if(Oe=b.rc,Ne=b.Vc,We=b.Fa,oe=b.P+1+M*T,fe=b.mb,be=b.nb+M*T,e(oe<=b.P+b.qc),ne.Z!=0)for(e(td[ne.Z]!=null),ee=0;ee<B;++ee)td[ne.Z](Oe,Ne,We,oe,fe,be,T),Oe=fe,Ne=be,be+=T,oe+=T;else for(ee=0;ee<B;++ee)n(fe,be,We,oe,T),Oe=fe,Ne=be,be+=T,oe+=T;b.rc=Oe,b.Vc=Ne}else{if(e(ne.mc!=null),T=M+B,e((ee=ne.mc)!=null),e(T<=ee.i),ee.C>=T)T=1;else if(ne.ic||Ce(),ne.ic){ne=ee.V,Oe=ee.Ba,Ne=ee.c;var Le=ee.i,_e=(We=1,oe=ee.$/Ne,fe=ee.$%Ne,be=ee.m,Ie=ee.s,ee.$),Ae=Ne*Le,He=Ne*T,Xe=Ie.wc,qe=_e<He?On(Ie,fe,oe):null;e(_e<=Ae),e(T<=Le),e(Fs(Ie));t:for(;;){for(;!be.h&&_e<He;){if(fe&Xe||(qe=On(Ie,fe,oe)),e(qe!=null),G(be),256>(Le=Jn(qe.G[0],qe.H[0],be)))ne[Oe+_e]=Le,++_e,++fe>=Ne&&(fe=0,++oe<=T&&!(oe%16)&&io(ee,oe));else{if(!(280>Le)){We=0;break t}Le=no(Le-256,be);var mt,ft=Jn(qe.G[4],qe.H[4],be);if(G(be),!(_e>=(ft=ua(Ne,ft=no(ft,be)))&&Ae-_e>=Le)){We=0;break t}for(mt=0;mt<Le;++mt)ne[Oe+_e+mt]=ne[Oe+_e+mt-ft];for(_e+=Le,fe+=Le;fe>=Ne;)fe-=Ne,++oe<=T&&!(oe%16)&&io(ee,oe);_e<He&&fe&Xe&&(qe=On(Ie,fe,oe))}e(be.h==Q(be))}io(ee,oe>T?T:oe);break t}!We||be.h&&_e<Ae?(We=0,ee.a=be.h?5:3):ee.$=_e,T=We}else T=Ma(ee,ee.V,ee.Ba,ee.c,ee.i,T,jl);if(!T){B=0;break e}}M+B>=Z&&(b.Cc=1),B=1}if(!B)return null;if(b.Cc&&((B=b.ga)!=null&&(B.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*X}function j(b,T,M,B,X,Z){for(;0<X--;){var ee,ne=b,oe=T+(M?1:0),fe=b,be=T+(M?0:3);for(ee=0;ee<B;++ee){var Ie=fe[be+4*ee];Ie!=255&&(Ie*=32897,ne[oe+4*ee+0]=ne[oe+4*ee+0]*Ie>>23,ne[oe+4*ee+1]=ne[oe+4*ee+1]*Ie>>23,ne[oe+4*ee+2]=ne[oe+4*ee+2]*Ie>>23)}T+=Z}}function Y(b,T,M,B,X){for(;0<B--;){var Z;for(Z=0;Z<M;++Z){var ee=b[T+2*Z+0],ne=15&(fe=b[T+2*Z+1]),oe=4369*ne,fe=(240&fe|fe>>4)*oe>>16;b[T+2*Z+0]=(240&ee|ee>>4)*oe>>16&240|(15&ee|ee<<4)*oe>>16>>4&15,b[T+2*Z+1]=240&fe|ne}T+=X}}function pe(b,T,M,B,X,Z,ee,ne){var oe,fe,be=255;for(fe=0;fe<X;++fe){for(oe=0;oe<B;++oe){var Ie=b[T+oe];Z[ee+4*oe]=Ie,be&=Ie}T+=M,ee+=ne}return be!=255}function xe(b,T,M,B,X){var Z;for(Z=0;Z<X;++Z)M[B+Z]=b[T+Z]>>8}function Ce(){cs=j,tn=Y,rn=pe,Vn=xe}function Be(b,T,M){S[b]=function(B,X,Z,ee,ne,oe,fe,be,Ie,Oe,Ne,We,Le,_e,Ae,He,Xe){var qe,mt=Xe-1>>1,ft=ne[oe+0]|fe[be+0]<<16,Ot=Ie[Oe+0]|Ne[We+0]<<16;e(B!=null);var pt=3*ft+Ot+131074>>2;for(T(B[X+0],255&pt,pt>>16,Le,_e),Z!=null&&(pt=3*Ot+ft+131074>>2,T(Z[ee+0],255&pt,pt>>16,Ae,He)),qe=1;qe<=mt;++qe){var Er=ne[oe+qe]|fe[be+qe]<<16,Mr=Ie[Oe+qe]|Ne[We+qe]<<16,yr=ft+Er+Ot+Mr+524296,or=yr+2*(Er+Ot)>>3;pt=or+ft>>1,ft=(yr=yr+2*(ft+Mr)>>3)+Er>>1,T(B[X+2*qe-1],255&pt,pt>>16,Le,_e+(2*qe-1)*M),T(B[X+2*qe-0],255&ft,ft>>16,Le,_e+(2*qe-0)*M),Z!=null&&(pt=yr+Ot>>1,ft=or+Mr>>1,T(Z[ee+2*qe-1],255&pt,pt>>16,Ae,He+(2*qe-1)*M),T(Z[ee+2*qe+0],255&ft,ft>>16,Ae,He+(2*qe+0)*M)),ft=Er,Ot=Mr}1&Xe||(pt=3*ft+Ot+131074>>2,T(B[X+Xe-1],255&pt,pt>>16,Le,_e+(Xe-1)*M),Z!=null&&(pt=3*Ot+ft+131074>>2,T(Z[ee+Xe-1],255&pt,pt>>16,Ae,He+(Xe-1)*M)))}}function Qe(){ds[Yx]=jne,ds[Xx]=F8,ds[j8]=Rne,ds[Qx]=B8,ds[Zx]=$8,ds[qA]=U8,ds[R8]=Dne,ds[WA]=F8,ds[GA]=B8,ds[Jx]=$8,ds[KA]=U8}function ht(b){return b&-16384?0>b?0:255:b>>Mne}function _(b,T){return ht((19077*b>>8)+(26149*T>>8)-14234)}function L(b,T,M){return ht((19077*b>>8)-(6419*T>>8)-(13320*M>>8)+8708)}function V(b,T){return ht((19077*b>>8)+(33050*T>>8)-17685)}function re(b,T,M,B,X){B[X+0]=_(b,M),B[X+1]=L(b,T,M),B[X+2]=V(b,T)}function Ee(b,T,M,B,X){B[X+0]=V(b,T),B[X+1]=L(b,T,M),B[X+2]=_(b,M)}function je(b,T,M,B,X){var Z=L(b,T,M);T=Z<<3&224|V(b,T)>>3,B[X+0]=248&_(b,M)|Z>>5,B[X+1]=T}function Ze(b,T,M,B,X){var Z=240&V(b,T)|15;B[X+0]=240&_(b,M)|L(b,T,M)>>4,B[X+1]=Z}function Vt(b,T,M,B,X){B[X+0]=255,re(b,T,M,B,X+1)}function ar(b,T,M,B,X){Ee(b,T,M,B,X),B[X+3]=255}function zt(b,T,M,B,X){re(b,T,M,B,X),B[X+3]=255}function Ir(b,T){return 0>b?0:b>T?T:b}function Qr(b,T,M){S[b]=function(B,X,Z,ee,ne,oe,fe,be,Ie){for(var Oe=be+(-2&Ie)*M;be!=Oe;)T(B[X+0],Z[ee+0],ne[oe+0],fe,be),T(B[X+1],Z[ee+0],ne[oe+0],fe,be+M),X+=2,++ee,++oe,be+=2*M;1&Ie&&T(B[X+0],Z[ee+0],ne[oe+0],fe,be)}}function Ws(b,T,M){return M==0?b==0?T==0?6:5:T==0?4:0:M}function Gi(b,T,M,B,X){switch(b>>>30){case 3:Mc(T,M,B,X,0);break;case 2:Un(T,M,B,X);break;case 1:$a(T,M,B,X)}}function Vl(b,T){var M,B,X=T.M,Z=T.Nb,ee=b.oc,ne=b.pc+40,oe=b.oc,fe=b.pc+584,be=b.oc,Ie=b.pc+600;for(M=0;16>M;++M)ee[ne+32*M-1]=129;for(M=0;8>M;++M)oe[fe+32*M-1]=129,be[Ie+32*M-1]=129;for(0<X?ee[ne-1-32]=oe[fe-1-32]=be[Ie-1-32]=129:(i(ee,ne-32-1,127,21),i(oe,fe-32-1,127,9),i(be,Ie-32-1,127,9)),B=0;B<b.za;++B){var Oe=T.ya[T.aa+B];if(0<B){for(M=-1;16>M;++M)n(ee,ne+32*M-4,ee,ne+32*M+12,4);for(M=-1;8>M;++M)n(oe,fe+32*M-4,oe,fe+32*M+4,4),n(be,Ie+32*M-4,be,Ie+32*M+4,4)}var Ne=b.Gd,We=b.Hd+B,Le=Oe.ad,_e=Oe.Hc;if(0<X&&(n(ee,ne-32,Ne[We].y,0,16),n(oe,fe-32,Ne[We].f,0,8),n(be,Ie-32,Ne[We].ea,0,8)),Oe.Za){var Ae=ee,He=ne-32+16;for(0<X&&(B>=b.za-1?i(Ae,He,Ne[We].y[15],4):n(Ae,He,Ne[We+1].y,0,4)),M=0;4>M;M++)Ae[He+128+M]=Ae[He+256+M]=Ae[He+384+M]=Ae[He+0+M];for(M=0;16>M;++M,_e<<=2)Ae=ee,He=ne+z8[M],Gs[Oe.Ob[M]](Ae,He),Gi(_e,Le,16*+M,Ae,He)}else if(Ae=Ws(B,X,Oe.Ob[0]),ed[Ae](ee,ne),_e!=0)for(M=0;16>M;++M,_e<<=2)Gi(_e,Le,16*+M,ee,ne+z8[M]);for(M=Oe.Gc,Ae=Ws(B,X,Oe.Dd),Fc[Ae](oe,fe),Fc[Ae](be,Ie),_e=Le,Ae=oe,He=fe,255&(Oe=M>>0)&&(170&Oe?r1(_e,256,Ae,He):ss(_e,256,Ae,He)),Oe=be,_e=Ie,255&(M>>=8)&&(170&M?r1(Le,320,Oe,_e):ss(Le,320,Oe,_e)),X<b.Ub-1&&(n(Ne[We].y,0,ee,ne+480,16),n(Ne[We].f,0,oe,fe+224,8),n(Ne[We].ea,0,be,Ie+224,8)),M=8*Z*b.B,Ne=b.sa,We=b.ta+16*B+16*Z*b.R,Le=b.qa,Oe=b.ra+8*B+M,_e=b.Ha,Ae=b.Ia+8*B+M,M=0;16>M;++M)n(Ne,We+M*b.R,ee,ne+32*M,16);for(M=0;8>M;++M)n(Le,Oe+M*b.B,oe,fe+32*M,8),n(_e,Ae+M*b.B,be,Ie+32*M,8)}}function zl(b,T,M,B,X,Z,ee,ne,oe){var fe=[0],be=[0],Ie=0,Oe=oe!=null?oe.kd:0,Ne=oe??new Wu;if(b==null||12>M)return 7;Ne.data=b,Ne.w=T,Ne.ha=M,T=[T],M=[M],Ne.gb=[Ne.gb];e:{var We=T,Le=M,_e=Ne.gb;if(e(b!=null),e(Le!=null),e(_e!=null),_e[0]=0,12<=Le[0]&&!r(b,We[0],"RIFF")){if(r(b,We[0]+8,"WEBP")){_e=3;break e}var Ae=Re(b,We[0]+4);if(12>Ae||4294967286<Ae){_e=3;break e}if(Oe&&Ae>Le[0]-8){_e=7;break e}_e[0]=Ae,We[0]+=12,Le[0]-=12}_e=0}if(_e!=0)return _e;for(Ae=0<Ne.gb[0],M=M[0];;){e:{var He=b;Le=T,_e=M;var Xe=fe,qe=be,mt=We=[0];if((pt=Ie=[Ie])[0]=0,8>_e[0])_e=7;else{if(!r(He,Le[0],"VP8X")){if(Re(He,Le[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ft=Re(He,Le[0]+8),Ot=1+ve(He,Le[0]+12);if(2147483648<=Ot*(He=1+ve(He,Le[0]+15))){_e=3;break e}mt!=null&&(mt[0]=ft),Xe!=null&&(Xe[0]=Ot),qe!=null&&(qe[0]=He),Le[0]+=18,_e[0]-=18,pt[0]=1}_e=0}}if(Ie=Ie[0],We=We[0],_e!=0)return _e;if(Le=!!(2&We),!Ae&&Ie)return 3;if(Z!=null&&(Z[0]=!!(16&We)),ee!=null&&(ee[0]=Le),ne!=null&&(ne[0]=0),ee=fe[0],We=be[0],Ie&&Le&&oe==null){_e=0;break}if(4>M){_e=7;break}if(Ae&&Ie||!Ae&&!Ie&&!r(b,T[0],"ALPH")){M=[M],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{ft=b,_e=T,Ae=M;var pt=Ne.gb;Xe=Ne.na,qe=Ne.P,mt=Ne.Sa,Ot=22,e(ft!=null),e(Ae!=null),He=_e[0];var Er=Ae[0];for(e(Xe!=null),e(mt!=null),Xe[0]=null,qe[0]=null,mt[0]=0;;){if(_e[0]=He,Ae[0]=Er,8>Er){_e=7;break e}var Mr=Re(ft,He+4);if(4294967286<Mr){_e=3;break e}var yr=8+Mr+1&-2;if(Ot+=yr,0<pt&&Ot>pt){_e=3;break e}if(!r(ft,He,"VP8 ")||!r(ft,He,"VP8L")){_e=0;break e}if(Er[0]<yr){_e=7;break e}r(ft,He,"ALPH")||(Xe[0]=ft,qe[0]=He+8,mt[0]=Mr),He+=yr,Er-=yr}}if(M=M[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],_e!=0)break}M=[M],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(pt=b,_e=T,Ae=M,Xe=Ne.gb[0],qe=Ne.Ja,mt=Ne.xa,ft=_e[0],He=!r(pt,ft,"VP8 "),Ot=!r(pt,ft,"VP8L"),e(pt!=null),e(Ae!=null),e(qe!=null),e(mt!=null),8>Ae[0])_e=7;else{if(He||Ot){if(pt=Re(pt,ft+4),12<=Xe&&pt>Xe-12){_e=3;break e}if(Oe&&pt>Ae[0]-8){_e=7;break e}qe[0]=pt,_e[0]+=8,Ae[0]-=8,mt[0]=Ot}else mt[0]=5<=Ae[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),qe[0]=Ae[0];_e=0}if(M=M[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],T=T[0],_e!=0)break;if(4294967286<Ne.Ja)return 3;if(ne==null||Le||(ne[0]=Ne.xa?2:1),ee=[ee],We=[We],Ne.xa){if(5>M){_e=7;break}ne=ee,Oe=We,Le=Z,b==null||5>M?b=0:5<=M&&b[T+0]==47&&!(b[T+4]>>5)?(Ae=[0],pt=[0],Xe=[0],$(qe=new F,b,T,M),xt(qe,Ae,pt,Xe)?(ne!=null&&(ne[0]=Ae[0]),Oe!=null&&(Oe[0]=pt[0]),Le!=null&&(Le[0]=Xe[0]),b=1):b=0):b=0}else{if(10>M){_e=7;break}ne=We,b==null||10>M||!$f(b,T+3,M-3)?b=0:(Oe=b[T+0]|b[T+1]<<8|b[T+2]<<16,Le=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Ne.Ja||!Le||!b?b=0:(ee&&(ee[0]=Le),ne&&(ne[0]=b),b=1))}if(!b||(ee=ee[0],We=We[0],Ie&&(fe[0]!=ee||be[0]!=We)))return 3;oe!=null&&(oe[0]=Ne,oe.offset=T-oe.w,e(4294967286>T-oe.w),e(oe.offset==oe.ha-M));break}return _e==0||_e==7&&Ie&&oe==null?(Z!=null&&(Z[0]|=Ne.na!=null&&0<Ne.na.length),B!=null&&(B[0]=ee),X!=null&&(X[0]=We),0):_e}function Zg(b,T,M){var B=T.width,X=T.height,Z=0,ee=0,ne=B,oe=X;if(T.Da=b!=null&&0<b.Da,T.Da&&(ne=b.cd,oe=b.bd,Z=b.v,ee=b.j,11>M||(Z&=-2,ee&=-2),0>Z||0>ee||0>=ne||0>=oe||Z+ne>B||ee+oe>X))return 0;if(T.v=Z,T.j=ee,T.va=Z+ne,T.o=ee+oe,T.U=ne,T.T=oe,T.da=b!=null&&0<b.da,T.da){if(!Pe(ne,oe,M=[b.ib],Z=[b.hb]))return 0;T.ib=M[0],T.hb=Z[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*B/4&&T.hb<3*X/4,T.Kb=0),1}function Jg(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function $p(b,T,M,B){if(B==null||0>=b||0>=T)return 2;if(M!=null){if(M.Da){var X=M.cd,Z=M.bd,ee=-2&M.v,ne=-2&M.j;if(0>ee||0>ne||0>=X||0>=Z||ee+X>b||ne+Z>T)return 2;b=X,T=Z}if(M.da){if(!Pe(b,T,X=[M.ib],Z=[M.hb]))return 2;b=X[0],T=Z[0]}}B.width=b,B.height=T;e:{var oe=B.width,fe=B.height;if(b=B.S,0>=oe||0>=fe||!(b>=Yx&&13>b))b=2;else{if(0>=B.Rd&&B.sd==null){ee=Z=X=T=0;var be=(ne=oe*H8[b])*fe;if(11>b||(Z=(fe+1)/2*(T=(oe+1)/2),b==12&&(ee=(X=oe)*fe)),(fe=a(be+2*Z+ee))==null){b=1;break e}B.sd=fe,11>b?((oe=B.f.RGBA).eb=fe,oe.fb=0,oe.A=ne,oe.size=be):((oe=B.f.kb).y=fe,oe.O=0,oe.fa=ne,oe.Fd=be,oe.f=fe,oe.N=0+be,oe.Ab=T,oe.Cd=Z,oe.ea=fe,oe.W=0+be+Z,oe.Db=T,oe.Ed=Z,b==12&&(oe.F=fe,oe.J=0+be+2*Z),oe.Tc=ee,oe.lb=X)}if(T=1,X=B.S,Z=B.width,ee=B.height,X>=Yx&&13>X)if(11>X)b=B.f.RGBA,T&=(ne=Math.abs(b.A))*(ee-1)+Z<=b.size,T&=ne>=Z*H8[X],T&=b.eb!=null;else{b=B.f.kb,ne=(Z+1)/2,be=(ee+1)/2,oe=Math.abs(b.fa),fe=Math.abs(b.Ab);var Ie=Math.abs(b.Db),Oe=Math.abs(b.lb),Ne=Oe*(ee-1)+Z;T&=oe*(ee-1)+Z<=b.Fd,T&=fe*(be-1)+ne<=b.Cd,T=(T&=Ie*(be-1)+ne<=b.Ed)&oe>=Z&fe>=ne&Ie>=ne,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,X==12&&(T&=Oe>=Z,T&=Ne<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||M!=null&&M.fd&&(b=Jg(B)),b}var Ki=64,Up=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vp=24,zp=32,e1=8,oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(b){return b},S.Predictor2=function(b,T,M){return T[M+0]},S.Predictor3=function(b,T,M){return T[M+1]},S.Predictor4=function(b,T,M){return T[M-1]},S.Predictor5=function(b,T,M){return ze(ze(b,T[M+1]),T[M+0])},S.Predictor6=function(b,T,M){return ze(b,T[M-1])},S.Predictor7=function(b,T,M){return ze(b,T[M+0])},S.Predictor8=function(b,T,M){return ze(T[M-1],T[M+0])},S.Predictor9=function(b,T,M){return ze(T[M+0],T[M+1])},S.Predictor10=function(b,T,M){return ze(ze(b,T[M-1]),ze(T[M+0],T[M+1]))},S.Predictor11=function(b,T,M){var B=T[M+0];return 0>=Te(B>>24&255,b>>24&255,(T=T[M-1])>>24&255)+Te(B>>16&255,b>>16&255,T>>16&255)+Te(B>>8&255,b>>8&255,T>>8&255)+Te(255&B,255&b,255&T)?B:b},S.Predictor12=function(b,T,M){var B=T[M+0];return(et((b>>24&255)+(B>>24&255)-((T=T[M-1])>>24&255))<<24|et((b>>16&255)+(B>>16&255)-(T>>16&255))<<16|et((b>>8&255)+(B>>8&255)-(T>>8&255))<<8|et((255&b)+(255&B)-(255&T)))>>>0},S.Predictor13=function(b,T,M){var B=T[M-1];return(at((b=ze(b,T[M+0]))>>24&255,B>>24&255)<<24|at(b>>16&255,B>>16&255)<<16|at(b>>8&255,B>>8&255)<<8|at(b>>0&255,B>>0&255))>>>0};var zA=S.PredictorAdd0;S.PredictorAdd1=Fe,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var t1=S.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var zx,os=S.ColorIndexInverseTransform,Hp=S.MapARGB,Hx=S.VP8LColorIndexInverseTransformAlpha,qx=S.MapAlpha,Xu=S.VP8LPredictorsAdd=[];Xu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Zf,so,Ba,Qu,Rc,Dc,qp,Mc,Un,r1,$a,ss,Wp,Wx,n1,Jf,eh,Zu,th,Gp,rh,Ju,i1,ls,cs,tn,rn,Vn,fi=a(511),Lc=a(2041),a1=a(225),Kp=a(767),Gx=0,HA=Lc,Kx=a1,Do=Kp,us=fi,Yx=0,Xx=1,j8=2,Qx=3,Zx=4,qA=5,R8=6,WA=7,GA=8,Jx=9,KA=10,xne=[2,3,7],wne=[3,3,11],D8=[280,256,256,256,40],bne=[0,1,1,1,0],_ne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Sne=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ane=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ene=8,YA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],XA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],o1=null,Cne=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nne=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],M8=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tne=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pne=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ine=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],One=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ed=[],Gs=[],Fc=[],kne=1,L8=2,td=[],ds=[];Be("UpsampleRgbLinePair",re,3),Be("UpsampleBgrLinePair",Ee,3),Be("UpsampleRgbaLinePair",zt,4),Be("UpsampleBgraLinePair",ar,4),Be("UpsampleArgbLinePair",Vt,4),Be("UpsampleRgba4444LinePair",Ze,2),Be("UpsampleRgb565LinePair",je,2);var jne=S.UpsampleRgbLinePair,Rne=S.UpsampleBgrLinePair,F8=S.UpsampleRgbaLinePair,B8=S.UpsampleBgraLinePair,$8=S.UpsampleArgbLinePair,U8=S.UpsampleRgba4444LinePair,Dne=S.UpsampleRgb565LinePair,e2=16,t2=1<<e2-1,s1=-227,QA=482,Mne=6,V8=0,Lne=a(256),Fne=a(256),Bne=a(256),$ne=a(256),Une=a(QA-s1),Vne=a(QA-s1);Qr("YuvToRgbRow",re,3),Qr("YuvToBgrRow",Ee,3),Qr("YuvToRgbaRow",zt,4),Qr("YuvToBgraRow",ar,4),Qr("YuvToArgbRow",Vt,4),Qr("YuvToRgba4444Row",Ze,2),Qr("YuvToRgb565Row",je,2);var z8=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],r2=[0,2,8],zne=[8,7,6,4,4,2,2,2,1,1,1,1],Hne=1;this.WebPDecodeRGBA=function(b,T,M,B,X){var Z=Xx,ee=new kc,ne=new Wr;ee.ba=ne,ne.S=Z,ne.width=[ne.width],ne.height=[ne.height];var oe=ne.width,fe=ne.height,be=new xn;if(be==null||b==null)var Ie=2;else e(be!=null),Ie=zl(b,T,M,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ie!=0?oe=0:(oe!=null&&(oe[0]=be.width[0]),fe!=null&&(fe[0]=be.height[0]),oe=1),oe){ne.width=ne.width[0],ne.height=ne.height[0],B!=null&&(B[0]=ne.width),X!=null&&(X[0]=ne.height);e:{if(B=new Cc,(X=new Wu).data=b,X.w=T,X.ha=M,X.kd=1,T=[0],e(X!=null),((b=zl(X.data,X.w,X.ha,null,null,null,T,null,X))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(ee!=null),B.data=X.data,B.w=X.w+X.offset,B.ha=X.ha-X.offset,B.put=ca,B.ac=Zn,B.bc=Io,B.ma=ee,X.xa){if((b=$n())==null){ee=1;break e}if(function(Oe,Ne){var We=[0],Le=[0],_e=[0];t:for(;;){if(Oe==null)return 0;if(Ne==null)return Oe.a=2,0;if(Oe.l=Ne,Oe.a=0,$(Oe.m,Ne.data,Ne.w,Ne.ha),!xt(Oe.m,We,Le,_e)){Oe.a=3;break t}if(Oe.xb=L8,Ne.width=We[0],Ne.height=Le[0],!Oo(We[0],Le[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0}(b,B)){if(B=(T=$p(B.width,B.height,ee.Oa,ee.ba))==0){t:{B=b;r:for(;;){if(B==null){B=0;break t}if(e(B.s.yc!=null),e(B.s.Ya!=null),e(0<B.s.Wb),e((M=B.l)!=null),e((X=M.ma)!=null),B.xb!=0){if(B.ca=X.ba,B.tb=X.tb,e(B.ca!=null),!Zg(X.Oa,M,Qx)){B.a=2;break r}if(!kl(B,M.width)||M.da)break r;if((M.da||ct(B.ca.S))&&Ce(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Ce()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!Me(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!Ma(B,B.V,B.Ba,B.c,B.i,M.o,ku))break r;X.Dc=B.Ma,B=1;break t}e(B.a!=0),B=0}B=!B}B&&(T=b.a)}else T=b.a}else{if((b=new Bf)==null){ee=1;break e}if(b.Fa=X.na,b.P=X.P,b.qc=X.Sa,Uf(b,B)){if((T=$p(B.width,B.height,ee.Oa,ee.ba))==0){if(b.Aa=0,M=ee.Oa,e((X=b)!=null),M!=null){if(0<(oe=0>(oe=M.Md)?0:100<oe?255:255*oe/100)){for(fe=be=0;4>fe;++fe)12>(Ie=X.pb[fe]).lc&&(Ie.ia=oe*zne[0>Ie.lc?0:Ie.lc]>>3),be|=Ie.ia;be&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=M.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}jp(b,B)||(T=b.a)}}else T=b.a}T==0&&ee.Oa!=null&&ee.Oa.fd&&(T=Jg(ee.ba))}ee=T}Z=ee!=0?null:11>Z?ne.f.RGBA.eb:ne.f.kb.y}else Z=null;return Z};var H8=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,P){for(var R="",I=0;I<4;I++)R+=String.fromCharCode(S[P++]);return R}function u(S,P){return(S[P+0]<<0|S[P+1]<<8|S[P+2]<<16)>>>0}function f(S,P){return(S[P+0]<<0|S[P+1]<<8|S[P+2]<<16|S[P+3]<<24)>>>0}new l;var h=[0],p=[0],m=[],g=new l,x=t,v=function(S,P){var R={},I=0,k=!1,D=0,z=0;if(R.frames=[],!function(q,Q,se,G){for(var le=0;le<G;le++)if(q[Q+le]!=se.charCodeAt(le))return!0;return!1}(S,P,"RIFF",4)){for(f(S,P+=4),P+=8;P<S.length;){var J=c(S,P),U=f(S,P+=4);P+=4;var K=U+(1&U);switch(J){case"VP8 ":case"VP8L":R.frames[I]===void 0&&(R.frames[I]={}),(te=R.frames[I]).src_off=k?z:P-8,te.src_size=D+U+8,I++,k&&(k=!1,D=0,z=0);break;case"VP8X":(te=R.header={}).feature_flags=S[P];var $=P+4;te.canvas_width=1+u(S,$),$+=3,te.canvas_height=1+u(S,$),$+=3;break;case"ALPH":k=!0,D=K+8,z=P-8;break;case"ANIM":(te=R.header).bgcolor=f(S,P),$=P+4,te.loop_count=(ie=S)[(F=$)+0]<<0|ie[F+1]<<8,$+=2;break;case"ANMF":var H,te;(te=R.frames[I]={}).offset_x=2*u(S,P),P+=3,te.offset_y=2*u(S,P),P+=3,te.width=1+u(S,P),P+=3,te.height=1+u(S,P),P+=3,te.duration=u(S,P),P+=3,H=S[P++],te.dispose=1&H,te.blend=H>>1&1}J!="ANMF"&&(P+=K)}var ie,F;return R}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,w=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var C=0;C<w.length&&w[C].blend!=0;C++);}var A=w[0],O=g.WebPDecodeRGBA(x,A.src_off,A.src_size,p,h);A.rgba=O,A.imgwidth=p[0],A.imgheight=h[0];for(var N=0;N<p[0]*h[0]*4;N++)m[N]=O[N];return this.width=p,this.height=h,this.data=m,this}(function(t){var e=function(){return typeof UN=="function"},r=function(h,p,m,g){var x=4,v=o;switch(g){case t.image_compression.FAST:x=1,v=a;break;case t.image_compression.MEDIUM:x=6,v=s;break;case t.image_compression.SLOW:x=9,v=l}h=n(h,p,m,v);var y=UN(h,{level:x});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,m,g){for(var x,v,y,w=h.length/p,C=new Uint8Array(h.length+w),A=u(),O=0;O<w;O+=1){if(y=O*p,x=h.subarray(y,y+p),g)C.set(g(x,m,v),y+O);else{for(var N,S=A.length,P=[];N<S;N+=1)P[N]=A[N](x,m,v);var R=f(P.concat());C.set(P[R],y+O)}v=x}return C},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},a=function(h,p){var m,g=[],x=h.length;g[0]=1;for(var v=0;v<x;v+=1)m=h[v-p]||0,g[v+1]=h[v]-m+256&255;return g},o=function(h,p,m){var g,x=[],v=h.length;x[0]=2;for(var y=0;y<v;y+=1)g=m&&m[y]||0,x[y+1]=h[y]-g+256&255;return x},s=function(h,p,m){var g,x,v=[],y=h.length;v[0]=3;for(var w=0;w<y;w+=1)g=h[w-p]||0,x=m&&m[w]||0,v[w+1]=h[w]+256-(g+x>>>1)&255;return v},l=function(h,p,m){var g,x,v,y,w=[],C=h.length;w[0]=4;for(var A=0;A<C;A+=1)g=h[A-p]||0,x=m&&m[A]||0,v=m&&m[A-p]||0,y=c(g,x,v),w[A+1]=h[A]-y+256&255;return w},c=function(h,p,m){if(h===p&&p===m)return h;var g=Math.abs(p-m),x=Math.abs(h-m),v=Math.abs(h+p-m-m);return g<=x&&g<=v?h:x<=v?p:m},u=function(){return[i,a,o,s,l]},f=function(h){var p=h.map(function(m){return m.reduce(function(g,x){return g+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,m,g){var x,v,y,w,C,A,O,N,S,P,R,I,k,D,z,J=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new L5e(h)).imgData,v=y.bits,x=y.colorSpace,C=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){S=(N=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,R=new Uint8Array(S*y.colors),P=new Uint8Array(S);var K,$=y.pixelBitlength-y.bits;for(D=0,z=0;D<S;D++){for(k=N[D],K=0;K<$;)R[z++]=k>>>K&255,K+=y.bits;P[D]=k>>>K&255}}if(y.bits===16){S=(N=new Uint32Array(y.decodePixels().buffer)).length,R=new Uint8Array(S*(32/y.pixelBitlength)*y.colors),P=new Uint8Array(S*(32/y.pixelBitlength)),I=y.colors>1,D=0,z=0;for(var H=0;D<S;)k=N[D++],R[z++]=k>>>0&255,I&&(R[z++]=k>>>16&255,k=N[D++],R[z++]=k>>>0&255),P[H++]=k>>>16&255;v=8}g!==t.image_compression.NONE&&e()?(h=r(R,y.width*y.colors,y.colors,g),O=r(P,y.width,1,g)):(h=R,O=P,J=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,A=y.palette,y.transparency.indexed)){var te=y.transparency.indexed,ie=0;for(D=0,S=te.length;D<S;++D)ie+=te[D];if((ie/=255)===S-1&&te.indexOf(0)!==-1)w=[te.indexOf(0)];else if(ie!==S){for(N=y.decodePixels(),P=new Uint8Array(N.length),D=0,S=N.length;D<S;D++)P[D]=te[N[D]];O=r(P,y.width,1)}}var F=function(q){var Q;switch(q){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return J===this.decode.FLATE_DECODE&&(U="/Predictor "+F+" "),U+="/Colors "+C+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:m,data:h,index:p,filter:J,decodeParameters:U,transparency:w,palette:A,sMask:O,predictor:F,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:x}}}})(Dt.API),function(t){t.processGIF89A=function(e,r,n,i){var a=new F5e(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},u=new O3(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(Dt.API),Zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Jr.log("bit decode error:"+r)}},Zs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Zs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Zs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Zs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Zs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},Zs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Zs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},Zs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new Zs(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new O3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Dt.API),S7.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new S7(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new O3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(Dt.API),Dt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];a[s++]=u,a[s++]=f,a[s++]=h,o[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sm=Dt.API,Z2=sm.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=t.length,m=0,g=s[0]||l,x=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(h=f&&Tr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,x.push((s[n]||g)/l+h)),m=n;return x},x7=sm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return sm.processArabic&&(t=sm.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Z2.apply(this,arguments).reduce(function(a,o){return a+o},0)},w7=function(t,e,r,n){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<r;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},b7=function(t,e,r){r||(r={});var n,i,a,o,s,l,c,u=[],f=[u],h=r.textIndent||0,p=0,m=0,g=t.split(" "),x=Z2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?y=y.concat(C.map(function(A,O){return(O&&A.length?`
`:"")+A})):y.push(C[0])}),g=y,l=x7.apply(this,[v,r])}for(a=0,o=g.length;a<o;a++){var w=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(m=(i=Z2.apply(this,[n,r])).reduce(function(C,A){return C+A},0))>e||w){if(m>e){for(s=w7.apply(this,[n,i,e-(h+p),e]),u.push(s.shift()),u=[s.pop()];s.length;)f.push([s.shift()]);m=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,A){return C+A},0)}else u=[n];f.push(u),h=m+l,p=x}else u.push(n),h+=p+m,p=x}return c=l?function(C,A){return(A?v:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(c)},sm.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,l,c=[];for(s=0,l=n.length;s<l;s++)c=c.concat(b7.apply(this,[n[s],o,a]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,m,g,x=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=a(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(m=a(h).slice(3),g="-"):(m=a(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(Tr(h)!=="object")throw new Error("Don't know what to do with value type "+Tr(h)+".");m=o(h)}x.push(p+m)}return x.push("}"),x.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,m,g,x={},v=1,y=x,w=[],C="",A="",O=f.length-1,N=1;N<O;N+=1)(g=f[N])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(w.push([y,m]),y={},m=void 0):g=="}"?((p=w.pop())[0][p[1]]=y,m=void 0,y=p[0]):g=="-"?v=-1:m===void 0?r.hasOwnProperty(g)?(C+=r[g],m=parseInt(C,16)*v,v=1,C=""):C+=g:r.hasOwnProperty(g)?(A+=r[g],y[m]=parseInt(A,16)*v,v=1,m=void 0,A=""):A+=g;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Dt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(wv(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Dt),function(t){function e(){return(Ft.canvg?Promise.resolve(Ft.canvg):MN(()=>import("./index.es-BBRo8Btl.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Dt.API.addSvgAsImage=function(r,n,i,a,o,s,l,c){if(isNaN(n)||isNaN(i))throw Jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,i,a,o,l,c)})}}(),Dt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Dt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,u=0,f=0;function h(m,g){var x,v=!1;for(x=0;x<m.length;x+=1)m[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=s.length;for(f=0;f<p;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if(Tr(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&h(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Dt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},n=function(a){var o,s,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(p,m){return p-m})).length;f<h;f++)o=s[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,u=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var g=c();u({data:p,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:n(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+pm(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+pm(s.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+pm(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,c=o.newObject,u=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+pm(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var v=0;v<s.metadata.hmtx.widths.length;v++)s.metadata.hmtx.widths[v]=parseInt(s.metadata.hmtx.widths[v]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+pm(s.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,g=p,x="",v=0,y="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:f};for(y=s,g=p,Array.isArray(s)&&(y=s[0]),v=0;v<y.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),o||y[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?x+=y[v]:x+="";var C="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?C=h(x,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(C=r(x,m[g])),f.isHex=!0,{text:C,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?s.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):s.push(i(Object.assign({},l,{text:o[c]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(Dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,s,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var C=function(I){var k=I.charCodeAt(),D=k>>8,z=g[D];return z!==void 0?f[256*z+(255&k)]:D===252||D===253?"AL":v.test(D)?"L":D===8?"R":"N"},A=function(I){for(var k,D=0;D<I.length;D++){if((k=C(I.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},O=function(I,k,D,z){var J,U,K,$,H=k[z];switch(H){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":H="N";break;case"CS":z<1||z+1>=k.length||(J=D[z-1])!=="EN"&&J!=="AN"||(U=k[z+1])!=="EN"&&U!=="AN"?H="N":y&&(U="AN"),H=U===J?U:"N";break;case"ES":H=(J=z>0?D[z-1]:"B")==="EN"&&z+1<k.length&&k[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&D[z-1]==="EN"){H="EN";break}if(y){H="N";break}for(K=z+1,$=k.length;K<$&&k[K]==="ET";)K++;H=K<$&&k[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for($=k.length,K=z+1;K<$&&k[K]==="NSM";)K++;if(K<$){var te=I[z],ie=te>=1425&&te<=2303||te===64286;if(J=k[K],ie&&(J==="R"||J==="AL")){H="R";break}}}H=z<1||(J=k[z-1])==="B"?"N":D[z-1];break;case"B":y=!1,i=!0,H=w;break;case"S":a=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":H="N"}return H},N=function(I,k,D){var z=I.split("");return D&&S(z,D,{hiLevel:w}),z.reverse(),k&&k.reverse(),z.join("")},S=function(I,k,D){var z,J,U,K,$,H=-1,te=I.length,ie=0,F=[],q=w?p:h,Q=[];for(y=!1,i=!1,a=!1,J=0;J<te;J++)Q[J]=C(I[J]);for(U=0;U<te;U++){if($=ie,F[U]=O(I,Q,F,U),z=240&(ie=q[$][m[F[U]]]),ie&=15,k[U]=K=q[ie][5],z>0)if(z===16){for(J=H;J<U;J++)k[J]=1;H=-1}else H=-1;if(q[ie][6])H===-1&&(H=U);else if(H>-1){for(J=H;J<U;J++)k[J]=K;H=-1}Q[U]==="B"&&(k[U]=0),D.hiLevel|=K}a&&function(se,G,le){for(var de=0;de<le;de++)if(se[de]==="S"){G[de]=w;for(var ae=de-1;ae>=0&&se[ae]==="WS";ae--)G[ae]=w}}(Q,k,te)},P=function(I,k,D,z,J){if(!(J.hiLevel<I)){if(I===1&&w===1&&!i)return k.reverse(),void(D&&D.reverse());for(var U,K,$,H,te=k.length,ie=0;ie<te;){if(z[ie]>=I){for($=ie+1;$<te&&z[$]>=I;)$++;for(H=ie,K=$-1;H<K;H++,K--)U=k[H],k[H]=k[K],k[K]=U,D&&(U=D[H],D[H]=D[K],D[K]=U);ie=$}ie++}}},R=function(I,k,D){var z=I.split(""),J={hiLevel:w};return D||(D=[]),S(z,D,J),function(U,K,$){if($.hiLevel!==0&&u)for(var H,te=0;te<U.length;te++)K[te]===1&&(H=x.indexOf(U[te]))>=0&&(U[te]=x[H+1])}(z,D,J),P(2,z,k,D,J),P(1,z,k,D,J),z.join("")};return this.__bidiEngine__.doBidiReorder=function(I,k,D){if(function(J,U){if(U)for(var K=0;K<J.length;K++)U[K]=K;s===void 0&&(s=A(J)),c===void 0&&(c=A(J))}(I,k),o||!l||c)if(o&&l&&s^c)w=s?1:0,I=N(I,k,D);else if(!o&&l&&c)w=s?1:0,I=R(I,k,D),I=N(I,k);else if(!o||s||l||c){if(o&&!l&&s^c)I=N(I,k),s?(w=0,I=R(I,k,D)):(w=1,I=R(I,k,D),I=N(I,k));else if(o&&s&&!l&&c)w=1,I=R(I,k,D),I=N(I,k);else if(!o&&!l&&s^c){var z=u;s?(w=1,I=R(I,k,D),w=0,u=!1,I=R(I,k,D),u=z):(w=0,I=R(I,k,D),I=N(I,k),w=1,u=!1,I=R(I,k,D),u=z,I=N(I,k))}}else w=0,I=R(I,k,D);else w=s?1:0,I=R(I,k,D);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,s=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ff(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new J5e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new B5e(this.contents),this.head=new U5e(this),this.name=new W5e(this),this.cmap=new LX(this),this.toUnicode={},this.hhea=new V5e(this),this.maxp=new G5e(this),this.hmtx=new K5e(this),this.post=new H5e(this),this.os2=new z5e(this),this.loca=new Z5e(this),this.glyf=new Y5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,c;for(c=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Il,ff=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,s,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),B5e=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,s,l,c,u,f,h,p,m,g;for(g in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),u=16*p-f,(i=new ff).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(u),a=16*p,c=i.pos+a,s=null,m=[],r)for(h=r[g],i.writeString(g),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),m=m.concat(h),g==="head"&&(s=c),c+=h.length;c%4;)m.push(0),c++;return i.write(m),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=FX.call(r);r.length%4;)r.push(0);for(a=new ff(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),$5e={}.hasOwnProperty,wc=function(t,e){for(var r in e)$5e.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Il=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var U5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ff).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),A7=function(){function t(e,r){var n,i,a,o,s,l,c,u,f,h,p,m,g,x,v,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var C,A;for(A=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)A.push(e.readUInt16());return A}(),e.pos+=2,g=function(){var C,A;for(A=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)A.push(e.readUInt16());return A}(),c=function(){var C,A;for(A=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)A.push(e.readUInt16());return A}(),u=function(){var C,A;for(A=[],l=C=0;0<=h?C<h:C>h;l=0<=h?++C:--C)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,s=function(){var C,A;for(A=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)A.push(e.readUInt16());return A}(),l=v=0,w=a.length;v<w;l=++v)for(x=a[l],n=y=m=g[l];m<=x?y<=x:y>=x;n=m<=x?++y:--y)u[l]===0?o=n+c[l]:(o=s[u[l]/2+(n-m)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=f}return t.encode=function(e,r){var n,i,a,o,s,l,c,u,f,h,p,m,g,x,v,y,w,C,A,O,N,S,P,R,I,k,D,z,J,U,K,$,H,te,ie,F,q,Q,se,G,le,de,ae,ye,ge,ve;switch(z=new ff,o=Object.keys(e).sort(function(Re,Me){return Re-Me}),r){case"macroman":for(g=0,x=function(){var Re=[];for(m=0;m<256;++m)Re.push(0);return Re}(),y={0:0},a={},J=0,H=o.length;J<H;J++)y[ae=e[i=o[J]]]==null&&(y[ae]=++g),a[i]={old:e[i],new:y[e[i]]},x[i]=y[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:a,subtable:z.data,maxGlyphID:g+1};case"unicode":for(k=[],f=[],w=0,y={},n={},v=c=null,U=0,te=o.length;U<te;U++)y[A=e[i=o[U]]]==null&&(y[A]=++w),n[i]={old:A,new:y[A]},s=y[A]-i,v!=null&&s===c||(v&&f.push(v),k.push(i),c=s),v=i;for(v&&f.push(v),f.push(65535),k.push(65535),R=2*(P=k.length),S=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,N=2*P-S,l=[],O=[],p=[],m=K=0,ie=k.length;K<ie;m=++K){if(I=k[m],u=f[m],I===65535){l.push(0),O.push(0);break}if(I-(D=n[I].new)>=32768)for(l.push(0),O.push(2*(p.length+P-m)),i=$=I;I<=u?$<=u:$>=u;i=I<=u?++$:--$)p.push(n[i].new);else l.push(D-I),O.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*P+2*p.length),z.writeUInt16(0),z.writeUInt16(R),z.writeUInt16(S),z.writeUInt16(h),z.writeUInt16(N),le=0,F=f.length;le<F;le++)i=f[le],z.writeUInt16(i);for(z.writeUInt16(0),de=0,q=k.length;de<q;de++)i=k[de],z.writeUInt16(i);for(ye=0,Q=l.length;ye<Q;ye++)s=l[ye],z.writeUInt16(s);for(ge=0,se=O.length;ge<se;ge++)C=O[ge],z.writeUInt16(C);for(ve=0,G=p.length;ve<G;ve++)g=p[ve],z.writeUInt16(g);return{charMap:n,subtable:z.data,maxGlyphID:w+1}}},t}(),LX=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new A7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=A7.encode(r,n),(a=new ff).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),V5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),z5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),H5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,c;for(c=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)c.push(r.readUInt32());return c}).call(this)}},e}(),q5e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},W5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,a,o,s,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=f=0,h=i.length;f<h;o=++f)a=i[o],r.pos=a.offset,u=r.readString(a.length),s=new q5e(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),G5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),K5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,a,o,s,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)o=h[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],n=s=0;0<=a?s<a:s>a;n=0<=a?++s:--s)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),FX=[].slice,Y5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,a,o,s,l,c,u,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,s=(l=new ff(n.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=s===-1?new Q5e(l,u,h,c,f):new X5e(l,s,u,h,c,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var a,o,s,l,c;for(s=[],o=[],l=0,c=n.length;l<c;l++)a=r[n[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),X5e=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Q5e=function(){function t(e,r,n,i,a){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ff(FX.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Z5e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return wc(e,Il),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<n.length&&n[o]==s){++o,i[s]=a;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(a+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e}(),J5e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,s,l,c,u,f,h,p,m,g,x,v;for(i in n=LX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},v=n.charMap)p[(l=v[i]).old]=l.new;for(m in h=n.maxGlyphID,o)m in p||(p[m]=h++);return u=function(y){var w,C;for(w in C={},y)C[y[w]]=w;return C}(p),f=Object.keys(u).sort(function(y,w){return y-w}),g=function(){var y,w,C;for(C=[],y=0,w=f.length;y<w;y++)s=f[y],C.push(u[s]);return C}(),a=this.font.glyf.encode(o,g,p),c=this.font.loca.encode(a.offsets,g),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();Dt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,l,c;for(c=[],s=0,l=r.length;s<l;s++)n=r[s],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();var BX={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(xm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,s={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var R=A(P);R.chunkSize=parseInt(R.chunkSize),P.step||P.chunk||(R.chunkSize=null),this._handle=new g(R),(this._handle.streamer=this)._config=R}).call(this,S),this.parseChunk=function(P,R){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let D=this._config.newline;D||(k=this._config.quoteChar||'"',D=this._handle.guessLineEndings(P,k)),P=[...P.split(D).slice(I)].join(D)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(P))!==void 0&&(P=k),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+P,k=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=k.meta.cursor,I=(this._finished||(this._partialLine=I.substring(P-this._baseIndex),this._baseIndex=P),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:k,workerId:c.WORKER_ID,finished:I});else if(N(this._config.chunk)&&!R){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!I||!N(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(P){N(this._config.error)?this._config.error(P):o&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:P,finished:!1})}}function f(S){var P;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var R,I=this._config.downloadRequestHeaders;for(R in I)P.setRequestHeader(R,I[R])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+k));try{P.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(R=>(R=R.getResponseHeader("Content-Range"))!==null?parseInt(R.substring(R.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(R){R=P.statusText||R,this._sendError(new Error(R))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var P,R,I=typeof FileReader<"u";this.stream=function(k){this._input=k,R=k.slice||k.webkitSlice||k.mozSlice,I?((P=new FileReader).onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),k=R.call(k,this._start,D)),P.readAsText(k,this._config.encoding));I||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(P.error)}}function p(S){var P;u.call(this,S=S||{}),this.stream=function(R){return P=R,this._nextChunk()},this._nextChunk=function(){var R,I;if(!this._finished)return R=this._config.chunkSize,P=R?(I=P.substring(0,R),P.substring(R)):(I=P,""),this._finished=!P,this.parseChunk(I)}}function m(S){u.call(this,S=S||{});var P=[],R=!0,I=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):R=!0},this._streamData=O(function(k){try{P.push(typeof k=="string"?k:k.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(D){this._streamError(D)}},this),this._streamError=O(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=O(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(S){var P,R,I,k,D=Math.pow(2,53),z=-D,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,$=0,H=0,te=!1,ie=!1,F=[],q={data:[],errors:[],meta:{}};function Q(de){return S.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function se(){if(q&&I&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),I=!1),S.skipEmptyLines&&(q.data=q.data.filter(function(ge){return!Q(ge)})),G()){let ge=function(ve,Re){N(S.transformHeader)&&(ve=S.transformHeader(ve,Re)),F.push(ve)};if(q)if(Array.isArray(q.data[0])){for(var de=0;G()&&de<q.data.length;de++)q.data[de].forEach(ge);q.data.splice(0,1)}else q.data.forEach(ge)}function ae(ge,ve){for(var Re=S.header?{}:[],Me=0;Me<ge.length;Me++){var Se=Me,W=ge[Me],W=((Pe,ce)=>(me=>(S.dynamicTypingFunction&&S.dynamicTyping[me]===void 0&&(S.dynamicTyping[me]=S.dynamicTypingFunction(me)),(S.dynamicTyping[me]||S.dynamicTyping)===!0))(Pe)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((me=>{if(J.test(me)&&(me=parseFloat(me),z<me&&me<D))return 1})(ce)?parseFloat(ce):U.test(ce)?new Date(ce):ce===""?null:ce):ce)(Se=S.header?Me>=F.length?"__parsed_extra":F[Me]:Se,W=S.transform?S.transform(W,Se):W);Se==="__parsed_extra"?(Re[Se]=Re[Se]||[],Re[Se].push(W)):Re[Se]=W}return S.header&&(Me>F.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+Me,H+ve):Me<F.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+Me,H+ve)),Re}var ye;q&&(S.header||S.dynamicTyping||S.transform)&&(ye=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(ae),ye=q.data.length):q.data=ae(q.data,0),S.header&&q.meta&&(q.meta.fields=F),H+=ye)}function G(){return S.header&&F.length===0}function le(de,ae,ye,ge){de={type:de,code:ae,message:ye},ge!==void 0&&(de.row=ge),q.errors.push(de)}N(S.step)&&(k=S.step,S.step=function(de){q=de,G()?se():(se(),q.data.length!==0&&($+=de.data.length,S.preview&&$>S.preview?R.abort():(q.data=q.data[0],k(q,K))))}),this.parse=function(de,ae,ye){var ge=S.quoteChar||'"',ge=(S.newline||(S.newline=this.guessLineEndings(de,ge)),I=!1,S.delimiter?N(S.delimiter)&&(S.delimiter=S.delimiter(de),q.meta.delimiter=S.delimiter):((ge=((ve,Re,Me,Se,W)=>{var Pe,ce,me,we;W=W||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ue=0;Ue<W.length;Ue++){for(var ze,et=W[Ue],at=0,Te=0,Fe=0,Ge=(me=void 0,new v({comments:Se,delimiter:et,newline:Re,preview:10}).parse(ve)),Ye=0;Ye<Ge.data.length;Ye++)Me&&Q(Ge.data[Ye])?Fe++:(ze=Ge.data[Ye].length,Te+=ze,me===void 0?me=ze:0<ze&&(at+=Math.abs(ze-me),me=ze));0<Ge.data.length&&(Te/=Ge.data.length-Fe),(ce===void 0||at<=ce)&&(we===void 0||we<Te)&&1.99<Te&&(ce=at,Pe=et,we=Te)}return{successful:!!(S.delimiter=Pe),bestDelimiter:Pe}})(de,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ge.bestDelimiter:(I=!0,S.delimiter=c.DefaultDelimiter),q.meta.delimiter=S.delimiter),A(S));return S.preview&&S.header&&ge.preview++,P=de,R=new v(ge),q=R.parse(P,ae,ye),se(),te?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,R.abort(),P=N(S.chunk)?"":P.substring(R.getCharIndex())},this.resume=function(){K.streamer._halted?(te=!1,K.streamer.parseChunk(P,!0)):setTimeout(K.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,R.abort(),q.meta.aborted=!0,N(S.complete)&&S.complete(q),P=""},this.guessLineEndings=function(ve,ge){ve=ve.substring(0,1048576);var ge=new RegExp(x(ge)+"([^]*?)"+x(ge),"gm"),ye=(ve=ve.replace(ge,"")).split("\r"),ge=ve.split(`
`),ve=1<ge.length&&ge[0].length<ye[0].length;if(ye.length===1||ve)return`
`;for(var Re=0,Me=0;Me<ye.length;Me++)ye[Me][0]===`
`&&Re++;return Re>=ye.length/2?`\r
`:"\r"}}function x(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(S){var P=(S=S||{}).delimiter,R=S.newline,I=S.comments,k=S.step,D=S.preview,z=S.fastMode,J=null,U=!1,K=S.quoteChar==null?'"':S.quoteChar,$=K;if(S.escapeChar!==void 0&&($=S.escapeChar),(typeof P!="string"||-1<c.BAD_DELIMITERS.indexOf(P))&&(P=","),I===P)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<c.BAD_DELIMITERS.indexOf(I))&&(I=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var H=0,te=!1;this.parse=function(ie,F,q){if(typeof ie!="string")throw new Error("Input must be a string");var Q=ie.length,se=P.length,G=R.length,le=I.length,de=N(k),ae=[],ye=[],ge=[],ve=H=0;if(!ie)return at();if(z||z!==!1&&ie.indexOf(K)===-1){for(var Re=ie.split(R),Me=0;Me<Re.length;Me++){if(ge=Re[Me],H+=ge.length,Me!==Re.length-1)H+=R.length;else if(q)return at();if(!I||ge.substring(0,le)!==I){if(de){if(ae=[],we(ge.split(P)),Te(),te)return at()}else we(ge.split(P));if(D&&D<=Me)return ae=ae.slice(0,D),at(!0)}}return at()}for(var Se=ie.indexOf(P,H),W=ie.indexOf(R,H),Pe=new RegExp(x($)+x(K),"g"),ce=ie.indexOf(K,H);;)if(ie[H]===K)for(ce=H,H++;;){if((ce=ie.indexOf(K,ce+1))===-1)return q||ye.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:H}),ze();if(ce===Q-1)return ze(ie.substring(H,ce).replace(Pe,K));if(K===$&&ie[ce+1]===$)ce++;else if(K===$||ce===0||ie[ce-1]!==$){Se!==-1&&Se<ce+1&&(Se=ie.indexOf(P,ce+1));var me=Ue((W=W!==-1&&W<ce+1?ie.indexOf(R,ce+1):W)===-1?Se:Math.min(Se,W));if(ie.substr(ce+1+me,se)===P){ge.push(ie.substring(H,ce).replace(Pe,K)),ie[H=ce+1+me+se]!==K&&(ce=ie.indexOf(K,H)),Se=ie.indexOf(P,H),W=ie.indexOf(R,H);break}if(me=Ue(W),ie.substring(ce+1+me,ce+1+me+G)===R){if(ge.push(ie.substring(H,ce).replace(Pe,K)),et(ce+1+me+G),Se=ie.indexOf(P,H),ce=ie.indexOf(K,H),de&&(Te(),te))return at();if(D&&ae.length>=D)return at(!0);break}ye.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:H}),ce++}}else if(I&&ge.length===0&&ie.substring(H,H+le)===I){if(W===-1)return at();H=W+G,W=ie.indexOf(R,H),Se=ie.indexOf(P,H)}else if(Se!==-1&&(Se<W||W===-1))ge.push(ie.substring(H,Se)),H=Se+se,Se=ie.indexOf(P,H);else{if(W===-1)break;if(ge.push(ie.substring(H,W)),et(W+G),de&&(Te(),te))return at();if(D&&ae.length>=D)return at(!0)}return ze();function we(Fe){ae.push(Fe),ve=H}function Ue(Fe){var Ge=0;return Ge=Fe!==-1&&(Fe=ie.substring(ce+1,Fe))&&Fe.trim()===""?Fe.length:Ge}function ze(Fe){return q||(Fe===void 0&&(Fe=ie.substring(H)),ge.push(Fe),H=Q,we(ge),de&&Te()),at()}function et(Fe){H=Fe,we(ge),ge=[],W=ie.indexOf(R,H)}function at(Fe){if(S.header&&!F&&ae.length&&!U){var Ge=ae[0],Ye={},rt=new Set(Ge);let vt=!1;for(let tt=0;tt<Ge.length;tt++){let Yt=Ge[tt];if(Ye[Yt=N(S.transformHeader)?S.transformHeader(Yt,tt):Yt]){let $t,Fn=Ye[Yt];for(;$t=Yt+"_"+Fn,Fn++,rt.has($t););rt.add($t),Ge[tt]=$t,Ye[Yt]++,vt=!0,(J=J===null?{}:J)[$t]=Yt}else Ye[Yt]=1,Ge[tt]=Yt;rt.add(Yt)}vt&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:ae,errors:ye,meta:{delimiter:P,linebreak:R,aborted:te,truncated:!!Fe,cursor:ve+(F||0),renamedHeaders:J}}}function Te(){k(at()),ae=[],ye=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return H}}function y(S){var P=S.data,R=s[P.workerId],I=!1;if(P.error)R.userError(P.error,P.file);else if(P.results&&P.results.data){var k={abort:function(){I=!0,w(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(N(R.userStep)){for(var D=0;D<P.results.data.length&&(R.userStep({data:P.results.data[D],errors:P.results.errors,meta:P.results.meta},k),!I);D++);delete P.results}else N(R.userChunk)&&(R.userChunk(P.results,k,P.file),delete P.results)}P.finished&&!I&&w(P.workerId,P.results)}function w(S,P){var R=s[S];N(R.userComplete)&&R.userComplete(P),R.terminate(),delete s[S]}function C(){throw new Error("Not implemented.")}function A(S){if(typeof S!="object"||S===null)return S;var P,R=Array.isArray(S)?[]:{};for(P in S)R[P]=A(S[P]);return R}function O(S,P){return function(){S.apply(P,arguments)}}function N(S){return typeof S=="function"}return c.parse=function(S,P){var R=(P=P||{}).dynamicTyping||!1;if(N(R)&&(P.dynamicTypingFunction=R,R={}),P.dynamicTyping=R,P.transform=!!N(P.transform)&&P.transform,!P.worker||!c.WORKERS_SUPPORTED)return R=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(S),R=new(P.download?f:p)(P)):S.readable===!0&&N(S.read)&&N(S.on)?R=new m(P):(n.File&&S instanceof File||S instanceof Object)&&(R=new h(P)),R.stream(S);(R=(()=>{var I;return!!c.WORKERS_SUPPORTED&&(I=(()=>{var k=n.URL||n.webkitURL||null,D=r.toString();return c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=y,I.id=l++,s[I.id]=I)})()).userStep=P.step,R.userChunk=P.chunk,R.userComplete=P.complete,R.userError=P.error,P.step=N(P.step),P.chunk=N(P.chunk),P.complete=N(P.complete),P.error=N(P.error),delete P.worker,R.postMessage({input:S,config:P,workerId:R.id})},c.unparse=function(S,P){var R=!1,I=!0,k=",",D=`\r
`,z='"',J=z+z,U=!1,K=null,$=!1,H=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||c.BAD_DELIMITERS.filter(function(F){return P.delimiter.indexOf(F)!==-1}).length||(k=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(R=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(U=P.skipEmptyLines),typeof P.newline=="string"&&(D=P.newline),typeof P.quoteChar=="string"&&(z=P.quoteChar),typeof P.header=="boolean"&&(I=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");K=P.columns}P.escapeChar!==void 0&&(J=P.escapeChar+z),P.escapeFormulae instanceof RegExp?$=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(z),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return te(null,S,U);if(typeof S[0]=="object")return te(K||Object.keys(S[0]),S,U)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||K),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),te(S.fields||[],S.data||[],U);throw new Error("Unable to serialize unrecognized input");function te(F,q,Q){var se="",G=(typeof F=="string"&&(F=JSON.parse(F)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(F)&&0<F.length),le=!Array.isArray(q[0]);if(G&&I){for(var de=0;de<F.length;de++)0<de&&(se+=k),se+=ie(F[de],de);0<q.length&&(se+=D)}for(var ae=0;ae<q.length;ae++){var ye=(G?F:q[ae]).length,ge=!1,ve=G?Object.keys(q[ae]).length===0:q[ae].length===0;if(Q&&!G&&(ge=Q==="greedy"?q[ae].join("").trim()==="":q[ae].length===1&&q[ae][0].length===0),Q==="greedy"&&G){for(var Re=[],Me=0;Me<ye;Me++){var Se=le?F[Me]:Me;Re.push(q[ae][Se])}ge=Re.join("").trim()===""}if(!ge){for(var W=0;W<ye;W++){0<W&&!ve&&(se+=k);var Pe=G&&le?F[W]:W;se+=ie(q[ae][Pe],W)}ae<q.length-1&&(!Q||0<ye&&!ve)&&(se+=D)}}return se}function ie(F,q){var Q,se;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(se=!1,$&&typeof F=="string"&&$.test(F)&&(F="'"+F,se=!0),Q=F.toString().replace(H,J),(se=se||R===!0||typeof R=="function"&&R(F,q)||Array.isArray(R)&&R[q]||((G,le)=>{for(var de=0;de<le.length;de++)if(-1<G.indexOf(le[de]))return!0;return!1})(Q,c.BAD_DELIMITERS)||-1<Q.indexOf(k)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?z+Q+z:Q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=g,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((i=n.jQuery).fn.parse=function(S){var P=S.config||{},R=[];return this.each(function(D){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)R.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},P)})}),I(),this;function I(){if(R.length===0)N(S.complete)&&S.complete();else{var D,z,J,U,K=R[0];if(N(S.before)){var $=S.before(K.file,K.inputElem);if(typeof $=="object"){if($.action==="abort")return D="AbortError",z=K.file,J=K.inputElem,U=$.reason,void(N(S.error)&&S.error({name:D},z,J,U));if($.action==="skip")return void k();typeof $.config=="object"&&(K.instanceConfig=i.extend(K.instanceConfig,$.config))}else if($==="skip")return void k()}var H=K.instanceConfig.complete;K.instanceConfig.complete=function(te){N(H)&&H(te,K.file,K.inputElem),k()},c.parse(K.file,K.instanceConfig)}}function k(){R.splice(0,1),I()}}),o&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(BX);var eSe=BX.exports;const $X=Rr(eSe),E7=t=>t===void 0?"$0.00":`$${t.toFixed(2)}`,wk=t=>new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),tSe=t=>{const e=new Dt,r=e.internal.pageSize.getWidth(),n=15,i=16,a=12,o=10,s=8;let l=20;e.setFontSize(i),e.setFont("helvetica","bold");const c=`Shopping Trip to ${t.store}`;e.text(c,r/2,l,{align:"center"}),l+=10,e.setFontSize(o),e.setFont("helvetica","normal");const u=`Date: ${wk(t.date)}`;e.text(u,n,l),l+=6;const f=`Status: ${t.status.toUpperCase()}`;if(e.text(f,n,l),l+=6,t.shopper){const A=`Shopper: ${t.shopper.name}`;e.text(A,n,l),l+=6}if(t.participants&&t.participants.length>0){const A=`Participants: ${t.participants.map(O=>O.name).join(", ")}`;e.text(A,n,l),l+=10}else l+=4;e.setFontSize(a),e.setFont("helvetica","bold"),e.text("Items:",n,l),l+=8,e.setFontSize(o),e.setFont("helvetica","bold");const h=20,p=100,m=60,g=45;e.text("#",n,l),e.text("Item",n+h,l),e.text("Quantity",n+h+p,l),e.text("Price",n+h+p+m,l),e.text("Status",n+h+p+m+g,l),l+=6,e.setDrawColor(200,200,200),e.line(n,l,r-n,l),l+=4,e.setFont("helvetica","normal");const x=t.items.filter(A=>!A.checked),v=t.items.filter(A=>A.checked),y=(A,O)=>{l>270&&(e.addPage(),l=20),e.text(`${O+1}`,n,l);const N=A.name.length>30?A.name.substring(0,27)+"...":A.name;e.text(N,n+h,l);const S=jN(A.quantity,A.unit||"ea");e.text(S,n+h+p,l);const P=A.price?E7(A.price):"—";e.text(P,n+h+p+m,l);const R=A.checked?"Checked":"Unchecked";e.text(R,n+h+p+m+g,l),l+=6};e.setFontSize(s),e.setTextColor(0,0,0),x.forEach((A,O)=>{y(A,O)}),l+=2,v.length>0&&(e.setFontSize(o),e.setFont("helvetica","bold"),e.text("Checked Items:",n,l),l+=6,e.setFont("helvetica","normal"),e.setFontSize(s),e.setTextColor(100,100,100),v.forEach((A,O)=>{y(A,O+x.length)})),l+=4,e.setFontSize(o),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const w=t.items.reduce((A,O)=>A+(O.price||0),0),C=`Total: ${E7(w)}`;e.text(C,r-n,l,{align:"right"}),l=e.internal.pageSize.getHeight()-10,e.setFontSize(s),e.setFont("helvetica","italic"),e.text(`Generated on ${new Date().toLocaleString()}`,n,l),e.save(`shopping-trip-${t.store.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.pdf`)},rSe=t=>{var c;const e=t.items.map(u=>{var f;return[u.name,u.quantity.toString(),u.unit||"ea",u.price?u.price.toString():"",u.checked?"Checked":"Unchecked",u.category||"",((f=u.addedBy)==null?void 0:f.name)||""]}),r=["Trip Information","","","","","",""],i=[...[["Store",t.store,"","","","",""],["Date",wk(t.date),"","","","",""],["Status",t.status,"","","","",""],["Shopper",((c=t.shopper)==null?void 0:c.name)||"","","","","",""],["Participants",t.participants.map(u=>u.name).join(", "),"","","","",""],["Total Cost",t.items.reduce((u,f)=>u+(f.price||0),0).toString(),"","","","",""],["","","","","","",""]],r,...e],a=$X.unparse(i),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download",`shopping-trip-${t.store.replace(/\s+/g,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},nSe=t=>{const e=["Trip ID","Store","Date","Status","Shopper","Total Items","Total Cost"],r=t.map(l=>{var f;const c=l.items.length,u=l.items.reduce((h,p)=>h+(p.price||0),0);return[l.id,l.store,wk(l.date),l.status,((f=l.shopper)==null?void 0:f.name)||"",c.toString(),u.toString()]}),n=[e,...r],i=$X.unparse(n),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),s=document.createElement("a");s.setAttribute("href",o),s.setAttribute("download",`shopping-history-${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},UX=({trip:t,tripData:e,trips:r=[],label:n="Export",variant:i="outline",size:a="default",className:o,align:s="end",includeHistory:l=!1})=>{const[c,u]=E.useState(!1),{toast:f}=_n(),h=e?{id:e.id,name:e.store,store:e.store,items:e.items,participants:e.participants,status:e.status,date:e.date,eta:e.eta}:t,p=()=>{if(!h){f({title:"Export Error",description:"No trip data available to export",variant:"destructive"});return}try{u(!0),tSe(h),f({title:"PDF Export Successful",description:"Your shopping trip has been exported as a PDF file"})}catch(x){console.error("PDF export error:",x),f({title:"PDF Export Failed",description:"There was an error exporting the PDF. Please try again.",variant:"destructive"})}finally{u(!1)}},m=()=>{if(!h){f({title:"Export Error",description:"No trip data available to export",variant:"destructive"});return}try{u(!0),rSe(h),f({title:"CSV Export Successful",description:"Your shopping trip has been exported as a CSV file"})}catch(x){console.error("CSV export error:",x),f({title:"CSV Export Failed",description:"There was an error exporting the CSV. Please try again.",variant:"destructive"})}finally{u(!1)}},g=()=>{if(r.length===0){f({title:"Export Error",description:"No trips history data available to export",variant:"destructive"});return}try{u(!0),nSe(r),f({title:"History Export Successful",description:"Your shopping history has been exported as a CSV file"})}catch(x){console.error("History export error:",x),f({title:"History Export Failed",description:"There was an error exporting the history. Please try again.",variant:"destructive"})}finally{u(!1)}};return d.jsxs(K_e,{children:[d.jsx(Y_e,{asChild:!0,children:d.jsxs(De,{variant:i,size:a,className:dt("flex items-center",o),disabled:c,children:[d.jsx(Xv,{className:"h-4 w-4 mr-2"}),n,d.jsx(Yh,{className:"h-3.5 w-3.5 ml-1.5 opacity-70"})]})}),d.jsxs(gX,{align:s,className:"w-56",children:[h&&d.jsxs(d.Fragment,{children:[d.jsxs(Yw,{onClick:p,children:[d.jsx(Xm,{className:"mr-2 h-4 w-4 text-blue-500"}),d.jsx("span",{children:"Export as PDF"})]}),d.jsxs(Yw,{onClick:m,children:[d.jsx(SR,{className:"mr-2 h-4 w-4 text-green-500"}),d.jsx("span",{children:"Export as CSV"})]})]}),l&&r.length>0&&d.jsxs(d.Fragment,{children:[h&&d.jsx(vX,{}),d.jsxs(Yw,{onClick:g,children:[d.jsx(SR,{className:"mr-2 h-4 w-4 text-purple-500"}),d.jsx("span",{children:"Export All History"})]})]})]})]})},bk=E.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));bk.displayName="Textarea";const iSe=gg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),VX=E.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:dt(iSe({variant:e}),t),...r}));VX.displayName="Alert";const aSe=E.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:dt("mb-1 font-medium leading-none tracking-tight",t),...e}));aSe.displayName="AlertTitle";const zX=E.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:dt("text-sm [&_p]:leading-relaxed",t),...e}));zX.displayName="AlertDescription";const HX=({isOpen:t,onClose:e,onAddItems:r})=>{const{toast:n}=_n(),[i,a]=E.useState(""),[o,s]=E.useState([]),[l,c]=E.useState(!1),[u,f]=E.useState(!1),[h,p]=E.useState(!1),[m,g]=E.useState("input"),x=`#taska
You are helping me create a structured grocery list from a block of unstructured text.

Here's how it works:
1. I will paste a recipe, list of meals, event plan, or raw text containing food or product needs.
2. You will:
  - Parse what items I might need.
  - Extract quantities if mentioned.
  - Infer appropriate items from context.

Output Format Instructions (CRITICAL):
- Respond ONLY with the formatted grocery list - no introduction, explanation, or additional text.
- Use EXACTLY this format:

🛒 Grocery List
- [Item name] ([quantity] [unit])
- [Item name]
- ...

Example of a correct response:
🛒 Grocery List
- Milk (1 gallon)
- Eggs (12)
- Bread (1 loaf)

Make sure the list is:
- In plain, copy-friendly text
- Organized and clean (no duplicates)
- Ready for direct copy/paste into the app

Now, here is the text I want to base my grocery list on:

${i}`,v=()=>{navigator.clipboard.writeText(x),f(!0),n({title:"Prompt copied to clipboard",description:"Now paste it into ChatGPT to generate your list"}),setTimeout(()=>f(!1),2e3)},y=O=>{try{console.log("Parsing input:",O);const N=O.split(`
`);console.log(`Processing ${N.length} lines`);const S=[];for(const P of N){const R=P.trim();if(!R){console.log("Skipping empty line");continue}console.log("Processing line:",R);const I=R.includes("🛒 Grocery List"),k=R.startsWith("-");if(I){console.log("Skipping header line:",R);continue}let D=R;k&&(D=R.substring(1).trim(),console.log("Removed bullet point, processing:",D));let z=!1;const J=D.match(/^(.*?)\s*\(([^)]+)\)$/);if(J){z=!0,console.log("Found structured format match:",J);const U=J[1].trim(),K=J[2].trim(),$=K.match(/^(\d+(?:\.\d+)?)/);let H=1,te="";$?(H=parseFloat($[1]),te=K.substring($[0].length).trim(),console.log(`Extracted quantity: ${H}, unit: ${te}`)):(te=K,console.log(`No numeric quantity found, using as unit: ${te}`));const ie={name:U,quantity:H,unit:te,price:0,checked:!1,category:"uncategorized",addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};console.log("Adding structured item:",ie),S.push(ie)}if(!z){const U=D.match(/^(.*?)\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(U){z=!0,console.log("Found simple format match:",U);const K=U[1].trim(),$=parseFloat(U[2]),H=U[3]?U[3].trim():"",te={name:K,quantity:$,unit:H,price:0,checked:!1,category:"uncategorized",addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};console.log("Adding simple format item:",te),S.push(te)}}if(!z){const U=D.match(/^(.*?)\s+-\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(U){z=!0,console.log("Found dash format match:",U);const K=U[1].trim(),$=parseFloat(U[2]),H=U[3]?U[3].trim():"",te={name:K,quantity:$,unit:H,price:0,checked:!1,category:"uncategorized",addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};console.log("Adding dash format item:",te),S.push(te)}}if(!z){console.log("No format match, treating as plain item:",D);const U={name:D,quantity:1,unit:"",price:0,checked:!1,category:"uncategorized",addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};console.log("Adding plain item:",U),S.push(U)}}return console.log("Final parsed items:",S),S}catch(N){return console.error("Error parsing output:",N),[]}},w=()=>{if(!i.trim()){n({title:"Empty input",description:"Please paste the AI-generated grocery list",variant:"destructive"});return}c(!0);const O=y(i);setTimeout(()=>{s(O),c(!1),g("output"),O.length===0&&n({title:"Parsing failed",description:"Could not identify any items in the format. Please make sure it follows the proper format.",variant:"destructive"})},1e3)},C=()=>{if(o.length===0){n({title:"No items",description:"No items to add to your trip",variant:"destructive"});return}r(o),n({title:"Items added",description:`${o.length} items added to your trip`}),a(""),s([]),g("input"),e()},A=()=>{g("input"),a(""),s([])};return d.jsx(Hi,{open:t,onOpenChange:e,children:d.jsxs(Ci,{className:"sm:max-w-md md:max-w-lg max-h-[80vh] overflow-y-auto",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[d.jsx(cx,{className:"h-5 w-5 text-blue-500"}),"Smart List Parser"]}),d.jsx(Jo,{children:"Turn unstructured text into an organized grocery list using AI."})]}),d.jsxs("div",{className:"pt-4 space-y-4",children:[m==="input"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{className:"flex items-center",children:[d.jsx(Mse,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 1: Copy this prompt to ChatGPT"]}),d.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-md p-3 mt-1 text-sm text-gray-700 dark:text-gray-300",children:[d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx(De,{variant:"ghost",size:"icon",onClick:v,className:"h-6 w-6",children:u?d.jsx(dc,{className:"h-3 w-3"}):d.jsx(Ise,{className:"h-3 w-3"})})}),d.jsx("div",{className:"pr-6 max-h-32 overflow-y-auto font-mono",children:d.jsx("pre",{className:"whitespace-pre-wrap",children:x})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"output",className:"flex items-center",children:[d.jsx(Pse,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 2: Paste AI-generated grocery list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)"]}),d.jsx(bk,{id:"output",value:i,onChange:O=>a(O.target.value),placeholder:"Paste list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)",className:"min-h-[150px]"})]}),d.jsxs(VX,{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-900",children:[d.jsx(hp,{className:"h-4 w-4"}),d.jsx(zX,{children:'Use ChatGPT to convert recipes, meal plans, or any food-related text into a structured grocery list, then paste it here. Or simply type items directly, one per line, like "milk 1 gallon" or "bread - 2 loaves" to add with quantities.'})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx(De,{variant:"outline",onClick:e,children:"Cancel"}),d.jsxs(De,{onClick:w,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[d.jsx(cH,{className:"h-4 w-4 mr-2"}),"Process List"]})]})]}),m==="output"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs(gt,{className:"flex items-center",children:[d.jsx(Xr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Parsed Items (",o.length,")"]}),d.jsxs(Qt,{variant:"outline",className:"font-normal",children:[o.length," items"]})]}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 max-h-[300px] overflow-y-auto",children:o.length>0?d.jsx("ul",{className:"space-y-2",children:o.map((O,N)=>d.jsxs(ot.li,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:N*.05},children:[d.jsx("span",{children:O.name}),d.jsxs(Qt,{variant:"secondary",className:"text-xs",children:[O.quantity," ",O.unit]})]},N))}):d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No items could be parsed from the input"})})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx(De,{variant:"outline",onClick:A,children:"Back"}),d.jsxs(De,{onClick:C,disabled:o.length===0,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[d.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Add to Trip"]})]})]})]})]})})};function k3({className:t,...e}){return d.jsx("div",{className:dt("animate-pulse rounded-md bg-muted",t),...e})}function oSe(t,e=[]){let r=[];function n(a,o){const s=E.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,x=E.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:x,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=E.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>E.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,sSe(i,...e)]}function sSe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var _k="Progress",Sk=100,[lSe,Ntt]=oSe(_k),[cSe,uSe]=lSe(_k),qX=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=dSe,...o}=t;(i||i===0)&&!C7(i)&&console.error(fSe(`${i}`,"Progress"));const s=C7(i)?i:Sk;n!==null&&!N7(n,s)&&console.error(hSe(`${n}`,"Progress"));const l=N7(n,s)?n:null,c=o_(l)?a(l,s):void 0;return d.jsx(cSe,{scope:r,value:l,max:s,children:d.jsx(Nt.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":o_(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":KX(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});qX.displayName=_k;var WX="ProgressIndicator",GX=E.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=uSe(WX,r);return d.jsx(Nt.div,{"data-state":KX(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});GX.displayName=WX;function dSe(t,e){return`${Math.round(t/e*100)}%`}function KX(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function o_(t){return typeof t=="number"}function C7(t){return o_(t)&&!isNaN(t)&&t>0}function N7(t,e){return o_(t)&&!isNaN(t)&&t<=e&&t>=0}function fSe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sk}\`.`}function hSe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YX=qX,pSe=GX;const Ak=E.forwardRef(({className:t,value:e,...r},n)=>d.jsx(YX,{ref:n,className:dt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(pSe,{className:"h-full w-full flex-1 bg-gradient-to-r from-gloop-primary to-gloop-primary-light transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ak.displayName=YX.displayName;const mSe=()=>{};var T7={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},gSe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},QX={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XX(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gSe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new vSe;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vSe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ySe=function(t){const e=XX(t);return QX.encodeByteArray(e,!0)},s_=function(t){return ySe(t).replace(/\./g,"")},ZX=function(t){try{return QX.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xSe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wSe=()=>xSe().__FIREBASE_DEFAULTS__,bSe=()=>{if(typeof process>"u"||typeof T7>"u")return;const t=T7.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_Se=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZX(t[1]);return e&&JSON.parse(e)},RS=()=>{try{return mSe()||wSe()||bSe()||_Se()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JX=t=>{var e,r;return(r=(e=RS())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},eQ=t=>{const e=JX(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},tQ=()=>{var t;return(t=RS())===null||t===void 0?void 0:t.config},rQ=t=>{var e;return(e=RS())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SSe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return t.endsWith(".cloudworkstations.dev")}async function Ek(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s_(JSON.stringify(r)),s_(JSON.stringify(o)),""].join(".")}const bv={};function ASe(){const t={prod:[],emulator:[]};for(const e of Object.keys(bv))bv[e]?t.emulator.push(e):t.prod.push(e);return t}function ESe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let P7=!1;function Tg(t,e){if(typeof window>"u"||typeof document>"u"||!Ng(window.location.host)||bv[t]===e||bv[t]||P7)return;bv[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=ASe().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{P7=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=ESe(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),x=document.getElementById(g)||document.createElement("a"),v=r("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),u(x,g);const C=c();l(y,v),w.append(y,m,x,C),document.body.appendChild(w)}a?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CSe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function NSe(){var t;const e=(t=RS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TSe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PSe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ISe(){const t=Ra();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OSe(){return!NSe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ck(){try{return typeof indexedDB=="object"}catch{return!1}}function Nk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function aQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kSe="FirebaseError";class Ds extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=kSe,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}}class Of{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?jSe(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Ds(i,s,n)}}function jSe(t,e){return t.replace(RSe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const RSe=/\{\$([^}]+)}/g;function DSe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(I7(a)&&I7(o)){if(!hf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function I7(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function MSe(t,e){const r=new LSe(t,e);return r.subscribe.bind(r)}class LSe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");FSe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=j3),i.error===void 0&&(i.error=j3),i.complete===void 0&&(i.complete=j3);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FSe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function j3(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BSe=1e3,$Se=2,USe=4*60*60*1e3,VSe=.5;function O7(t,e=BSe,r=$Se){const n=e*Math.pow(r,t),i=Math.round(VSe*n*(Math.random()-.5)*2);return Math.min(USe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zSe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new SSe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qSe(e))try{this.getOrInitializeService({instanceIdentifier:yh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=yh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yh){return this.instances.has(e)}getOptions(e=yh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:HSe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yh){return this.component?this.component.multipleInstances?e:yh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HSe(t){return t===yh?void 0:t}function qSe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WSe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new zSe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(sr||(sr={}));const GSe={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},KSe=sr.INFO,YSe={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},XSe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=YSe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DS{constructor(e){this.name=e,this._logLevel=KSe,this._logHandler=XSe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GSe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...e),this._logHandler(this,sr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...e),this._logHandler(this,sr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...e),this._logHandler(this,sr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...e),this._logHandler(this,sr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...e),this._logHandler(this,sr.ERROR,...e)}}const QSe=(t,e)=>e.some(r=>t instanceof r);let k7,j7;function ZSe(){return k7||(k7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JSe(){return j7||(j7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oQ=new WeakMap,KN=new WeakMap,sQ=new WeakMap,R3=new WeakMap,Tk=new WeakMap;function eAe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(au(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&oQ.set(r,t)}).catch(()=>{}),Tk.set(e,t),e}function tAe(t){if(KN.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});KN.set(t,e)}let YN={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return KN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sQ.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return au(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rAe(t){YN=t(YN)}function nAe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(D3(this),e,...r);return sQ.set(n,e.sort?e.sort():[e]),au(n)}:JSe().includes(t)?function(...e){return t.apply(D3(this),e),au(oQ.get(this))}:function(...e){return au(t.apply(D3(this),e))}}function iAe(t){return typeof t=="function"?nAe(t):(t instanceof IDBTransaction&&tAe(t),QSe(t,ZSe())?new Proxy(t,YN):t)}function au(t){if(t instanceof IDBRequest)return eAe(t);if(R3.has(t))return R3.get(t);const e=iAe(t);return e!==t&&(R3.set(t,e),Tk.set(e,t)),e}const D3=t=>Tk.get(t);function MS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=au(o);return n&&o.addEventListener("upgradeneeded",l=>{n(au(o.result),l.oldVersion,l.newVersion,au(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}function M3(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),au(r).then(()=>{})}const aAe=["get","getKey","getAll","getAllKeys","count"],oAe=["put","add","delete","clear"],L3=new Map;function R7(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L3.get(e))return L3.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=oAe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||aAe.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return L3.set(e,a),a}rAe(t=>({...t,get:(e,r,n)=>R7(e,r)||t.get(e,r,n),has:(e,r)=>!!R7(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sAe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(lAe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function lAe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XN="@firebase/app",D7="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new DS("@firebase/app"),cAe="@firebase/app-compat",uAe="@firebase/analytics-compat",dAe="@firebase/analytics",fAe="@firebase/app-check-compat",hAe="@firebase/app-check",pAe="@firebase/auth",mAe="@firebase/auth-compat",gAe="@firebase/database",vAe="@firebase/data-connect",yAe="@firebase/database-compat",xAe="@firebase/functions",wAe="@firebase/functions-compat",bAe="@firebase/installations",_Ae="@firebase/installations-compat",SAe="@firebase/messaging",AAe="@firebase/messaging-compat",EAe="@firebase/performance",CAe="@firebase/performance-compat",NAe="@firebase/remote-config",TAe="@firebase/remote-config-compat",PAe="@firebase/storage",IAe="@firebase/storage-compat",OAe="@firebase/firestore",kAe="@firebase/vertexai",jAe="@firebase/firestore-compat",RAe="firebase",DAe="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="[DEFAULT]",MAe={[XN]:"fire-core",[cAe]:"fire-core-compat",[dAe]:"fire-analytics",[uAe]:"fire-analytics-compat",[hAe]:"fire-app-check",[fAe]:"fire-app-check-compat",[pAe]:"fire-auth",[mAe]:"fire-auth-compat",[gAe]:"fire-rtdb",[vAe]:"fire-data-connect",[yAe]:"fire-rtdb-compat",[xAe]:"fire-fn",[wAe]:"fire-fn-compat",[bAe]:"fire-iid",[_Ae]:"fire-iid-compat",[SAe]:"fire-fcm",[AAe]:"fire-fcm-compat",[EAe]:"fire-perf",[CAe]:"fire-perf-compat",[NAe]:"fire-rc",[TAe]:"fire-rc-compat",[PAe]:"fire-gcs",[IAe]:"fire-gcs-compat",[OAe]:"fire-fst",[jAe]:"fire-fst-compat",[kAe]:"fire-vertex","fire-js":"fire-js",[RAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map,LAe=new Map,ZN=new Map;function M7(t,e){try{t.container.addComponent(e)}catch(r){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function es(t){const e=t.name;if(ZN.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;ZN.set(e,t);for(const r of l_.values())M7(r,t);for(const r of LAe.values())M7(r,t);return!0}function Nu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hl(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FAe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zd=new Of("app","Firebase",FAe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BAe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=DAe;function lQ(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:QN,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Zd.create("bad-app-name",{appName:String(i)});if(r||(r=tQ()),!r)throw Zd.create("no-options");const a=l_.get(i);if(a){if(hf(r,a.options)&&hf(n,a.config))return a;throw Zd.create("duplicate-app",{appName:i})}const o=new WSe(i);for(const l of ZN.values())o.addComponent(l);const s=new BAe(r,n,o);return l_.set(i,s),s}function Cx(t=QN){const e=l_.get(t);if(!e&&t===QN&&tQ())return lQ();if(!e)throw Zd.create("no-app",{appName:t});return e}function ka(t,e,r){var n;let i=(n=MAe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(s.join(" "));return}es(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ae="firebase-heartbeat-database",UAe=1,dy="firebase-heartbeat-store";let F3=null;function cQ(){return F3||(F3=MS($Ae,UAe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dy)}catch(r){console.warn(r)}}}}).catch(t=>{throw Zd.create("idb-open",{originalErrorMessage:t.message})})),F3}async function VAe(t){try{const r=(await cQ()).transaction(dy),n=await r.objectStore(dy).get(uQ(t));return await r.done,n}catch(e){if(e instanceof Ds)yu.warn(e.message);else{const r=Zd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(r.message)}}}async function L7(t,e){try{const n=(await cQ()).transaction(dy,"readwrite");await n.objectStore(dy).put(e,uQ(t)),await n.done}catch(r){if(r instanceof Ds)yu.warn(r.message);else{const n=Zd.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yu.warn(n.message)}}}function uQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zAe=1024,HAe=30;class qAe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new GAe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F7();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>HAe){const o=KAe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=F7(),{heartbeatsToSend:n,unsentEntries:i}=WAe(this._heartbeatsCache.heartbeats),a=s_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return yu.warn(r),""}}}function F7(){return new Date().toISOString().substring(0,10)}function WAe(t,e=zAe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),B7(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),B7(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class GAe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ck()?Nk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await VAe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return L7(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return L7(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B7(t){return s_(JSON.stringify({version:2,heartbeats:t})).length}function KAe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YAe(t){es(new Eo("platform-logger",e=>new sAe(e),"PRIVATE")),es(new Eo("heartbeat",e=>new qAe(e),"PRIVATE")),ka(XN,D7,t),ka(XN,D7,"esm2017"),ka("fire-js","")}YAe("");var $7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jd,dQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function P(){}P.prototype=S.prototype,N.D=S.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(R,I,k){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return S.prototype[I].apply(R,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,S,P){P||(P=0);var R=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)R[I]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(I=0;16>I;++I)R[I]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=N.g[0],P=N.g[1],I=N.g[2];var k=N.g[3],D=S+(k^P&(I^k))+R[0]+3614090360&4294967295;S=P+(D<<7&4294967295|D>>>25),D=k+(I^S&(P^I))+R[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(P^k&(S^P))+R[2]+606105819&4294967295,I=k+(D<<17&4294967295|D>>>15),D=P+(S^I&(k^S))+R[3]+3250441966&4294967295,P=I+(D<<22&4294967295|D>>>10),D=S+(k^P&(I^k))+R[4]+4118548399&4294967295,S=P+(D<<7&4294967295|D>>>25),D=k+(I^S&(P^I))+R[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(P^k&(S^P))+R[6]+2821735955&4294967295,I=k+(D<<17&4294967295|D>>>15),D=P+(S^I&(k^S))+R[7]+4249261313&4294967295,P=I+(D<<22&4294967295|D>>>10),D=S+(k^P&(I^k))+R[8]+1770035416&4294967295,S=P+(D<<7&4294967295|D>>>25),D=k+(I^S&(P^I))+R[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(P^k&(S^P))+R[10]+4294925233&4294967295,I=k+(D<<17&4294967295|D>>>15),D=P+(S^I&(k^S))+R[11]+2304563134&4294967295,P=I+(D<<22&4294967295|D>>>10),D=S+(k^P&(I^k))+R[12]+1804603682&4294967295,S=P+(D<<7&4294967295|D>>>25),D=k+(I^S&(P^I))+R[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(P^k&(S^P))+R[14]+2792965006&4294967295,I=k+(D<<17&4294967295|D>>>15),D=P+(S^I&(k^S))+R[15]+1236535329&4294967295,P=I+(D<<22&4294967295|D>>>10),D=S+(I^k&(P^I))+R[1]+4129170786&4294967295,S=P+(D<<5&4294967295|D>>>27),D=k+(P^I&(S^P))+R[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^P&(k^S))+R[11]+643717713&4294967295,I=k+(D<<14&4294967295|D>>>18),D=P+(k^S&(I^k))+R[0]+3921069994&4294967295,P=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(P^I))+R[5]+3593408605&4294967295,S=P+(D<<5&4294967295|D>>>27),D=k+(P^I&(S^P))+R[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^P&(k^S))+R[15]+3634488961&4294967295,I=k+(D<<14&4294967295|D>>>18),D=P+(k^S&(I^k))+R[4]+3889429448&4294967295,P=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(P^I))+R[9]+568446438&4294967295,S=P+(D<<5&4294967295|D>>>27),D=k+(P^I&(S^P))+R[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^P&(k^S))+R[3]+4107603335&4294967295,I=k+(D<<14&4294967295|D>>>18),D=P+(k^S&(I^k))+R[8]+1163531501&4294967295,P=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(P^I))+R[13]+2850285829&4294967295,S=P+(D<<5&4294967295|D>>>27),D=k+(P^I&(S^P))+R[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^P&(k^S))+R[7]+1735328473&4294967295,I=k+(D<<14&4294967295|D>>>18),D=P+(k^S&(I^k))+R[12]+2368359562&4294967295,P=I+(D<<20&4294967295|D>>>12),D=S+(P^I^k)+R[5]+4294588738&4294967295,S=P+(D<<4&4294967295|D>>>28),D=k+(S^P^I)+R[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^P)+R[11]+1839030562&4294967295,I=k+(D<<16&4294967295|D>>>16),D=P+(I^k^S)+R[14]+4259657740&4294967295,P=I+(D<<23&4294967295|D>>>9),D=S+(P^I^k)+R[1]+2763975236&4294967295,S=P+(D<<4&4294967295|D>>>28),D=k+(S^P^I)+R[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^P)+R[7]+4139469664&4294967295,I=k+(D<<16&4294967295|D>>>16),D=P+(I^k^S)+R[10]+3200236656&4294967295,P=I+(D<<23&4294967295|D>>>9),D=S+(P^I^k)+R[13]+681279174&4294967295,S=P+(D<<4&4294967295|D>>>28),D=k+(S^P^I)+R[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^P)+R[3]+3572445317&4294967295,I=k+(D<<16&4294967295|D>>>16),D=P+(I^k^S)+R[6]+76029189&4294967295,P=I+(D<<23&4294967295|D>>>9),D=S+(P^I^k)+R[9]+3654602809&4294967295,S=P+(D<<4&4294967295|D>>>28),D=k+(S^P^I)+R[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^P)+R[15]+530742520&4294967295,I=k+(D<<16&4294967295|D>>>16),D=P+(I^k^S)+R[2]+3299628645&4294967295,P=I+(D<<23&4294967295|D>>>9),D=S+(I^(P|~k))+R[0]+4096336452&4294967295,S=P+(D<<6&4294967295|D>>>26),D=k+(P^(S|~I))+R[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~P))+R[14]+2878612391&4294967295,I=k+(D<<15&4294967295|D>>>17),D=P+(k^(I|~S))+R[5]+4237533241&4294967295,P=I+(D<<21&4294967295|D>>>11),D=S+(I^(P|~k))+R[12]+1700485571&4294967295,S=P+(D<<6&4294967295|D>>>26),D=k+(P^(S|~I))+R[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~P))+R[10]+4293915773&4294967295,I=k+(D<<15&4294967295|D>>>17),D=P+(k^(I|~S))+R[1]+2240044497&4294967295,P=I+(D<<21&4294967295|D>>>11),D=S+(I^(P|~k))+R[8]+1873313359&4294967295,S=P+(D<<6&4294967295|D>>>26),D=k+(P^(S|~I))+R[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~P))+R[6]+2734768916&4294967295,I=k+(D<<15&4294967295|D>>>17),D=P+(k^(I|~S))+R[13]+1309151649&4294967295,P=I+(D<<21&4294967295|D>>>11),D=S+(I^(P|~k))+R[4]+4149444226&4294967295,S=P+(D<<6&4294967295|D>>>26),D=k+(P^(S|~I))+R[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~P))+R[2]+718787259&4294967295,I=k+(D<<15&4294967295|D>>>17),D=P+(k^(I|~S))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+k&4294967295}n.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var P=S-this.blockSize,R=this.B,I=this.h,k=0;k<S;){if(I==0)for(;k<=P;)i(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(R[I++]=N.charCodeAt(k++),I==this.blockSize){i(this,R),I=0;break}}else for(;k<S;)if(R[I++]=N[k++],I==this.blockSize){i(this,R),I=0;break}}this.h=I,this.o+=S},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var P=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=P&255,P/=256;for(this.u(N),N=Array(16),S=P=0;4>S;++S)for(var R=0;32>R;R+=8)N[P++]=this.g[S]>>>R&255;return N};function a(N,S){var P=s;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=S(N)}function o(N,S){this.h=S;for(var P=[],R=!0,I=N.length-1;0<=I;I--){var k=N[I]|0;R&&k==S||(P[I]=k,R=!1)}this.g=P}var s={};function l(N){return-128<=N&&128>N?a(N,function(S){return new o([S|0],0>S?-1:0)}):new o([N|0],0>N?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return x(c(-N));for(var S=[],P=1,R=0;N>=P;R++)S[R]=N/P|0,P*=4294967296;return new o(S,0)}function u(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return x(u(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(S,8)),R=f,I=0;I<N.length;I+=8){var k=Math.min(8,N.length-I),D=parseInt(N.substring(I,I+k),S);8>k?(k=c(Math.pow(S,k)),R=R.j(k).add(c(D))):(R=R.j(P),R=R.add(c(D)))}return R}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-x(this).m();for(var N=0,S=1,P=0;P<this.g.length;P++){var R=this.i(P);N+=(0<=R?R:4294967296+R)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(m(this))return"0";if(g(this))return"-"+x(this).toString(N);for(var S=c(Math.pow(N,6)),P=this,R="";;){var I=C(P,S).g;P=v(P,I.j(S));var k=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=I,m(P))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function m(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function g(N){return N.h==-1}t.l=function(N){return N=v(this,N),g(N)?-1:m(N)?0:1};function x(N){for(var S=N.g.length,P=[],R=0;R<S;R++)P[R]=~N.g[R];return new o(P,~N.h).add(h)}t.abs=function(){return g(this)?x(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],R=0,I=0;I<=S;I++){var k=R+(this.i(I)&65535)+(N.i(I)&65535),D=(k>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);R=D>>>16,k&=65535,D&=65535,P[I]=D<<16|k}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(N,S){return N.add(x(S))}t.j=function(N){if(m(this)||m(N))return f;if(g(this))return g(N)?x(this).j(x(N)):x(x(this).j(N));if(g(N))return x(this.j(x(N)));if(0>this.l(p)&&0>N.l(p))return c(this.m()*N.m());for(var S=this.g.length+N.g.length,P=[],R=0;R<2*S;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<N.g.length;I++){var k=this.i(R)>>>16,D=this.i(R)&65535,z=N.i(I)>>>16,J=N.i(I)&65535;P[2*R+2*I]+=D*J,y(P,2*R+2*I),P[2*R+2*I+1]+=k*J,y(P,2*R+2*I+1),P[2*R+2*I+1]+=D*z,y(P,2*R+2*I+1),P[2*R+2*I+2]+=k*z,y(P,2*R+2*I+2)}for(R=0;R<S;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=S;R<2*S;R++)P[R]=0;return new o(P,0)};function y(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function w(N,S){this.g=N,this.h=S}function C(N,S){if(m(S))throw Error("division by zero");if(m(N))return new w(f,f);if(g(N))return S=C(x(N),S),new w(x(S.g),x(S.h));if(g(S))return S=C(N,x(S)),new w(x(S.g),S.h);if(30<N.g.length){if(g(N)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var P=h,R=S;0>=R.l(N);)P=A(P),R=A(R);var I=O(P,1),k=O(R,1);for(R=O(R,2),P=O(P,2);!m(R);){var D=k.add(R);0>=D.l(N)&&(I=I.add(P),k=D),R=O(R,1),P=O(P,1)}return S=v(N,I.j(S)),new w(I,S)}for(I=f;0<=N.l(S);){for(P=Math.max(1,Math.floor(N.m()/S.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=c(P),D=k.j(S);g(D)||0<D.l(N);)P-=R,k=c(P),D=k.j(S);m(k)&&(k=h),I=I.add(k),N=v(N,D)}return new w(I,N)}t.A=function(N){return C(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)&N.i(R);return new o(P,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)|N.i(R);return new o(P,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)^N.i(R);return new o(P,this.h^N.h)};function A(N){for(var S=N.g.length+1,P=[],R=0;R<S;R++)P[R]=N.i(R)<<1|N.i(R-1)>>>31;return new o(P,N.h)}function O(N,S){var P=S>>5;S%=32;for(var R=N.g.length-P,I=[],k=0;k<R;k++)I[k]=0<S?N.i(k+P)>>>S|N.i(k+P+1)<<32-S:N.i(k+P);return new o(I,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dQ=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Jd=o}).apply(typeof $7<"u"?$7:typeof self<"u"?self:typeof window<"u"?window:{});var J2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fQ,ev,hQ,eb,JN,pQ,mQ,gQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,L,V){return _==Array.prototype||_==Object.prototype||(_[L]=V.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof J2=="object"&&J2];for(var L=0;L<_.length;++L){var V=_[L];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(_,L){if(L)e:{var V=n;_=_.split(".");for(var re=0;re<_.length-1;re++){var Ee=_[re];if(!(Ee in V))break e;V=V[Ee]}_=_[_.length-1],re=V[_],L=L(re),L!=re&&L!=null&&e(V,_,{configurable:!0,writable:!0,value:L})}}function a(_,L){_ instanceof String&&(_+="");var V=0,re=!1,Ee={next:function(){if(!re&&V<_.length){var je=V++;return{value:L(je,_[je]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}i("Array.prototype.values",function(_){return _||function(){return a(this,function(L,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(_){var L=typeof _;return L=L!="object"?L:_?Array.isArray(_)?"array":L:"null",L=="array"||L=="object"&&typeof _.length=="number"}function c(_){var L=typeof _;return L=="object"&&_!=null||L=="function"}function u(_,L,V){return _.call.apply(_.bind,arguments)}function f(_,L,V){if(!_)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,re),_.apply(L,Ee)}}return function(){return _.apply(L,arguments)}}function h(_,L,V){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(_,L){var V=Array.prototype.slice.call(arguments,1);return function(){var re=V.slice();return re.push.apply(re,arguments),_.apply(this,re)}}function m(_,L){function V(){}V.prototype=L.prototype,_.aa=L.prototype,_.prototype=new V,_.prototype.constructor=_,_.Qb=function(re,Ee,je){for(var Ze=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Ze[Vt-2]=arguments[Vt];return L.prototype[Ee].apply(re,Ze)}}function g(_){const L=_.length;if(0<L){const V=Array(L);for(let re=0;re<L;re++)V[re]=_[re];return V}return[]}function x(_,L){for(let V=1;V<arguments.length;V++){const re=arguments[V];if(l(re)){const Ee=_.length||0,je=re.length||0;_.length=Ee+je;for(let Ze=0;Ze<je;Ze++)_[Ee+Ze]=re[Ze]}else _.push(re)}}class v{constructor(L,V){this.i=L,this.j=V,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function y(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function C(_){return C[" "](_),_}C[" "]=function(){};var A=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(_,L,V){for(const re in _)L.call(V,_[re],re,_)}function N(_,L){for(const V in _)L.call(void 0,_[V],V,_)}function S(_){const L={};for(const V in _)L[V]=_[V];return L}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(_,L){let V,re;for(let Ee=1;Ee<arguments.length;Ee++){re=arguments[Ee];for(V in re)_[V]=re[V];for(let je=0;je<P.length;je++)V=P[je],Object.prototype.hasOwnProperty.call(re,V)&&(_[V]=re[V])}}function I(_){var L=1;_=_.split(":");const V=[];for(;0<L&&_.length;)V.push(_.shift()),L--;return _.length&&V.push(_.join(":")),V}function k(_){s.setTimeout(()=>{throw _},0)}function D(){var _=H;let L=null;return _.g&&(L=_.g,_.g=_.g.next,_.g||(_.h=null),L.next=null),L}class z{constructor(){this.h=this.g=null}add(L,V){const re=J.get();re.set(L,V),this.h?this.h.next=re:this.g=re,this.h=re}}var J=new v(()=>new U,_=>_.reset());class U{constructor(){this.next=this.g=this.h=null}set(L,V){this.h=L,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,H=new z,te=()=>{const _=s.Promise.resolve(void 0);K=()=>{_.then(ie)}};var ie=()=>{for(var _;_=D();){try{_.h.call(_.g)}catch(V){k(V)}var L=J;L.j(_),100>L.h&&(L.h++,_.next=L.g,L.g=_)}$=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(_,L){this.type=_,this.g=this.target=L,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,L=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const V=()=>{};s.addEventListener("test",V,L),s.removeEventListener("test",V,L)}catch{}return _}();function se(_,L){if(q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var V=this.type=_.type,re=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=L,L=_.relatedTarget){if(A){e:{try{C(L.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(L=null)}}else V=="mouseover"?L=_.fromElement:V=="mouseout"&&(L=_.toElement);this.relatedTarget=L,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:G[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&se.aa.h.call(this)}}m(se,q);var G={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),de=0;function ae(_,L,V,re,Ee){this.listener=_,this.proxy=null,this.src=L,this.type=V,this.capture=!!re,this.ha=Ee,this.key=++de,this.da=this.fa=!1}function ye(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ge(_){this.src=_,this.g={},this.h=0}ge.prototype.add=function(_,L,V,re,Ee){var je=_.toString();_=this.g[je],_||(_=this.g[je]=[],this.h++);var Ze=Re(_,L,re,Ee);return-1<Ze?(L=_[Ze],V||(L.fa=!1)):(L=new ae(L,this.src,je,!!re,Ee),L.fa=V,_.push(L)),L};function ve(_,L){var V=L.type;if(V in _.g){var re=_.g[V],Ee=Array.prototype.indexOf.call(re,L,void 0),je;(je=0<=Ee)&&Array.prototype.splice.call(re,Ee,1),je&&(ye(L),_.g[V].length==0&&(delete _.g[V],_.h--))}}function Re(_,L,V,re){for(var Ee=0;Ee<_.length;++Ee){var je=_[Ee];if(!je.da&&je.listener==L&&je.capture==!!V&&je.ha==re)return Ee}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Se={};function W(_,L,V,re,Ee){if(Array.isArray(L)){for(var je=0;je<L.length;je++)W(_,L[je],V,re,Ee);return null}return V=Te(V),_&&_[le]?_.K(L,V,c(re)?!!re.capture:!1,Ee):Pe(_,L,V,!1,re,Ee)}function Pe(_,L,V,re,Ee,je){if(!L)throw Error("Invalid event type");var Ze=c(Ee)?!!Ee.capture:!!Ee,Vt=et(_);if(Vt||(_[Me]=Vt=new ge(_)),V=Vt.add(L,V,re,Ze,je),V.proxy)return V;if(re=ce(),V.proxy=re,re.src=_,re.listener=V,_.addEventListener)Q||(Ee=Ze),Ee===void 0&&(Ee=!1),_.addEventListener(L.toString(),re,Ee);else if(_.attachEvent)_.attachEvent(Ue(L.toString()),re);else if(_.addListener&&_.removeListener)_.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return V}function ce(){function _(V){return L.call(_.src,_.listener,V)}const L=ze;return _}function me(_,L,V,re,Ee){if(Array.isArray(L))for(var je=0;je<L.length;je++)me(_,L[je],V,re,Ee);else re=c(re)?!!re.capture:!!re,V=Te(V),_&&_[le]?(_=_.i,L=String(L).toString(),L in _.g&&(je=_.g[L],V=Re(je,V,re,Ee),-1<V&&(ye(je[V]),Array.prototype.splice.call(je,V,1),je.length==0&&(delete _.g[L],_.h--)))):_&&(_=et(_))&&(L=_.g[L.toString()],_=-1,L&&(_=Re(L,V,re,Ee)),(V=-1<_?L[_]:null)&&we(V))}function we(_){if(typeof _!="number"&&_&&!_.da){var L=_.src;if(L&&L[le])ve(L.i,_);else{var V=_.type,re=_.proxy;L.removeEventListener?L.removeEventListener(V,re,_.capture):L.detachEvent?L.detachEvent(Ue(V),re):L.addListener&&L.removeListener&&L.removeListener(re),(V=et(L))?(ve(V,_),V.h==0&&(V.src=null,L[Me]=null)):ye(_)}}}function Ue(_){return _ in Se?Se[_]:Se[_]="on"+_}function ze(_,L){if(_.da)_=!0;else{L=new se(L,this);var V=_.listener,re=_.ha||_.src;_.fa&&we(_),_=V.call(re,L)}return _}function et(_){return _=_[Me],_ instanceof ge?_:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(_){return typeof _=="function"?_:(_[at]||(_[at]=function(L){return _.handleEvent(L)}),_[at])}function Fe(){F.call(this),this.i=new ge(this),this.M=this,this.F=null}m(Fe,F),Fe.prototype[le]=!0,Fe.prototype.removeEventListener=function(_,L,V,re){me(this,_,L,V,re)};function Ge(_,L){var V,re=_.F;if(re)for(V=[];re;re=re.F)V.push(re);if(_=_.M,re=L.type||L,typeof L=="string")L=new q(L,_);else if(L instanceof q)L.target=L.target||_;else{var Ee=L;L=new q(re,_),R(L,Ee)}if(Ee=!0,V)for(var je=V.length-1;0<=je;je--){var Ze=L.g=V[je];Ee=Ye(Ze,re,!0,L)&&Ee}if(Ze=L.g=_,Ee=Ye(Ze,re,!0,L)&&Ee,Ee=Ye(Ze,re,!1,L)&&Ee,V)for(je=0;je<V.length;je++)Ze=L.g=V[je],Ee=Ye(Ze,re,!1,L)&&Ee}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var _=this.i,L;for(L in _.g){for(var V=_.g[L],re=0;re<V.length;re++)ye(V[re]);delete _.g[L],_.h--}}this.F=null},Fe.prototype.K=function(_,L,V,re){return this.i.add(String(_),L,!1,V,re)},Fe.prototype.L=function(_,L,V,re){return this.i.add(String(_),L,!0,V,re)};function Ye(_,L,V,re){if(L=_.i.g[String(L)],!L)return!0;L=L.concat();for(var Ee=!0,je=0;je<L.length;++je){var Ze=L[je];if(Ze&&!Ze.da&&Ze.capture==V){var Vt=Ze.listener,ar=Ze.ha||Ze.src;Ze.fa&&ve(_.i,Ze),Ee=Vt.call(ar,re)!==!1&&Ee}}return Ee&&!re.defaultPrevented}function rt(_,L,V){if(typeof _=="function")V&&(_=h(_,V));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:s.setTimeout(_,L||0)}function vt(_){_.g=rt(()=>{_.g=null,_.i&&(_.i=!1,vt(_))},_.l);const L=_.h;_.h=null,_.m.apply(null,L)}class tt extends F{constructor(L,V){super(),this.m=L,this.l=V,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(_){F.call(this),this.h=_,this.g={}}m(Yt,F);var $t=[];function Fn(_){O(_.g,function(L,V){this.g.hasOwnProperty(V)&&we(L)},_),_.g={}}Yt.prototype.N=function(){Yt.aa.N.call(this),Fn(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=s.JSON.stringify,jt=s.JSON.parse,Ii=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function ct(){}ct.prototype.h=null;function Jt(_){return _.h||(_.h=_.i())}function It(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){q.call(this,"d")}m(xn,q);function Ar(){q.call(this,"c")}m(Ar,q);var Tt={},vr=null;function is(){return vr=vr||new Fe}Tt.La="serverreachability";function Zn(_){q.call(this,Tt.La,_)}m(Zn,q);function ca(_){const L=is();Ge(L,new Zn(L))}Tt.STAT_EVENT="statevent";function Io(_,L){q.call(this,Tt.STAT_EVENT,_),this.stat=L}m(Io,q);function xt(_){const L=is();Ge(L,new Io(L,_))}Tt.Ma="timingevent";function no(_,L){q.call(this,Tt.Ma,_),this.size=L}m(no,q);function ua(_,L){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},L)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Bn(_,L,V,re,Ee,je){_.info(function(){if(_.g)if(je)for(var Ze="",Vt=je.split("&"),ar=0;ar<Vt.length;ar++){var zt=Vt[ar].split("=");if(1<zt.length){var Ir=zt[0];zt=zt[1];var Qr=Ir.split("_");Ze=2<=Qr.length&&Qr[1]=="type"?Ze+(Ir+"="+zt+"&"):Ze+(Ir+"=redacted&")}}else Ze=null;else Ze=je;return"XMLHTTP REQ ("+re+") [attempt "+Ee+"]: "+L+`
`+V+`
`+Ze})}function On(_,L,V,re,Ee,je,Ze){_.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Ee+"]: "+L+`
`+V+`
`+je+" "+Ze})}function ei(_,L,V,re){_.info(function(){return"XMLHTTP TEXT ("+L+"): "+Fs(_,V)+(re?" "+re:"")})}function ku(_,L){_.info(function(){return"TIMEOUT: "+L})}Jn.prototype.info=function(){};function Fs(_,L){if(!_.g)return L;if(!L)return null;try{var V=JSON.parse(L);if(V){for(_=0;_<V.length;_++)if(Array.isArray(V[_])){var re=V[_];if(!(2>re.length)){var Ee=re[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var je=Ee[0];if(je!="noop"&&je!="stop"&&je!="close")for(var Ze=1;Ze<Ee.length;Ze++)Ee[Ze]=""}}}}return Et(V)}catch{return L}}var da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},io={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ma;function La(){}m(La,ct),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Ma=new La;function $n(_,L,V,re){this.j=_,this.i=L,this.l=V,this.R=re||1,this.U=new Yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oo}function Oo(){this.i=null,this.g="",this.h=!1}var kl={},jl={};function Rl(_,L,V){_.L=1,_.v=Tc(Fa(L)),_.m=V,_.P=!0,Sc(_,null)}function Sc(_,L){_.F=Date.now(),ju(_),_.A=Fa(_.v);var V=_.A,re=_.R;Array.isArray(re)||(re=[String(re)]),Bt(V.i,"t",re),_.C=0,V=_.j.J,_.h=new Oo,_.g=Y(_.j,V?L:null,!_.m),0<_.O&&(_.M=new tt(h(_.Y,_,_.g),_.O)),L=_.U,V=_.g,re=_.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&($t[0]=Ee.toString()),Ee=$t);for(var je=0;je<Ee.length;je++){var Ze=W(V,Ee[je],re||L.handleEvent,!1,L.h||L);if(!Ze)break;L.g[Ze.key]=Ze}L=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,L)):(_.u="GET",_.g.ea(_.A,_.u,null,L)),ca(),Bn(_.i,_.u,_.A,_.l,_.R,_.m)}$n.prototype.ca=function(_){_=_.target;const L=this.M;L&&di(_)==3?L.j():this.Y(_)},$n.prototype.Y=function(_){try{if(_==this.g)e:{const Qr=di(this.g);var L=this.g.Ba();const Ws=this.g.Z();if(!(3>Qr)&&(Qr!=3||this.g&&(this.h.h||this.g.oa()||Fp(this.g)))){this.J||Qr!=4||L==7||(L==8||0>=Ws?ca(3):ca(2)),Dl(this);var V=this.g.Z();this.X=V;t:if(Ac(this)){var re=Fp(this.g);_="";var Ee=re.length,je=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),Ml(this);var Ze="";break t}this.h.i=new s.TextDecoder}for(L=0;L<Ee;L++)this.h.h=!0,_+=this.h.i.decode(re[L],{stream:!(je&&L==Ee-1)});re.length=0,this.h.g+=_,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=V==200,On(this.i,this.u,this.A,this.l,this.R,Qr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,ar=this.g;if((Vt=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Vt)){var zt=Vt;break t}}zt=null}if(V=zt)ei(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ec(this,V);else{this.o=!1,this.s=3,xt(12),Bs(this),Ml(this);break e}}if(this.P){V=!0;let Gi;for(;!this.J&&this.C<Ze.length;)if(Gi=Pp(this,Ze),Gi==jl){Qr==4&&(this.s=4,xt(14),V=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Gi==kl){this.s=4,xt(15),ei(this.i,this.l,Ze,"[Invalid Chunk]"),V=!1;break}else ei(this.i,this.l,Gi,null),Ec(this,Gi);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qr!=4||Ze.length!=0||this.h.h||(this.s=1,xt(16),V=!1),this.o=this.o&&V,!V)ei(this.i,this.l,Ze,"[Invalid Chunked Response]"),Bs(this),Ml(this);else if(0<Ze.length&&!this.W){this.W=!0;var Ir=this.j;Ir.g==this&&Ir.ba&&!Ir.M&&(Ir.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Gu(Ir),Ir.M=!0,xt(11))}}else ei(this.i,this.l,Ze,null),Ec(this,Ze);Qr==4&&Bs(this),this.o&&!this.J&&(Qr==4?Ul(this.j,this):(this.o=!1,ju(this)))}else Bl(this.g),V==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Bs(this),Ml(this)}}}catch{}finally{}};function Ac(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Pp(_,L){var V=_.C,re=L.indexOf(`
`,V);return re==-1?jl:(V=Number(L.substring(V,re)),isNaN(V)?kl:(re+=1,re+V>L.length?jl:(L=L.slice(re,re+V),_.C=re+V,L)))}$n.prototype.cancel=function(){this.J=!0,Bs(this)};function ju(_){_.S=Date.now()+_.I,Ip(_,_.I)}function Ip(_,L){if(_.B!=null)throw Error("WatchDog timer not null");_.B=ua(h(_.ba,_),L)}function Dl(_){_.B&&(s.clearTimeout(_.B),_.B=null)}$n.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(ku(this.i,this.A),this.L!=2&&(ca(),xt(17)),Bs(this),this.s=2,Ml(this)):Ip(this,this.S-_)};function Ml(_){_.j.G==0||_.J||Ul(_.j,_)}function Bs(_){Dl(_);var L=_.M;L&&typeof L.ma=="function"&&L.ma(),_.M=null,Fn(_.U),_.g&&(L=_.g,_.g=null,L.abort(),L.ma())}function Ec(_,L){try{var V=_.j;if(V.G!=0&&(V.g==_||Bf(V.h,_))){if(!_.K&&Bf(V.h,_)&&V.G==3){try{var re=V.Da.g.parse(L)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Ee=re;if(Ee[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<_.F)qs(V),zu(V);else break e;jc(V),xt(18)}}else V.za=Ee[1],0<V.za-V.T&&37500>Ee[2]&&V.F&&V.v==0&&!V.C&&(V.C=ua(h(V.Za,V),6e3));if(1>=Cc(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else fa(V,11)}else if((_.K||V.g==_)&&qs(V),!y(L))for(Ee=V.Da.g.parse(L),L=0;L<Ee.length;L++){let zt=Ee[L];if(V.T=zt[0],zt=zt[1],V.G==2)if(zt[0]=="c"){V.K=zt[1],V.ia=zt[2];const Ir=zt[3];Ir!=null&&(V.la=Ir,V.j.info("VER="+V.la));const Qr=zt[4];Qr!=null&&(V.Aa=Qr,V.j.info("SVER="+V.Aa));const Ws=zt[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(re=1.5*Ws,V.L=re,V.j.info("backChannelRequestTimeoutMs_="+re)),re=V;const Gi=_.g;if(Gi){const Vl=Gi.g?Gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var je=re.h;je.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(ln(je,je.h),je.h=null))}if(re.D){const zl=Gi.g?Gi.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(re.ya=zl,Dr(re.I,re.D,zl))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-_.F,V.j.info("Handshake RTT: "+V.R+"ms")),re=V;var Ze=_;if(re.qa=j(re,re.J?re.ia:null,re.W),Ze.K){$f(re.h,Ze);var Vt=Ze,ar=re.L;ar&&(Vt.I=ar),Vt.B&&(Dl(Vt),ju(Vt)),re.g=Ze}else Wu(re);0<V.i.length&&Hu(V)}else zt[0]!="stop"&&zt[0]!="close"||fa(V,7);else V.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?fa(V,7):Hs(V):zt[0]!="noop"&&V.l&&V.l.ta(zt),V.v=0)}}ca(4)}catch{}}var Kg=class{constructor(_,L){this.g=_,this.map=L}};function Ff(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Op(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Cc(_){return _.h?1:_.g?_.g.size:0}function Bf(_,L){return _.h?_.h==L:_.g?_.g.has(L):!1}function ln(_,L){_.g?_.g.add(L):_.h=L}function $f(_,L){_.h&&_.h==L?_.h=null:_.g&&_.g.has(L)&&_.g.delete(L)}Ff.prototype.cancel=function(){if(this.i=Uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Uf(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let L=_.i;for(const V of _.g.values())L=L.concat(V.D);return L}return g(_.i)}function kp(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var L=[],V=_.length,re=0;re<V;re++)L.push(_[re]);return L}L=[],V=0;for(re in _)L[V++]=_[re];return L}function Vf(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var L=[];_=_.length;for(var V=0;V<_;V++)L.push(V);return L}L=[],V=0;for(const re in _)L[V++]=re;return L}}}function jp(_,L){if(_.forEach&&typeof _.forEach=="function")_.forEach(L,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,L,void 0);else for(var V=Vf(_),re=kp(_),Ee=re.length,je=0;je<Ee;je++)L.call(void 0,re[je],V&&V[je],_)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(_,L){if(_){_=_.split("&");for(var V=0;V<_.length;V++){var re=_[V].indexOf("="),Ee=null;if(0<=re){var je=_[V].substring(0,re);Ee=_[V].substring(re+1)}else je=_[V];L(je,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function kn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof kn){this.h=_.h,Nc(this,_.j),this.o=_.o,this.g=_.g,Du(this,_.s),this.l=_.l;var L=_.i,V=new Ll;V.i=L.i,L.g&&(V.g=new Map(L.g),V.h=L.h),zf(this,V),this.m=_.m}else _&&(L=String(_).match(ao))?(this.h=!1,Nc(this,L[1]||"",!0),this.o=Pc(L[2]||""),this.g=Pc(L[3]||"",!0),Du(this,L[4]),this.l=Pc(L[5]||"",!0),zf(this,L[6]||"",!0),this.m=Pc(L[7]||"")):(this.h=!1,this.i=new Ll(null,this.h))}kn.prototype.toString=function(){var _=[],L=this.j;L&&_.push($s(L,Rp,!0),":");var V=this.g;return(V||L=="file")&&(_.push("//"),(L=this.o)&&_.push($s(L,Rp,!0),"@"),_.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&_.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&_.push("/"),_.push($s(V,V.charAt(0)=="/"?Us:Xg,!0))),(V=this.i.toString())&&_.push("?",V),(V=this.m)&&_.push("#",$s(V,Lu)),_.join("")};function Fa(_){return new kn(_)}function Nc(_,L,V){_.j=V?Pc(L,!0):L,_.j&&(_.j=_.j.replace(/:$/,""))}function Du(_,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);_.s=L}else _.s=null}function zf(_,L,V){L instanceof Ll?(_.i=L,Qg(_.i,_.h)):(V||(L=$s(L,Mu)),_.i=new Ll(L,_.h))}function Dr(_,L,V){_.i.set(L,V)}function Tc(_){return Dr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Pc(_,L){return _?L?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function $s(_,L,V){return typeof _=="string"?(_=encodeURI(_).replace(L,Yg),V&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Yg(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Rp=/[#\/\?@]/g,Xg=/[#\?:]/g,Us=/[#\?]/g,Mu=/[#\?@]/g,Lu=/#/g;function Ll(_,L){this.h=this.g=null,this.i=_||null,this.j=!!L}function cn(_){_.g||(_.g=new Map,_.h=0,_.i&&Ru(_.i,function(L,V){_.add(decodeURIComponent(L.replace(/\+/g," ")),V)}))}t=Ll.prototype,t.add=function(_,L){cn(this),this.i=null,_=Fl(this,_);var V=this.g.get(_);return V||this.g.set(_,V=[]),V.push(L),this.h+=1,this};function Dp(_,L){cn(_),L=Fl(_,L),_.g.has(L)&&(_.i=null,_.h-=_.g.get(L).length,_.g.delete(L))}function Hf(_,L){return cn(_),L=Fl(_,L),_.g.has(L)}t.forEach=function(_,L){cn(this),this.g.forEach(function(V,re){V.forEach(function(Ee){_.call(L,Ee,re,this)},this)},this)},t.na=function(){cn(this);const _=Array.from(this.g.values()),L=Array.from(this.g.keys()),V=[];for(let re=0;re<L.length;re++){const Ee=_[re];for(let je=0;je<Ee.length;je++)V.push(L[re])}return V},t.V=function(_){cn(this);let L=[];if(typeof _=="string")Hf(this,_)&&(L=L.concat(this.g.get(Fl(this,_))));else{_=Array.from(this.g.values());for(let V=0;V<_.length;V++)L=L.concat(_[V])}return L},t.set=function(_,L){return cn(this),this.i=null,_=Fl(this,_),Hf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[L]),this.h+=1,this},t.get=function(_,L){return _?(_=this.V(_),0<_.length?String(_[0]):L):L};function Bt(_,L,V){Dp(_,L),0<V.length&&(_.i=null,_.g.set(Fl(_,L),g(V)),_.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],L=Array.from(this.g.keys());for(var V=0;V<L.length;V++){var re=L[V];const je=encodeURIComponent(String(re)),Ze=this.V(re);for(re=0;re<Ze.length;re++){var Ee=je;Ze[re]!==""&&(Ee+="="+encodeURIComponent(String(Ze[re]))),_.push(Ee)}}return this.i=_.join("&")};function Fl(_,L){return L=String(L),_.j&&(L=L.toLowerCase()),L}function Qg(_,L){L&&!_.j&&(cn(_),_.i=null,_.g.forEach(function(V,re){var Ee=re.toLowerCase();re!=Ee&&(Dp(this,re),Bt(this,Ee,V))},_)),_.j=L}function as(_,L){const V=new Jn;if(s.Image){const re=new Image;re.onload=p(ko,V,"TestLoadImage: loaded",!0,L,re),re.onerror=p(ko,V,"TestLoadImage: error",!1,L,re),re.onabort=p(ko,V,"TestLoadImage: abort",!1,L,re),re.ontimeout=p(ko,V,"TestLoadImage: timeout",!1,L,re),s.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=_}else L(!1)}function Mp(_,L){const V=new Jn,re=new AbortController,Ee=setTimeout(()=>{re.abort(),ko(V,"TestPingServer: timeout",!1,L)},1e4);fetch(_,{signal:re.signal}).then(je=>{clearTimeout(Ee),je.ok?ko(V,"TestPingServer: ok",!0,L):ko(V,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Ee),ko(V,"TestPingServer: error",!1,L)})}function ko(_,L,V,re,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),re(V)}catch{}}function Fu(){this.g=new Ii}function qf(_,L,V){const re=V||"";try{jp(_,function(Ee,je){let Ze=Ee;c(Ee)&&(Ze=Et(Ee)),L.push(re+je+"="+encodeURIComponent(Ze))})}catch(Ee){throw L.push(re+"type="+encodeURIComponent("_badmap")),Ee}}function Bu(_){this.l=_.Ub||null,this.j=_.eb||!1}m(Bu,ct),Bu.prototype.g=function(){return new $u(this.l,this.j)},Bu.prototype.i=function(_){return function(){return _}}({});function $u(_,L){Fe.call(this),this.D=_,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m($u,Fe),t=$u.prototype,t.open=function(_,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=L,this.readyState=1,jo(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(L.body=_),(this.D||s).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lp(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lp(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var L=_.value?_.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!_.done}))&&(this.response=this.responseText+=L)}_.done?Vs(this):jo(this),this.readyState==3&&Lp(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Vs(this))},t.Qa=function(_){this.g&&(this.response=_,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(_){_.readyState=4,_.l=null,_.j=null,_.v=null,jo(_)}t.setRequestHeader=function(_,L){this.u.append(_,L)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],L=this.h.entries();for(var V=L.next();!V.done;)V=V.value,_.push(V[0]+": "+V[1]),V=L.next();return _.join(`\r
`)};function jo(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function zs(_){let L="";return O(_,function(V,re){L+=re,L+=":",L+=V,L+=`\r
`}),L}function Wf(_,L,V){e:{for(re in V){var re=!1;break e}re=!0}re||(V=zs(V),typeof _=="string"?V!=null&&encodeURIComponent(String(V)):Dr(_,L,V))}function Pr(_){Fe.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Pr,Fe);var Gf=/^https?$/i,Uu=["POST","PUT"];t=Pr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,L,V,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);L=L?L.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ma.g(),this.v=this.o?Jt(this.o):Jt(Ma),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(L,String(_),!0),this.B=!1}catch(je){Kf(this,je);return}if(_=V||"",V=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Ee in re)V.set(Ee,re[Ee]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const je of re.keys())V.set(je,re.get(je));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(V.keys()).find(je=>je.toLowerCase()=="content-type"),Ee=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Uu,L,void 0))||re||Ee||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,Ze]of V)this.g.setRequestHeader(je,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(_),this.u=!1}catch(je){Kf(this,je)}};function Kf(_,L){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=L,_.m=5,Yf(_),Ic(_)}function Yf(_){_.A||(_.A=!0,Ge(_,"complete"),Ge(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Ge(this,"complete"),Ge(this,"abort"),Ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),Pr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xf(this):this.bb())},t.bb=function(){Xf(this)};function Xf(_){if(_.h&&typeof o<"u"&&(!_.v[1]||di(_)!=4||_.Z()!=2)){if(_.u&&di(_)==4)rt(_.Ea,0,_);else if(Ge(_,"readystatechange"),di(_)==4){_.h=!1;try{const Ze=_.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var V;if(!(V=L)){var re;if(re=Ze===0){var Ee=String(_.D).match(ao)[1]||null;!Ee&&s.self&&s.self.location&&(Ee=s.self.location.protocol.slice(0,-1)),re=!Gf.test(Ee?Ee.toLowerCase():"")}V=re}if(V)Ge(_,"complete"),Ge(_,"success");else{_.m=6;try{var je=2<di(_)?_.g.statusText:""}catch{je=""}_.l=je+" ["+_.Z()+"]",Yf(_)}}finally{Ic(_)}}}}function Ic(_,L){if(_.g){Ro(_);const V=_.g,re=_.v[0]?()=>{}:null;_.g=null,_.v=null,L||Ge(_,"ready");try{V.onreadystatechange=re}catch{}}}function Ro(_){_.I&&(s.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function di(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var L=this.g.responseText;return _&&L.indexOf(_)==0&&(L=L.substring(_.length)),jt(L)}};function Fp(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(_){const L={};_=(_.g&&2<=di(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<_.length;re++){if(y(_[re]))continue;var V=I(_[re]);const Ee=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const je=L[Ee]||[];L[Ee]=je,je.push(V)}N(L,function(re){return re.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(_,L,V){return V&&V.internalChannelParams&&V.internalChannelParams[_]||L}function Vu(_){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,_),this.cb=Wi("retryDelaySeedMs",1e4,_),this.Wa=Wi("forwardChannelMaxRetries",2,_),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Ff(_&&_.concurrentRequestLimit),this.Da=new Fu,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vu.prototype,t.la=8,t.G=1,t.connect=function(_,L,V,re){xt(0),this.W=_,this.H=L||{},V&&re!==void 0&&(this.H.OSID=V,this.H.OAID=re),this.F=this.X,this.I=j(this,null,this.W),Hu(this)};function Hs(_){if(Oc(_),_.G==3){var L=_.U++,V=Fa(_.I);if(Dr(V,"SID",_.K),Dr(V,"RID",L),Dr(V,"TYPE","terminate"),$l(_,V),L=new $n(_,_.j,L),L.L=2,L.v=Tc(Fa(V)),V=!1,s.navigator&&s.navigator.sendBeacon)try{V=s.navigator.sendBeacon(L.v.toString(),"")}catch{}!V&&s.Image&&(new Image().src=L.v,V=!0),V||(L.g=Y(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ju(L)}Yu(_)}function zu(_){_.g&&(Gu(_),_.g.cancel(),_.g=null)}function Oc(_){zu(_),_.u&&(s.clearTimeout(_.u),_.u=null),qs(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function Hu(_){if(!Op(_.h)&&!_.s){_.s=!0;var L=_.Ga;K||te(),$||(K(),$=!0),H.add(L,_),_.B=0}}function Qf(_,L){return Cc(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=L.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=ua(h(_.Ga,_,L),Ku(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ee=new $n(this,this.j,_);let je=this.o;if(this.S&&(je?(je=S(je),R(je,this.S)):je=this.S),this.m!==null||this.O||(Ee.H=je,je=null),this.P)e:{for(var L=0,V=0;V<this.i.length;V++){t:{var re=this.i[V];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(L+=re,4096<L){L=V;break e}if(L===4096||V===this.i.length-1){L=V+1;break e}}L=1e3}else L=1e3;L=kc(this,Ee,L),V=Fa(this.I),Dr(V,"RID",_),Dr(V,"CVER",22),this.D&&Dr(V,"X-HTTP-Session-Id",this.D),$l(this,V),je&&(this.O?L="headers="+encodeURIComponent(String(zs(je)))+"&"+L:this.m&&Wf(V,this.m,je)),ln(this.h,Ee),this.Ua&&Dr(V,"TYPE","init"),this.P?(Dr(V,"$req",L),Dr(V,"SID","null"),Ee.T=!0,Rl(Ee,V,null)):Rl(Ee,V,L),this.G=2}}else this.G==3&&(_?qu(this,_):this.i.length==0||Op(this.h)||qu(this))};function qu(_,L){var V;L?V=L.l:V=_.U++;const re=Fa(_.I);Dr(re,"SID",_.K),Dr(re,"RID",V),Dr(re,"AID",_.T),$l(_,re),_.m&&_.o&&Wf(re,_.m,_.o),V=new $n(_,_.j,V,_.B+1),_.m===null&&(V.H=_.o),L&&(_.i=L.D.concat(_.i)),L=kc(_,V,1e3),V.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),ln(_.h,V),Rl(V,re,L)}function $l(_,L){_.H&&O(_.H,function(V,re){Dr(L,re,V)}),_.l&&jp({},function(V,re){Dr(L,re,V)})}function kc(_,L,V){V=Math.min(_.i.length,V);var re=_.l?h(_.l.Na,_.l,_):null;e:{var Ee=_.i;let je=-1;for(;;){const Ze=["count="+V];je==-1?0<V?(je=Ee[0].g,Ze.push("ofs="+je)):je=0:Ze.push("ofs="+je);let Vt=!0;for(let ar=0;ar<V;ar++){let zt=Ee[ar].g;const Ir=Ee[ar].map;if(zt-=je,0>zt)je=Math.max(0,Ee[ar].g-100),Vt=!1;else try{qf(Ir,Ze,"req"+zt+"_")}catch{re&&re(Ir)}}if(Vt){re=Ze.join("&");break e}}}return _=_.i.splice(0,V),L.D=_,re}function Wu(_){if(!_.g&&!_.u){_.Y=1;var L=_.Fa;K||te(),$||(K(),$=!0),H.add(L,_),_.v=0}}function jc(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=ua(h(_.Fa,_),Ku(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,Bp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=ua(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),zu(this),Bp(this))};function Gu(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function Bp(_){_.g=new $n(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var L=Fa(_.qa);Dr(L,"RID","rpc"),Dr(L,"SID",_.K),Dr(L,"AID",_.T),Dr(L,"CI",_.F?"0":"1"),!_.F&&_.ja&&Dr(L,"TO",_.ja),Dr(L,"TYPE","xmlhttp"),$l(_,L),_.m&&_.o&&Wf(L,_.m,_.o),_.L&&(_.g.I=_.L);var V=_.g;_=_.ia,V.L=1,V.v=Tc(Fa(L)),V.m=null,V.P=!0,Sc(V,_)}t.Za=function(){this.C!=null&&(this.C=null,zu(this),jc(this),xt(19))};function qs(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function Ul(_,L){var V=null;if(_.g==L){qs(_),Gu(_),_.g=null;var re=2}else if(Bf(_.h,L))V=L.D,$f(_.h,L),re=1;else return;if(_.G!=0){if(L.o)if(re==1){V=L.m?L.m.length:0,L=Date.now()-L.F;var Ee=_.B;re=is(),Ge(re,new no(re,V)),Hu(_)}else Wu(_);else if(Ee=L.s,Ee==3||Ee==0&&0<L.X||!(re==1&&Qf(_,L)||re==2&&jc(_)))switch(V&&0<V.length&&(L=_.h,L.i=L.i.concat(V)),Ee){case 1:fa(_,5);break;case 4:fa(_,10);break;case 3:fa(_,6);break;default:fa(_,2)}}}function Ku(_,L){let V=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(V*=2),V*L}function fa(_,L){if(_.j.info("Error code "+L),L==2){var V=h(_.fb,_),re=_.Xa;const Ee=!re;re=new kn(re||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Nc(re,"https"),Tc(re),Ee?as(re.toString(),V):Mp(re.toString(),V)}else xt(2);_.G=0,_.l&&_.l.sa(L),Yu(_),Oc(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Yu(_){if(_.G=0,_.ka=[],_.l){const L=Uf(_.h);(L.length!=0||_.i.length!=0)&&(x(_.ka,L),x(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function j(_,L,V){var re=V instanceof kn?Fa(V):new kn(V);if(re.g!="")L&&(re.g=L+"."+re.g),Du(re,re.s);else{var Ee=s.location;re=Ee.protocol,L=L?L+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var je=new kn(null);re&&Nc(je,re),L&&(je.g=L),Ee&&Du(je,Ee),V&&(je.l=V),re=je}return V=_.D,L=_.ya,V&&L&&Dr(re,V,L),Dr(re,"VER",_.la),$l(_,re),re}function Y(_,L,V){if(L&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=_.Ca&&!_.pa?new Pr(new Bu({eb:V})):new Pr(_.pa),L.Ha(_.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}t=pe.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xe(){}xe.prototype.g=function(_,L){return new Ce(_,L)};function Ce(_,L){Fe.call(this),this.g=new Vu(L),this.l=_,this.h=L&&L.messageUrlParams||null,_=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(_?_["X-WebChannel-Content-Type"]=L.messageContentType:_={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(_?_["X-WebChannel-Client-Profile"]=L.va:_={"X-WebChannel-Client-Profile":L.va}),this.g.S=_,(_=L&&L.Sb)&&!y(_)&&(this.g.m=_),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!y(L)&&(this.g.D=L,_=this.h,_!==null&&L in _&&(_=this.h,L in _&&delete _[L])),this.j=new ht(this)}m(Ce,Fe),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){Hs(this.g)},Ce.prototype.o=function(_){var L=this.g;if(typeof _=="string"){var V={};V.__data__=_,_=V}else this.u&&(V={},V.__data__=Et(_),_=V);L.i.push(new Kg(L.Ya++,_)),L.G==3&&Hu(L)},Ce.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Ce.aa.N.call(this)};function Be(_){xn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var L=_.__sm__;if(L){e:{for(const V in L){_=V;break e}_=void 0}(this.i=_)&&(_=this.i,L=L!==null&&_ in L?L[_]:void 0),this.data=L}else this.data=_}m(Be,xn);function Qe(){Ar.call(this),this.status=1}m(Qe,Ar);function ht(_){this.g=_}m(ht,pe),ht.prototype.ua=function(){Ge(this.g,"a")},ht.prototype.ta=function(_){Ge(this.g,new Be(_))},ht.prototype.sa=function(_){Ge(this.g,new Qe)},ht.prototype.ra=function(){Ge(this.g,"b")},xe.prototype.createWebChannel=xe.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,gQ=function(){return new xe},mQ=function(){return is()},pQ=Tt,JN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,eb=da,io.COMPLETE="complete",hQ=io,It.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,ev=It,Pr.prototype.listenOnce=Pr.prototype.L,Pr.prototype.getLastError=Pr.prototype.Ka,Pr.prototype.getLastErrorCode=Pr.prototype.Ba,Pr.prototype.getStatus=Pr.prototype.Z,Pr.prototype.getResponseJson=Pr.prototype.Oa,Pr.prototype.getResponseText=Pr.prototype.oa,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Ha,fQ=Pr}).apply(typeof J2<"u"?J2:typeof self<"u"?self:typeof window<"u"?window:{});const U7="@firebase/firestore",V7="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sa.UNAUTHENTICATED=new Sa(null),Sa.GOOGLE_CREDENTIALS=new Sa("google-credentials-uid"),Sa.FIRST_PARTY=new Sa("first-party-uid"),Sa.MOCK_USER=new Sa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new DS("@firebase/firestore");function mm(){return ep.logLevel}function yt(t,...e){if(ep.logLevel<=sr.DEBUG){const r=e.map(Pk);ep.debug(`Firestore (${Pg}): ${t}`,...r)}}function xu(t,...e){if(ep.logLevel<=sr.ERROR){const r=e.map(Pk);ep.error(`Firestore (${Pg}): ${t}`,...r)}}function j0(t,...e){if(ep.logLevel<=sr.WARN){const r=e.map(Pk);ep.warn(`Firestore (${Pg}): ${t}`,...r)}}function Pk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,vQ(t,n,r)}function vQ(t,e,r){let n=`FIRESTORE (${Pg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw xu(n),new Error(n)}function Pn(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||vQ(e,i,n)}function mr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Ds{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Sa.UNAUTHENTICATED))}shutdown(){}}class QAe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ZAe{constructor(e){this.t=e,this.currentUser=Sa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Pn(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Bh;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bh,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bh)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Pn(typeof n.accessToken=="string",31837,{l:n}),new yQ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pn(e===null||typeof e=="string",2055,{h:e}),new Sa(e)}}class JAe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Sa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eEe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new JAe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Sa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tEe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Pn(this.o===void 0,3512);const n=a=>{a.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,yt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z7(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Pn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new z7(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nEe{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=rEe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function nr(t,e){return t<e?-1:t>e?1:0}function eT(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return nr(n,i);{const a=xQ(),o=iEe(a.encode(H7(t,r)),a.encode(H7(e,r)));return o!==0?o:nr(n,i)}}r+=n>65535?2:1}return nr(t.length,e.length)}function H7(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function iEe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return nr(t[r],e[r]);return nr(t.length,e.length)}function R0(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=-62135596800,W7=1e6;class Vi{static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*W7);return new Vi(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new At(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<q7)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W7}_compareTo(e){return this.seconds===e.seconds?nr(this.nanoseconds,e.nanoseconds):nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q7;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Vi(0,0))}static max(){return new Gt(new Vi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="__name__";class Kl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Kt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Kt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Kl.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return nr(e.length,r.length)}static compareSegments(e,r){const n=Kl.isNumericId(e),i=Kl.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Kl.extractNumericId(e).compare(Kl.extractNumericId(r)):eT(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jd.fromString(e.substring(4,e.length-2))}}class An extends Kl{construct(e,r,n){return new An(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new At(nt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new An(r)}static emptyPath(){return new An([])}}const aEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oa extends Kl{construct(e,r,n){return new Oa(e,r,n)}static isValidIdentifier(e){return aEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G7}static keyField(){return new Oa([G7])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new At(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new At(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new At(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new At(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oa(r)}static emptyPath(){return new Oa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(An.fromString(e))}static fromName(e){return new Mt(An.fromString(e).popFirst(5))}static empty(){return new Mt(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return An.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new An(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-1;function oEe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(n===1e9?new Vi(r+1,0):new Vi(r,n));return new pf(i,Mt.empty(),e)}function sEe(t){return new pf(t.readTime,t.key,fy)}class pf{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new pf(Gt.min(),Mt.empty(),fy)}static max(){return new pf(Gt.max(),Mt.empty(),fy)}}function lEe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Mt.comparator(t.documentKey,e.documentKey),r!==0?r:nr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t){if(t.code!==nt.FAILED_PRECONDITION||t.message!==cEe)throw t;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,n)=>{r(e)})}static reject(e){return new Ke((r,n)=>{n(e)})}static waitFor(e){return new Ke((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=Ke.resolve(!1);for(const n of e)r=r.next(i=>i?Ke.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Ke((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new Ke((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function dEe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ig(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}FS.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fEe=-1;function BS(t){return t==null}function c_(t){return t===0&&1/t==-1/0}function hEe(t){return typeof t=="number"&&Number.isInteger(t)&&!c_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ="";function pEe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=K7(e)),e=mEe(t.get(r),e);return K7(e)}function mEe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case wQ:r+="";break;default:r+=a}}return r}function K7(t){return t+wQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Og(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function bQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r){this.comparator=e,this.root=r||ea.EMPTY}insert(e,r){return new Qn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ea.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ew(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ew(this.root,e,this.comparator,!1)}getReverseIterator(){return new ew(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ew(this.root,e,this.comparator,!0)}}class ew{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ea{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ea.RED,this.left=i??ea.EMPTY,this.right=a??ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ea(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ea.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Kt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Kt(27949);return e+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1;ea.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt(57766)}get value(){throw Kt(16141)}get color(){throw Kt(16727)}get left(){throw Kt(29726)}get right(){throw Kt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ea(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new X7(this.data.getIterator())}getIteratorFrom(e){return new X7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ei(this.comparator);return r.data=e,r}}class X7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.fields=e,e.sort(Oa.comparator)}static empty(){return new Dd([])}unionWith(e){let r=new Ei(Oa.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Dd(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return R0(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _Q("Invalid base64 string: "+a):a}}(e);return new la(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new la(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}la.EMPTY_BYTE_STRING=new la("");const gEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(t){if(Pn(!!t,39018),typeof t=="string"){let e=0;const r=gEe.exec(t);if(Pn(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gf(t){return typeof t=="string"?la.fromBase64String(t):la.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="server_timestamp",AQ="__type__",EQ="__previous_value__",CQ="__local_write_time__";function Ik(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[AQ])===null||r===void 0?void 0:r.stringValue)===SQ}function $S(t){const e=t.mapValue.fields[EQ];return Ik(e)?$S(e):e}function hy(t){const e=mf(t.mapValue.fields[CQ].timestampValue);return new Vi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vEe{constructor(e,r,n,i,a,o,s,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const u_="(default)";class py{constructor(e,r){this.projectId=e,this.database=r||u_}static empty(){return new py("","")}get isDefaultDatabase(){return this.database===u_}isEqual(e){return e instanceof py&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ="__type__",yEe="__max__",tw={mapValue:{}},TQ="__vector__",d_="value";function vf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ik(t)?4:wEe(t)?9007199254740991:xEe(t)?10:11:Kt(28295,{value:t})}function mc(t,e){if(t===e)return!0;const r=vf(t);if(r!==vf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hy(t).isEqual(hy(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=mf(i.timestampValue),s=mf(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return gf(i.bytesValue).isEqual(gf(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return zn(i.geoPointValue.latitude)===zn(a.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zn(i.integerValue)===zn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=zn(i.doubleValue),s=zn(a.doubleValue);return o===s?c_(o)===c_(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return R0(t.arrayValue.values||[],e.arrayValue.values||[],mc);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(Y7(o)!==Y7(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!mc(o[l],s[l])))return!1;return!0}(t,e);default:return Kt(52216,{left:t})}}function my(t,e){return(t.values||[]).find(r=>mc(r,e))!==void 0}function D0(t,e){if(t===e)return 0;const r=vf(t),n=vf(e);if(r!==n)return nr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return nr(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=zn(a.integerValue||a.doubleValue),l=zn(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return Q7(t.timestampValue,e.timestampValue);case 4:return Q7(hy(t),hy(e));case 5:return eT(t.stringValue,e.stringValue);case 6:return function(a,o){const s=gf(a),l=gf(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=nr(s[c],l[c]);if(u!==0)return u}return nr(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=nr(zn(a.latitude),zn(o.latitude));return s!==0?s:nr(zn(a.longitude),zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Z7(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f[d_])===null||s===void 0?void 0:s.arrayValue,m=(l=h[d_])===null||l===void 0?void 0:l.arrayValue,g=nr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:Z7(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===tw.mapValue&&o===tw.mapValue)return 0;if(a===tw.mapValue)return 1;if(o===tw.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=eT(l[f],u[f]);if(h!==0)return h;const p=D0(s[l[f]],c[u[f]]);if(p!==0)return p}return nr(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Kt(23264,{Pe:r})}}function Q7(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nr(t,e);const r=mf(t),n=mf(e),i=nr(r.seconds,n.seconds);return i!==0?i:nr(r.nanos,n.nanos)}function Z7(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=D0(r[i],n[i]);if(a)return a}return nr(r.length,n.length)}function M0(t){return tT(t)}function tT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=mf(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return gf(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Mt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=tT(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${tT(r.fields[o])}`;return i+"}"}(t.mapValue):Kt(61005,{value:t})}function tb(t){switch(vf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$S(t);return e?16+tb(e):16;case 5:return 2*t.stringValue.length;case 6:return gf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+tb(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Og(n.fields,(a,o)=>{i+=a.length+tb(o)}),i}(t.mapValue);default:throw Kt(13486,{value:t})}}function J7(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rT(t){return!!t&&"integerValue"in t}function Ok(t){return!!t&&"arrayValue"in t}function eL(t){return!!t&&"nullValue"in t}function tL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function B3(t){return!!t&&"mapValue"in t}function xEe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NQ])===null||r===void 0?void 0:r.stringValue)===TQ}function _v(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Og(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=_v(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=_v(t.arrayValue.values[r]);return e}return Object.assign({},t)}function wEe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yEe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.value=e}static empty(){return new Zl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!B3(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=_v(r)}setAll(e){let r=Oa.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=_v(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());B3(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];B3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Og(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Zl(_v(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Na(e,0,Gt.min(),Gt.min(),Gt.min(),Zl.empty(),0)}static newFoundDocument(e,r,n,i){return new Na(e,1,r,Gt.min(),n,i,0)}static newNoDocument(e,r){return new Na(e,2,r,Gt.min(),Gt.min(),Zl.empty(),0)}static newUnknownDocument(e,r){return new Na(e,3,r,Gt.min(),Gt.min(),Zl.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Na&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Na(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r){this.position=e,this.inclusive=r}}function rL(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Mt.comparator(Mt.fromName(o.referenceValue),r.key):n=D0(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function nL(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!mc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,r="asc"){this.field=e,this.dir=r}}function bEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{}class ci extends PQ{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new SEe(e,r,n):r==="array-contains"?new CEe(e,n):r==="in"?new NEe(e,n):r==="not-in"?new TEe(e,n):r==="array-contains-any"?new PEe(e,n):new ci(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new AEe(e,n):new EEe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(D0(r,this.value)):r!==null&&vf(this.value)===vf(r)&&this.matchesComparison(D0(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cl extends PQ{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Cl(e,r)}matches(e){return IQ(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function IQ(t){return t.op==="and"}function OQ(t){return _Ee(t)&&IQ(t)}function _Ee(t){for(const e of t.filters)if(e instanceof Cl)return!1;return!0}function nT(t){if(t instanceof ci)return t.field.canonicalString()+t.op.toString()+M0(t.value);if(OQ(t))return t.filters.map(e=>nT(e)).join(",");{const e=t.filters.map(r=>nT(r)).join(",");return`${t.op}(${e})`}}function kQ(t,e){return t instanceof ci?function(n,i){return i instanceof ci&&n.op===i.op&&n.field.isEqual(i.field)&&mc(n.value,i.value)}(t,e):t instanceof Cl?function(n,i){return i instanceof Cl&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&kQ(o,i.filters[s]),!0):!1}(t,e):void Kt(19439)}function jQ(t){return t instanceof ci?function(r){return`${r.field.canonicalString()} ${r.op} ${M0(r.value)}`}(t):t instanceof Cl?function(r){return r.op.toString()+" {"+r.getFilters().map(jQ).join(" ,")+"}"}(t):"Filter"}class SEe extends ci{constructor(e,r,n){super(e,r,n),this.key=Mt.fromName(n.referenceValue)}matches(e){const r=Mt.comparator(e.key,this.key);return this.matchesComparison(r)}}class AEe extends ci{constructor(e,r){super(e,"in",r),this.keys=RQ("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class EEe extends ci{constructor(e,r){super(e,"not-in",r),this.keys=RQ("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function RQ(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Mt.fromName(n.referenceValue))}class CEe extends ci{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ok(r)&&my(r.arrayValue,this.value)}}class NEe extends ci{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&my(this.value.arrayValue,r)}}class TEe extends ci{constructor(e,r){super(e,"not-in",r)}matches(e){if(my(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!my(this.value.arrayValue,r)}}class PEe extends ci{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ok(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>my(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IEe{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function iL(t,e=null,r=[],n=[],i=null,a=null,o=null){return new IEe(t,e,r,n,i,a,o)}function kk(t){const e=mr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>nT(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),BS(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>M0(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>M0(n)).join(",")),e.Ie=r}return e.Ie}function jk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!bEe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!kQ(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nL(t.startAt,e.startAt)&&nL(t.endAt,e.endAt)}function iT(t){return Mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function OEe(t,e,r,n,i,a,o,s){return new kg(t,e,r,n,i,a,o,s)}function DQ(t){return new kg(t)}function aL(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MQ(t){return t.collectionGroup!==null}function Sv(t){const e=mr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Ei(Oa.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new gy(a,n))}),r.has(Oa.keyField().canonicalString())||e.Ee.push(new gy(Oa.keyField(),n))}return e.Ee}function oc(t){const e=mr(t);return e.de||(e.de=kEe(e,Sv(t))),e.de}function kEe(t,e){if(t.limitType==="F")return iL(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new gy(i.field,a)});const r=t.endAt?new f_(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new f_(t.startAt.position,t.startAt.inclusive):null;return iL(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function aT(t,e){const r=t.filters.concat([e]);return new kg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function h_(t,e,r){return new kg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function US(t,e){return jk(oc(t),oc(e))&&t.limitType===e.limitType}function LQ(t){return`${kk(oc(t))}|lt:${t.limitType}`}function gm(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>jQ(i)).join(", ")}]`),BS(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>M0(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>M0(i)).join(",")),`Target(${n})`}(oc(t))}; limitType=${t.limitType})`}function VS(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Mt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Sv(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=rL(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Sv(n),i)||n.endAt&&!function(o,s,l){const c=rL(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Sv(n),i))}(t,e)}function jEe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FQ(t){return(e,r)=>{let n=!1;for(const i of Sv(t)){const a=REe(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function REe(t,e,r){const n=t.field.isKeyField()?Mt.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?D0(l,c):Kt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Kt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Og(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return bQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEe=new Qn(Mt.comparator);function yf(){return DEe}const BQ=new Qn(Mt.comparator);function tv(...t){let e=BQ;for(const r of t)e=e.insert(r.key,r);return e}function MEe(t){let e=BQ;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Th(){return Av()}function $Q(){return Av()}function Av(){return new Sp(t=>t.toString(),(t,e)=>t.isEqual(e))}const LEe=new Ei(Mt.comparator);function wr(...t){let e=LEe;for(const r of t)e=e.add(r);return e}const FEe=new Ei(nr);function BEe(){return FEe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c_(e)?"-0":e}}function UQ(t){return{integerValue:""+t}}function $Ee(t,e){return hEe(e)?UQ(e):Rk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this._=void 0}}function UEe(t,e,r){return t instanceof oT?function(i,a){const o={fields:{[AQ]:{stringValue:SQ},[CQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ik(a)&&(a=$S(a)),a&&(o.fields[EQ]=a),{mapValue:o}}(r,e):t instanceof p_?VQ(t,e):t instanceof m_?zQ(t,e):function(i,a){const o=zEe(i,a),s=oL(o)+oL(i.Re);return rT(o)&&rT(i.Re)?UQ(s):Rk(i.serializer,s)}(t,e)}function VEe(t,e,r){return t instanceof p_?VQ(t,e):t instanceof m_?zQ(t,e):r}function zEe(t,e){return t instanceof sT?function(n){return rT(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class oT extends zS{}class p_ extends zS{constructor(e){super(),this.elements=e}}function VQ(t,e){const r=HQ(e);for(const n of t.elements)r.some(i=>mc(i,n))||r.push(n);return{arrayValue:{values:r}}}class m_ extends zS{constructor(e){super(),this.elements=e}}function zQ(t,e){let r=HQ(e);for(const n of t.elements)r=r.filter(i=>!mc(i,n));return{arrayValue:{values:r}}}class sT extends zS{constructor(e,r){super(),this.serializer=e,this.Re=r}}function oL(t){return zn(t.integerValue||t.doubleValue)}function HQ(t){return Ok(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HEe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof p_&&i instanceof p_||n instanceof m_&&i instanceof m_?R0(n.elements,i.elements,mc):n instanceof sT&&i instanceof sT?mc(n.Re,i.Re):n instanceof oT&&i instanceof oT}(t.transform,e.transform)}class $h{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $h}static exists(e){return new $h(void 0,e)}static updateTime(e){return new $h(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dk{}function qQ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WEe(t.key,$h.none()):new Mk(t.key,t.data,$h.none());{const r=t.data,n=Zl.empty();let i=new Ei(Oa.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new HS(t.key,n,new Dd(i.toArray()),$h.none())}}function qEe(t,e,r){t instanceof Mk?function(i,a,o){const s=i.value.clone(),l=lL(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof HS?function(i,a,o){if(!rb(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=lL(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(WQ(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Ev(t,e,r,n){return t instanceof Mk?function(a,o,s,l){if(!rb(a.precondition,o))return s;const c=a.value.clone(),u=cL(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof HS?function(a,o,s,l){if(!rb(a.precondition,o))return s;const c=cL(a.fieldTransforms,l,o),u=o.data;return u.setAll(WQ(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return rb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function sL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&R0(n,i,(a,o)=>HEe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mk extends Dk{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class HS extends Dk{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WQ(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function lL(t,e,r){const n=new Map;Pn(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,VEe(o,s,r[i]))}return n}function cL(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,UEe(a,o,e))}return n}class WEe extends Dk{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GEe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&qEe(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ev(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ev(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=$Q();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=qQ(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),wr())}isEqual(e){return this.batchId===e.batchId&&R0(this.mutations,e.mutations,(r,n)=>sL(r,n))&&R0(this.baseMutations,e.baseMutations,(r,n)=>sL(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KEe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,fr;function GQ(t){if(t===void 0)return xu("GRPC error has no .code"),nt.UNKNOWN;switch(t){case ni.OK:return nt.OK;case ni.CANCELLED:return nt.CANCELLED;case ni.UNKNOWN:return nt.UNKNOWN;case ni.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case ni.INTERNAL:return nt.INTERNAL;case ni.UNAVAILABLE:return nt.UNAVAILABLE;case ni.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case ni.NOT_FOUND:return nt.NOT_FOUND;case ni.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case ni.ABORTED:return nt.ABORTED;case ni.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case ni.DATA_LOSS:return nt.DATA_LOSS;default:return Kt(39323,{code:t})}}(fr=ni||(ni={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XEe=new Jd([4294967295,4294967295],0);function uL(t){const e=xQ().encode(t),r=new dQ;return r.update(e),new Uint8Array(r.digest())}function dL(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Jd([r,n],0),new Jd([i,a],0)]}class Lk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new rv(`Invalid padding: ${r}`);if(n<0)throw new rv(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new rv(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new rv(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Jd.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(Jd.fromNumber(n)));return i.compare(XEe)===1&&(i=new Jd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=uL(e),[n,i]=dL(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Lk(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=uL(e),[n,i]=dL(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class rv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Nx.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new qS(Gt.min(),i,new Qn(nr),yf(),wr())}}class Nx{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Nx(n,r,wr(),wr(),wr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class KQ{constructor(e,r){this.targetId=e,this.Ce=r}}class YQ{constructor(e,r,n=la.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class fL{constructor(){this.Fe=0,this.Me=hL(),this.xe=la.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=wr(),r=wr(),n=wr();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Kt(38017,{changeType:a})}}),new Nx(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=hL()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Pn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QEe{constructor(e){this.ze=e,this.je=new Map,this.He=yf(),this.Je=rw(),this.Ye=rw(),this.Ze=new Qn(nr)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:Kt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(iT(a))if(n===0){const o=new Mt(a.path);this.tt(r,o,Na.newNoDocument(o,Gt.min()))}else Pn(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=gf(n).toUint8Array()}catch(l){if(l instanceof _Q)return j0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Lk(o,i,a)}catch(l){return j0(l instanceof rv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&iT(s.target)){const l=new Mt(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Na.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=wr();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new qS(e,r,this.Ze,this.He,n);return this.He=yf(),this.Je=rw(),this.Ye=rw(),this.Ze=new Qn(nr),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new fL,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ei(nr),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ei(nr),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||yt("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fL),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function rw(){return new Qn(Mt.comparator)}function hL(){return new Qn(Mt.comparator)}const ZEe={asc:"ASCENDING",desc:"DESCENDING"},JEe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e3e={and:"AND",or:"OR"};class t3e{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function lT(t,e){return t.useProto3Json||BS(e)?e:{value:e}}function cT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a0(t){return Pn(!!t,49232),Gt.fromTimestamp(function(r){const n=mf(r);return new Vi(n.seconds,n.nanos)}(t))}function QQ(t,e){return uT(t,e).canonicalString()}function uT(t,e){const r=function(i){return new An(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function ZQ(t){const e=An.fromString(t);return Pn(nZ(e),10190,{key:e.toString()}),e}function $3(t,e){const r=ZQ(e);if(r.get(1)!==t.databaseId.projectId)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new At(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Mt(eZ(r))}function JQ(t,e){return QQ(t.databaseId,e)}function r3e(t){const e=ZQ(t);return e.length===4?An.emptyPath():eZ(e)}function pL(t){return new An(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eZ(t){return Pn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function n3e(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Kt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(Pn(u===void 0||typeof u=="string",58123),la.fromBase64String(u||"")):(Pn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),la.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?nt.UNKNOWN:GQ(c.code);return new At(u,c.message||"")}(o);r=new YQ(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$3(t,n.document.name),a=a0(n.document.updateTime),o=n.document.createTime?a0(n.document.createTime):Gt.min(),s=new Zl({mapValue:{fields:n.document.fields}}),l=Na.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new nb(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$3(t,n.document),a=n.readTime?a0(n.readTime):Gt.min(),o=Na.newNoDocument(i,a),s=n.removedTargetIds||[];r=new nb([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$3(t,n.document),a=n.removedTargetIds||[];r=new nb([],a,i,null)}else{if(!("filter"in e))return Kt(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new YEe(i,a),s=n.targetId;r=new KQ(s,o)}}return r}function i3e(t,e){return{documents:[JQ(t,e.path)]}}function a3e(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=JQ(t,i);const a=function(c){if(c.length!==0)return rZ(Cl.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:vm(h.field),direction:l3e(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=lT(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:r,parent:i}}function o3e(t){let e=r3e(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Pn(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=tZ(f);return h instanceof Cl&&OQ(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(m){return new gy(ym(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,BS(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new f_(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new f_(p,h)}(r.endAt)),OEe(e,i,o,a,s,"F",l,c)}function s3e(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function tZ(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ym(r.unaryFilter.field);return ci.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ym(r.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ym(r.unaryFilter.field);return ci.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ym(r.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Kt(61313);default:return Kt(60726)}}(t):t.fieldFilter!==void 0?function(r){return ci.create(ym(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Kt(58110);default:return Kt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Cl.create(r.compositeFilter.filters.map(n=>tZ(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt(1026)}}(r.compositeFilter.op))}(t):Kt(30097,{filter:t})}function l3e(t){return ZEe[t]}function c3e(t){return JEe[t]}function u3e(t){return e3e[t]}function vm(t){return{fieldPath:t.canonicalString()}}function ym(t){return Oa.fromServerFormat(t.fieldPath)}function rZ(t){return t instanceof ci?function(r){if(r.op==="=="){if(tL(r.value))return{unaryFilter:{field:vm(r.field),op:"IS_NAN"}};if(eL(r.value))return{unaryFilter:{field:vm(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(tL(r.value))return{unaryFilter:{field:vm(r.field),op:"IS_NOT_NAN"}};if(eL(r.value))return{unaryFilter:{field:vm(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vm(r.field),op:c3e(r.op),value:r.value}}}(t):t instanceof Cl?function(r){const n=r.getFilters().map(i=>rZ(i));return n.length===1?n[0]:{compositeFilter:{op:u3e(r.op),filters:n}}}(t):Kt(54877,{filter:t})}function nZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,r,n,i,a=Gt.min(),o=Gt.min(),s=la.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Md(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3e{constructor(e){this.wt=e}}function f3e(t){const e=o3e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3e{constructor(){this.yn=new p3e}addToCollectionParentIndex(e,r){return this.yn.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r){return Ke.resolve(null)}getIndexType(e,r){return Ke.resolve(0)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,r){return Ke.resolve(pf.min())}getMinOffsetFromCollectionGroup(e,r){return Ke.resolve(pf.min())}updateCollectionGroup(e,r,n){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class p3e{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ei(An.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ei(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iZ=41943040;class fo{static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(iZ,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new L0(0)}static ir(){return new L0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="LruGarbageCollector",m3e=1048576;function vL([t,e],[r,n]){const i=nr(t,r);return i===0?nr(e,n):i}class g3e{constructor(e){this.cr=e,this.buffer=new Ei(vL),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();vL(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class v3e{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){yt(gL,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ig(r)?yt(gL,"Ignoring IndexedDB error during garbage collection: ",r):await LS(r)}await this.Ir(3e5)})}}class y3e{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ke.resolve(FS.le);const n=new g3e(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(mL)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mL):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),mm()<=sr.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function x3e(t,e){return new y3e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3e{constructor(){this.changes=new Sp(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Na.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ke.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3e{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3e{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Ev(n.mutation,i,Dd.empty(),Vi.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,wr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=wr()){const i=Th();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=tv();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Th();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,wr()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=yf();const o=Av(),s=function(){return Av()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof HS)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ev(u.mutation,c,u.mutation.getFieldMask(),Vi.now())):o.set(c.key,Dd.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new b3e(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Av();let i=new Qn((o,s)=>o-s),a=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Dd.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||wr()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=$Q();u.forEach(h=>{if(!a.has(h)){const p=qQ(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Ke.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Mt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):MQ(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ke.resolve(Th());let s=fy,l=a;return o.next(c=>Ke.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?Ke.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,wr())).next(u=>({batchId:s,changes:MEe(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Mt(r)).next(n=>{let i=tv();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=tv();return this.indexManager.getCollectionParents(e,a).next(s=>Ke.forEach(s,l=>{const c=function(f,h){return new kg(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Na.newInvalidDocument(u)))});let s=tv();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Ev(u.mutation,c,Dd.empty(),Vi.now()),VS(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3e{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return Ke.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:a0(i.createTime)}}(r)),Ke.resolve()}getNamedQuery(e,r){return Ke.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:f3e(i.bundledQuery),readTime:a0(i.readTime)}}(r)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3e{constructor(){this.overlays=new Qn(Mt.comparator),this.Or=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Th();return Ke.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),Ke.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),Ke.resolve()}getOverlaysForCollection(e,r,n){const i=Th(),a=r.length+1,o=new Mt(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ke.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Qn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=Th(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=Th(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return Ke.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new KEe(r,n));let a=this.Or.get(r);a===void 0&&(a=wr(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3e{constructor(){this.sessionToken=la.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.Nr=new Ei(Di.Br),this.Lr=new Ei(Di.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new Di(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new Di(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new Mt(new An([])),n=new Di(r,e),i=new Di(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Mt(new An([])),n=new Di(r,e),i=new Di(r,e+1);let a=wr();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Di(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Di{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Mt.comparator(e.key,r.key)||nr(e.Gr,r.Gr)}static kr(e,r){return nr(e.Gr,r.Gr)||Mt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3e{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ei(Di.Br)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GEe(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new Di(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ke.resolve(o)}lookupMutationBatch(e,r){return Ke.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return Ke.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?fEe:this.Jn-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Di(r,0),i=new Di(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),Ke.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ei(nr);return r.forEach(i=>{const a=new Di(i,0),o=new Di(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),Ke.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Mt.isDocumentKey(a)||(a=a.child(""));const o=new Di(new Mt(a),0);let s=new Ei(nr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Gr)),!0)},o),Ke.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Pn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return Ke.forEach(r.mutations,i=>{const a=new Di(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new Di(r,0),i=this.zr.firstAfterOrEqual(n);return Ke.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3e{constructor(e){this.Zr=e,this.docs=function(){return new Qn(Mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ke.resolve(n?n.document.mutableCopy():Na.newInvalidDocument(r))}getEntries(e,r){let n=yf();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Na.newInvalidDocument(i))}),Ke.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=yf();const o=r.path,s=new Mt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lEe(sEe(u),n)<=0||(i.has(u.key)||VS(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Ke.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Kt(9500)}Xr(e,r){return Ke.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new T3e(this)}getSize(e){return Ke.resolve(this.size)}}class T3e extends w3e{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),Ke.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3e{constructor(e){this.persistence=e,this.ei=new Sp(r=>kk(r),jk),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Fk,this.targetCount=0,this.ri=L0.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),Ke.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new L0(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.ar(r),Ke.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Ke.waitFor(a).next(()=>i)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return Ke.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),Ke.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Ke.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return Ke.resolve(n)}containsKey(e,r){return Ke.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,r){this.ii={},this.overlays={},this.si=new FS(0),this.oi=!1,this.oi=!0,this._i=new E3e,this.referenceDelegate=e(this),this.ai=new P3e(this),this.indexManager=new h3e,this.remoteDocumentCache=function(i){return new N3e(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new d3e(r),this.ci=new S3e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new A3e,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new C3e(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){yt("MemoryPersistence","Starting transaction:",e);const i=new I3e(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return Ke.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class I3e extends uEe{constructor(e){super(),this.currentSequenceNumber=e}}class Bk{constructor(e){this.persistence=e,this.Ti=new Fk,this.Ii=null}static Ei(e){return new Bk(e)}get di(){if(this.Ii)return this.Ii;throw Kt(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),Ke.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.di,n=>{const i=Mt.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Gt.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return Ke.or([()=>Ke.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class g_{constructor(e,r){this.persistence=e,this.Ri=new Sp(n=>pEe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=x3e(this,r)}static Ei(e,r){return new g_(e,r)}li(){}hi(e){return Ke.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return Ke.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?Ke.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Gt.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),Ke.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),Ke.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=tb(e.data.value)),r}gr(e,r,n){return Ke.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return Ke.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=wr(),i=wr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $k(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3e{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return OSe()?8:dEe(Ra())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new O3e;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(mm()<=sr.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",gm(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ke.resolve()):(mm()<=sr.DEBUG&&yt("QueryEngine","Query:",gm(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(mm()<=sr.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",gm(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oc(r))):Ke.resolve())}Rs(e,r){if(aL(r))return Ke.resolve(null);let n=oc(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=h_(r,null,"F"),n=oc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=wr(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ps(r,s);return this.ys(r,c,o,l.readTime)?this.Rs(e,h_(r,null,"F")):this.ws(e,c,r,l)}))})))}Vs(e,r,n,i){return aL(r)||i.isEqual(Gt.min())?Ke.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?Ke.resolve(null):(mm()<=sr.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gm(r)),this.ws(e,o,r,oEe(i,fy)).next(s=>s))})}ps(e,r){let n=new Ei(FQ(e));return r.forEach((i,a)=>{VS(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return mm()<=sr.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",gm(r)),this.As.getDocumentsMatchingQuery(e,r,pf.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="LocalStore",j3e=3e8;class R3e{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new Qn(nr),this.Ds=new Sp(a=>kk(a),jk),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _3e(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function D3e(t,e,r,n){return new R3e(t,e,r,n)}async function oZ(t,e){const r=mr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=wr();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:s}))})})}function sZ(t){const e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function M3e(t,e){const r=mr(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.ai.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(la.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(g,x,v){return g.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=j3e?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&s.push(r.ai.updateTargetData(a,p))});let l=yf(),c=wr();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(L3e(a,o,e.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Gt.min())){const u=r.ai.getLastRemoteSnapshotVersion(a).next(f=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return Ke.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ss=i,a))}function L3e(t,e,r){let n=wr(),i=wr();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=yf();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Gt.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):yt(Uk,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function F3e(t,e){const r=mr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,Ke.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Md(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function dT(t,e,r){const n=mr(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ig(o))throw o;yt(Uk,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function yL(t,e,r){const n=mr(t);let i=Gt.min(),a=wr();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=mr(l),h=f.Ds.get(u);return h!==void 0?Ke.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,o,oc(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Gt.min(),r?a:wr())).next(s=>(B3e(n,jEe(e),s),{documents:s,Ns:a})))}function B3e(t,e,r){let n=t.vs.get(e)||Gt.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class xL{constructor(){this.activeTargetIds=BEe()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $3e{constructor(){this.So=new xL,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new xL,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3e{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="ConnectivityMonitor";class bL{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){yt(wL,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){yt(wL,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw=null;function fT(){return nw===null?nw=function(){return 268435456+Math.round(2147483648*Math.random())}():nw++,"0x"+nw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="RestConnection",V3e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z3e{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===u_?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=fT(),s=this.$o(e,r.toUriEncodedString());yt(U3,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,a);const{host:c}=new URL(s),u=Ng(c);return this.Ko(e,s,l,n,u).then(f=>(yt(U3,`Received RPC '${e}' ${o}: `,f),f),f=>{throw j0(U3,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pg}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=V3e[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3e{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="WebChannelConnection";class q3e extends z3e{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i,a){const o=fT();return new Promise((s,l)=>{const c=new fQ;c.setWithCredentials(!0),c.listenOnce(hQ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case eb.NO_ERROR:const f=c.getResponseJson();yt(xa,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case eb.TIMEOUT:yt(xa,`RPC '${e}' ${o} timed out`),l(new At(nt.DEADLINE_EXCEEDED,"Request time out"));break;case eb.HTTP_ERROR:const h=c.getStatus();if(yt(xa,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(y)>=0?y:nt.UNKNOWN}(m.status);l(new At(g,m.message))}else l(new At(nt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new At(nt.UNAVAILABLE,"Connection failed."));break;default:Kt(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{yt(xa,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);yt(xa,`RPC '${e}' ${o} sending request:`,i),c.send(r,"POST",u,n,15)})}a_(e,r,n){const i=fT(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gQ(),s=mQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");yt(xa,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const m=new H3e({Go:x=>{p?yt(xa,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(yt(xa,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),yt(xa,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},zo:()=>f.close()}),g=(x,v,y)=>{x.listen(v,w=>{try{y(w)}catch(C){setTimeout(()=>{throw C},0)}})};return g(f,ev.EventType.OPEN,()=>{p||(yt(xa,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),g(f,ev.EventType.CLOSE,()=>{p||(p=!0,yt(xa,`RPC '${e}' stream ${i} transport closed`),m.r_())}),g(f,ev.EventType.ERROR,x=>{p||(p=!0,j0(xa,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),m.r_(new At(nt.UNAVAILABLE,"The operation could not be completed")))}),g(f,ev.EventType.MESSAGE,x=>{var v;if(!p){const y=x.data[0];Pn(!!y,16349);const w=y,C=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(C){yt(xa,`RPC '${e}' stream ${i} received error:`,C);const A=C.status;let O=function(P){const R=ni[P];if(R!==void 0)return GQ(R)}(A),N=C.message;O===void 0&&(O=nt.INTERNAL,N="Unknown error status: "+A+" with message "+C.message),p=!0,m.r_(new At(O,N)),f.close()}else yt(xa,`RPC '${e}' stream ${i} received:`,y),m.i_(y)}}),g(s,pQ.STAT_EVENT,x=>{x.stat===JN.PROXY?yt(xa,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===JN.NOPROXY&&yt(xa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function V3(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){return new t3e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&yt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="PersistentStream";class W3e{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lZ(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(xu(r.toString()),xu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new At(nt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return yt(_L,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(yt(_L,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G3e extends W3e{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=n3e(this.serializer,e),n=function(a){if(!("targetChange"in a))return Gt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?a0(o.readTime):Gt.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=pL(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=iT(l)?{documents:i3e(a,l)}:{query:a3e(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=XQ(a,o.resumeToken);const c=lT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Gt.min())>0){s.readTime=cT(a,o.snapshotVersion.toTimestamp());const c=lT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=s3e(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=pL(this.serializer),r.removeTarget=e,this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3e{}class Y3e extends K3e{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,uT(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new At(nt.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,uT(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new At(nt.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class X3e{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(xu(r),this.ea=!1):yt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="RemoteStore";class Q3e{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{Px(this)&&(yt(F0,"Restarting streams for network reachability change."),await async function(l){const c=mr(l);c.aa.add(4),await Tx(c),c.la.set("Unknown"),c.aa.delete(4),await GS(c)}(this))})}),this.la=new X3e(n,i)}}async function GS(t){if(Px(t))for(const e of t.ua)await e(!0)}async function Tx(t){for(const e of t.ua)await e(!1)}function cZ(t,e){const r=mr(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),qk(r)?Hk(r):jg(r).b_()&&zk(r,e))}function Vk(t,e){const r=mr(t),n=jg(r);r._a.delete(e),n.b_()&&uZ(r,e),r._a.size===0&&(n.b_()?n.v_():Px(r)&&r.la.set("Unknown"))}function zk(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}jg(t).U_(e)}function uZ(t,e){t.ha.Ke(e),jg(t).K_(e)}function Hk(t){t.ha=new QEe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),jg(t).start(),t.la.ta()}function qk(t){return Px(t)&&!jg(t).w_()&&t._a.size>0}function Px(t){return mr(t).aa.size===0}function dZ(t){t.ha=void 0}async function Z3e(t){t.la.set("Online")}async function J3e(t){t._a.forEach((e,r)=>{zk(t,e)})}async function eCe(t,e){dZ(t),qk(t)?(t.la.ia(e),Hk(t)):t.la.set("Unknown")}async function tCe(t,e,r){if(t.la.set("Online"),e instanceof YQ&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){yt(F0,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await SL(t,n)}else if(e instanceof nb?t.ha.Xe(e):e instanceof KQ?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Gt.min()))try{const n=await sZ(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a._a.get(c);u&&a._a.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a._a.get(l);if(!u)return;a._a.set(l,u.withResumeToken(la.EMPTY_BYTE_STRING,u.snapshotVersion)),uZ(a,l);const f=new Md(u.target,l,c,u.sequenceNumber);zk(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){yt(F0,"Failed to raise snapshot:",n),await SL(t,n)}}async function SL(t,e,r){if(!Ig(e))throw e;t.aa.add(1),await Tx(t),t.la.set("Offline"),r||(r=()=>sZ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{yt(F0,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await GS(t)})}async function AL(t,e){const r=mr(t);r.asyncQueue.verifyOperationInProgress(),yt(F0,"RemoteStore received new credentials");const n=Px(r);r.aa.add(3),await Tx(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await GS(r)}async function rCe(t,e){const r=mr(t);e?(r.aa.delete(2),await GS(r)):e||(r.aa.add(2),await Tx(r),r.la.set("Unknown"))}function jg(t){return t.Pa||(t.Pa=function(r,n,i){const a=mr(r);return a.Y_(),new G3e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:Z3e.bind(null,t),Jo:J3e.bind(null,t),Zo:eCe.bind(null,t),Q_:tCe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),qk(t)?Hk(t):t.la.set("Unknown")):(await t.Pa.stop(),dZ(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Wk(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fZ(t,e){if(xu("AsyncQueue",`${e}: ${t}`),Ig(t))return new At(nt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static emptySet(e){return new o0(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Mt.comparator(r.key,n.key):(r,n)=>Mt.comparator(r.key,n.key),this.keyedMap=tv(),this.sortedSet=new Qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof o0)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new o0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Ia=new Qn(Mt.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Kt(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class B0{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new B0(e,r,o0.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&US(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nCe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class iCe{constructor(){this.queries=CL(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=mr(r),a=i.queries;i.queries=CL(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new At(nt.ABORTED,"Firestore shutting down"))}}function CL(){return new Sp(t=>LQ(t),US)}async function aCe(t,e){const r=mr(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new nCe,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=fZ(o,`Initialization of query '${gm(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&Gk(r)}async function oCe(t,e){const r=mr(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function sCe(t,e){const r=mr(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&Gk(r)}function lCe(t,e,r){const n=mr(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function Gk(t){t.fa.forEach(e=>{e.next()})}var hT,NL;(NL=hT||(hT={})).ya="default",NL.Cache="cache";class cCe{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new B0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=B0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==hT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e){this.key=e}}class pZ{constructor(e){this.key=e}}class uCe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=wr(),this.mutatedKeys=wr(),this.Ua=FQ(e),this.Ka=new o0(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new EL,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=VS(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),x=!0):this.ja(h,p)||(n.track({type:2,doc:p}),x=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),x=!0):h&&!p&&(n.track({type:1,doc:h}),x=!0,(l||c)&&(s=!0)),x&&(p?(o=o.add(p),a=g?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((u,f)=>function(p,m){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt(20277,{Vt:x})}};return g(p)-g(m)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new B0(this.query,e.Ka,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new EL,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=wr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new pZ(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new hZ(n))}),r}Xa(e){this.qa=e.Ns,this.$a=wr();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return B0.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Kk="SyncEngine";class dCe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class fCe{constructor(e){this.key=e,this.tu=!1}}class hCe{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Sp(s=>LQ(s),US),this.iu=new Map,this.su=new Set,this.ou=new Qn(Mt.comparator),this._u=new Map,this.au=new Fk,this.uu={},this.cu=new Map,this.lu=L0.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function pCe(t,e,r=!0){const n=xZ(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await mZ(n,e,r,!0),i}async function mCe(t,e){const r=xZ(t);await mZ(r,e,!0,!1)}async function mZ(t,e,r,n){const i=await F3e(t.localStore,oc(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await gCe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&cZ(t.remoteStore,i),s}async function gCe(t,e,r,n,i){t.Pu=(f,h,p)=>async function(g,x,v,y){let w=x.view.Ga(v);w.ys&&(w=await yL(g.localStore,x.query,!1).then(({documents:N})=>x.view.Ga(N,w)));const C=y&&y.targetChanges.get(x.targetId),A=y&&y.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(w,g.isPrimaryClient,C,A);return PL(g,x.targetId,O.Ya),O.snapshot}(t,f,h,p);const a=await yL(t.localStore,e,!0),o=new uCe(e,a.Ns),s=o.Ga(a.documents),l=Nx.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);PL(t,r,c.Ya);const u=new dCe(e,r,o);return t.ru.set(e,u),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),c.snapshot}async function vCe(t,e,r){const n=mr(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!US(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await dT(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Vk(n.remoteStore,i.targetId),pT(n,i.targetId)}).catch(LS)):(pT(n,i.targetId),await dT(n.localStore,i.targetId,!0))}async function yCe(t,e){const r=mr(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Vk(r.remoteStore,n.targetId))}async function gZ(t,e){const r=mr(t);try{const n=await M3e(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(Pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Pn(o.tu,14607):i.removedDocuments.size>0&&(Pn(o.tu,42227),o.tu=!1))}),await yZ(r,n,e)}catch(n){await LS(n)}}function TL(t,e,r){const n=mr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=mr(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(s)&&(c=!0)}),c&&Gk(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function xCe(t,e,r){const n=mr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new Qn(Mt.comparator);o=o.insert(a,Na.newNoDocument(a,Gt.min()));const s=wr().add(a),l=new qS(Gt.min(),new Map,new Qn(nr),o,s);await gZ(n,l),n.ou=n.ou.remove(a),n._u.delete(e),Yk(n)}else await dT(n.localStore,e,!1).then(()=>pT(n,e,r)).catch(LS)}function pT(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||vZ(t,n)})}function vZ(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(Vk(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),Yk(t))}function PL(t,e,r){for(const n of r)n instanceof hZ?(t.au.addReference(n.key,e),wCe(t,n)):n instanceof pZ?(yt(Kk,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||vZ(t,n.key)):Kt(19791,{Iu:n})}function wCe(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(yt(Kk,"New document in limbo: "+r),t.su.add(n),Yk(t))}function Yk(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new Mt(An.fromString(e)),n=t.lu.next();t._u.set(n,new fCe(r)),t.ou=t.ou.insert(r,n),cZ(t.remoteStore,new Md(oc(DQ(r.path)),n,"TargetPurposeLimboResolution",FS.le))}}async function yZ(t,e,r){const n=mr(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=$k.Ps(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,c){const u=mr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ke.forEach(c,h=>Ke.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Ke.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Ig(f))throw f;yt(Uk,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(h,g)}}}(n.localStore,a))}async function bCe(t,e){const r=mr(t);if(!r.currentUser.isEqual(e)){yt(Kk,"User change. New user:",e.toKey());const n=await oZ(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new At(nt.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yZ(r,n.Ms)}}function _Ce(t,e){const r=mr(t),n=r._u.get(e);if(n&&n.tu)return wr().add(n.key);{let i=wr();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function xZ(t){const e=mr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_Ce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xCe.bind(null,e),e.nu.Q_=sCe.bind(null,e.eventManager),e.nu.Tu=lCe.bind(null,e.eventManager),e}class v_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=WS(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return D3e(this.persistence,new k3e,e.initialUser,this.serializer)}Ru(e){return new aZ(Bk.Ei,this.serializer)}Au(e){return new $3e}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}v_.provider={build:()=>new v_};class SCe extends v_{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){Pn(this.persistence.referenceDelegate instanceof g_,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new v3e(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new aZ(n=>g_.Ei(n,r),this.serializer)}}class mT{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>TL(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bCe.bind(null,this.syncEngine),await rCe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iCe}()}createDatastore(e){const r=WS(e.databaseInfo.databaseId),n=function(a){return new q3e(a)}(e.databaseInfo);return function(a,o,s,l){return new Y3e(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Q3e(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>TL(this.syncEngine,r,0),function(){return bL.C()?new bL:new U3e}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new hCe(i,a,o,s,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=mr(i);yt(F0,"RemoteStore shutting down."),a.aa.add(5),await Tx(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}mT.provider={build:()=>new mT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ACe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):xu("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="FirestoreClient";class ECe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Sa.UNAUTHENTICATED,this.clientId=nEe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{yt(xf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(yt(xf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=fZ(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function z3(t,e){t.asyncQueue.verifyOperationInProgress(),yt(xf,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await oZ(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function IL(t,e){t.asyncQueue.verifyOperationInProgress();const r=await CCe(t);yt(xf,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>AL(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>AL(e.remoteStore,i)),t._onlineComponents=e}async function CCe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){yt(xf,"Using user provided OfflineComponentProvider");try{await z3(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;j0("Error using user provided cache. Falling back to memory cache: "+r),await z3(t,new v_)}}else yt(xf,"Using default OfflineComponentProvider"),await z3(t,new SCe(void 0));return t._offlineComponents}async function NCe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(yt(xf,"Using user provided OnlineComponentProvider"),await IL(t,t._uninitializedComponentsProvider._online)):(yt(xf,"Using default OnlineComponentProvider"),await IL(t,new mT))),t._onlineComponents}async function TCe(t){const e=await NCe(t),r=e.eventManager;return r.onListen=pCe.bind(null,e.syncEngine),r.onUnlisten=vCe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mCe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=yCe.bind(null,e.syncEngine),r}function PCe(t,e,r={}){const n=new Bh;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new ACe({next:h=>{u.yu(),o.enqueueAndForget(()=>oCe(a,f)),h.fromCache&&l.source==="server"?c.reject(new At(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new cCe(s,u,{includeMetadataChanges:!0,Fa:!0});return aCe(a,f)}(await TCe(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new Map;function ICe(t,e,r,n){if(e===!0&&n===!0)throw new At(nt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function kL(t){if(Mt.isDocumentKey(t))throw new At(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Kt(12329,{type:typeof t})}function gT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new At(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=KS(t);throw new At(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function OCe(t,e){if(e<=0)throw new At(nt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ="firestore.googleapis.com",jL=!0;class RL{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new At(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bZ,this.ssl=jL}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:jL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m3e)throw new At(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ICe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wZ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new At(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xk{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RL(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XAe;switch(n.type){case"firstParty":return new eEe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new At(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Tg("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=OL.get(r);n&&(yt("ComponentProvider","Removing Datastore"),OL.delete(r),n.terminate())}(this),Promise.resolve()}}function _Z(t,e,r,n={}){var i;t=gT(t,Xk);const a=Ng(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o.host!==bZ&&o.host!==l&&j0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:n});if(!hf(c,s)&&(t._setSettings(c),a&&(Ek(`https://${l}`),Tg("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Sa.MOCK_USER;else{u=nQ(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new At(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Sa(h)}t._authCredentials=new QAe(new yQ(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Tu{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tu(this.firestore,e,this._key)}}class s0 extends kf{constructor(e,r,n){super(e,r,DQ(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tu(this.firestore,null,new Mt(e))}withConverter(e){return new s0(this.firestore,e,this._path)}}function kCe(t,e,...r){if(t=Ao(t),t instanceof Xk){const n=An.fromString(e,...r);return kL(n),new s0(t,null,n)}{if(!(t instanceof Tu||t instanceof s0))throw new At(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(An.fromString(e,...r));return kL(n),new s0(t.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="AsyncQueue";class ML{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lZ(this,"async_queue_retry"),this.ju=()=>{const n=V3();n&&yt(DL,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=V3();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=V3();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Bh;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ig(e))throw e;yt(DL,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,xu("INTERNAL UNHANDLED ERROR: ",LL(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=Wk.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Kt(47125,{ec:LL(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function LL(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class SZ extends Xk{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new ML,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ML(e),this._firestoreClient=void 0,await e}}}function jCe(t,e){const r=typeof t=="object"?t:Cx(),n=typeof t=="string"?t:u_,i=Nu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=eQ("firestore");a&&_Z(i,...a)}return i}function RCe(t){if(t._terminated)throw new At(nt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DCe(t),t._firestoreClient}function DCe(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new vEe(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wZ(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ECe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $0(la.fromBase64String(e))}catch(r){throw new At(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $0(la.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new At(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new At(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new At(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nr(this._lat,e._lat)||nr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MCe=/^__.*__$/;function CZ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt(40011,{oc:t})}}class Jk{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ac({path:n,cc:!1});return i.lc(e),i}hc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ac({path:n,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return vT(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(CZ(this.oc)&&MCe.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class LCe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||WS(e)}dc(e,r,n,i=!1){return new Jk({oc:e,methodName:r,Ec:n,path:Oa.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FCe(t){const e=t._freezeSettings(),r=WS(t._databaseId);return new LCe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function BCe(t,e,r,n=!1){return e6(r,t.dc(n?4:3,e))}function e6(t,e){if(NZ(t=Ao(t)))return UCe("Unsupported field value:",e,t),$Ce(t,e);if(t instanceof EZ)return function(n,i){if(!CZ(i.oc))throw i.Tc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=e6(s,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Ao(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $Ee(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Vi.fromDate(n);return{timestampValue:cT(i.serializer,a)}}if(n instanceof Vi){const a=new Vi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cT(i.serializer,a)}}if(n instanceof Qk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $0)return{bytesValue:XQ(i.serializer,n._byteString)};if(n instanceof Tu){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:QQ(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Zk)return function(o,s){return{mapValue:{fields:{[NQ]:{stringValue:TQ},[d_]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw s.Tc("VectorValues must only contain numeric values.");return Rk(s.serializer,c)})}}}}}}(n,i);throw i.Tc(`Unsupported field value: ${KS(n)}`)}(t,e)}function $Ce(t,e){const r={};return bQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Og(t,(n,i)=>{const a=e6(i,e.uc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function NZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vi||t instanceof Qk||t instanceof $0||t instanceof Tu||t instanceof EZ||t instanceof Zk)}function UCe(t,e,r){if(!NZ(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=KS(r);throw n==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+n)}}const VCe=new RegExp("[~\\*/\\[\\]]");function zCe(t,e,r){if(e.search(VCe)>=0)throw vT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new AZ(...e.split("."))._internalPath}catch{throw vT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function vT(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new At(nt.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tu(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(YS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class HCe extends TZ{data(){return super.data()}}function YS(t,e){return typeof e=="string"?zCe(t,e):e instanceof AZ?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qCe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new At(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t6{}class r6 extends t6{}function WCe(t,e,...r){let n=[];e instanceof t6&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof n6).length,s=a.filter(l=>l instanceof XS).length;if(o>1||o>0&&s>0)throw new At(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class XS extends r6{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new XS(e,r,n)}_apply(e){const r=this._parse(e);return PZ(e._query,r),new kf(e.firestore,e.converter,aT(e._query,r))}_parse(e){const r=FCe(e.firestore);return function(a,o,s,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new At(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){BL(f,u);const m=[];for(const g of f)m.push(FL(l,a,g));h={arrayValue:{values:m}}}else h=FL(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||BL(f,u),h=BCe(s,o,f,u==="in"||u==="not-in");return ci.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function GCe(t,e,r){const n=e,i=YS("where",t);return XS._create(i,n,r)}class n6 extends t6{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new n6(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Cl.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)PZ(o,l),o=aT(o,l)}(e._query,r),new kf(e.firestore,e.converter,aT(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i6 extends r6{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new i6(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new At(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new At(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gy(a,o)}(e._query,this._field,this._direction);return new kf(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new kg(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function KCe(t,e="asc"){const r=e,n=YS("orderBy",t);return i6._create(n,r)}class a6 extends r6{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new a6(e,r,n)}_apply(e){return new kf(e.firestore,e.converter,h_(e._query,this._limit,this._limitType))}}function YCe(t){return OCe("limit",t),a6._create("limit",t,"F")}function FL(t,e,r){if(typeof(r=Ao(r))=="string"){if(r==="")throw new At(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MQ(e)&&r.indexOf("/")!==-1)throw new At(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(An.fromString(r));if(!Mt.isDocumentKey(n))throw new At(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return J7(t,new Mt(n))}if(r instanceof Tu)return J7(t,r._key);throw new At(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KS(r)}.`)}function BL(t,e){if(!Array.isArray(t)||t.length===0)throw new At(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PZ(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new At(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class XCe{convertValue(e,r="none"){switch(vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Og(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[d_].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>zn(o.doubleValue));return new Zk(a)}convertGeoPoint(e){return new Qk(zn(e.latitude),zn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=$S(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(hy(e));default:return null}}convertTimestamp(e){const r=mf(e);return new Vi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=An.fromString(e);Pn(nZ(n),9688,{name:e});const i=new py(n.get(1),n.get(3)),a=new Mt(n.popFirst(5));return i.isEqual(r)||xu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QCe extends TZ{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(YS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ib extends QCe{data(e={}){return super.data(e)}}class ZCe{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new iw(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ib(this._firestore,this._userDataWriter,n.key,n,new iw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new At(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new ib(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iw(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new ib(i._firestore,i._userDataWriter,s.doc.key,s.doc,new iw(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:JCe(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function JCe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt(61501,{type:t})}}class e4e extends XCe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Tu(this.firestore,null,r)}}function t4e(t){t=gT(t,kf);const e=gT(t.firestore,SZ),r=RCe(e),n=new e4e(e);return qCe(t._query),PCe(r,t._query).then(i=>new ZCe(e,n,t,i))}(function(e,r=!0){(function(i){Pg=i})(_p),es(new Eo("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new SZ(new ZAe(n.getProvider("auth-internal")),new tEe(o,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new At(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new py(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ka(U7,V7,e),ka(U7,V7,"esm2017")})();var r4e="firebase",n4e="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(r4e,n4e,"app");function IZ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i4e=IZ,OZ=new Of("auth","Firebase",IZ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new DS("@firebase/auth");function a4e(t,...e){y_.logLevel<=sr.WARN&&y_.warn(`Auth (${_p}): ${t}`,...e)}function ab(t,...e){y_.logLevel<=sr.ERROR&&y_.error(`Auth (${_p}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,...e){throw o6(t,...e)}function sc(t,...e){return o6(t,...e)}function kZ(t,e,r){const n=Object.assign(Object.assign({},i4e()),{[e]:r});return new Of("auth","Firebase",n).create(e,{appName:t.name})}function Uh(t){return kZ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o6(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return OZ.create(t,...e)}function Ut(t,e,...r){if(!t)throw o6(e,...r)}function Qc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ab(e),new Error(e)}function bu(t,e){t||Qc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o4e(){return $L()==="http:"||$L()==="https:"}function $L(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o4e()||iQ()||"connection"in navigator)?navigator.onLine:!0}function l4e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,r){this.shortDelay=e,this.longDelay=r,bu(r>e,"Short delay should be less than long delay!"),this.isMobile=CSe()||PSe()}get(){return s4e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){bu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d4e=new Ix(3e4,6e4);function l6(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rg(t,e,r,n,i={}){return RZ(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=Ex(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return TSe()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ng(t.emulatorConfig.host)&&(c.credentials="include"),jZ.fetch()(await DZ(t,t.config.apiHost,r,s),c)})}async function RZ(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},c4e),e);try{const i=new h4e(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw aw(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw aw(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw aw(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw aw(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kZ(t,u,c);wu(t,u)}}catch(i){if(i instanceof Ds)throw i;wu(t,"network-request-failed",{message:String(i)})}}async function f4e(t,e,r,n,i={}){const a=await Rg(t,e,r,n,i);return"mfaPendingCredential"in a&&wu(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function DZ(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?s6(t.config,i):`${t.config.apiScheme}://${i}`;return u4e.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class h4e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(sc(this.auth,"network-request-failed")),d4e.get())})}}function aw(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=sc(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4e(t,e){return Rg(t,"POST","/v1/accounts:delete",e)}async function x_(t,e){return Rg(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m4e(t,e=!1){const r=Ao(t),n=await r.getIdToken(e),i=c6(n);Ut(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Cv(H3(i.auth_time)),issuedAtTime:Cv(H3(i.iat)),expirationTime:Cv(H3(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function H3(t){return Number(t)*1e3}function c6(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ab("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZX(r);return i?JSON.parse(i):(ab("Failed to decode base64 JWT payload"),null)}catch(i){return ab("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UL(t){const e=c6(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ds&&g4e(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function g4e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cv(this.lastLoginAt),this.creationTime=Cv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(t){var e;const r=t.auth,n=await t.getIdToken(),i=await vy(t,x_(r,{idToken:n}));Ut(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?MZ(a.providerUserInfo):[],s=x4e(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new xT(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function y4e(t){const e=Ao(t);await w_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x4e(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function MZ(t){return t.map(e=>{var{providerId:r}=e,n=vx(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4e(t,e){const r=await RZ(t,{},async()=>{const n=Ex({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await DZ(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",jZ.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function b4e(t,e){return Rg(t,"POST","/v2/accounts:revokeToken",l6(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const r=UL(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await w4e(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new l0;return n&&(Ut(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ut(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ut(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new l0,this.toJSON())}_performRefresh(){return Qc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ml{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=vx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v4e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await vy(this,this.stsTokenManager.getToken(this.auth,e));return Ut(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return m4e(this,e)}reload(){return y4e(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ml(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await w_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hl(this.auth.app))return Promise.reject(Uh(this.auth));const e=await this.getIdToken();return await vy(this,p4e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=r.createdAt)!==null&&c!==void 0?c:void 0,y=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:C,isAnonymous:A,providerData:O,stsTokenManager:N}=r;Ut(w&&N,e,"internal-error");const S=l0.fromJSON(this.name,N);Ut(typeof w=="string",e,"internal-error"),md(f,e.name),md(h,e.name),Ut(typeof C=="boolean",e,"internal-error"),Ut(typeof A=="boolean",e,"internal-error"),md(p,e.name),md(m,e.name),md(g,e.name),md(x,e.name),md(v,e.name),md(y,e.name);const P=new ml({uid:w,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:A,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:v,lastLoginAt:y});return O&&Array.isArray(O)&&(P.providerData=O.map(R=>Object.assign({},R))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new l0;i.updateFromServerResponse(r);const a=new ml({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await w_(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ut(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?MZ(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new l0;s.updateFromIdToken(n);const l=new ml({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new Map;function Zc(t){bu(t instanceof Function,"Expected a class definition");let e=VL.get(t);return e?(bu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}LZ.type="NONE";const zL=LZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e,r){return`firebase:${t}:${e}:${r}`}class c0{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=ob(this.userKey,i.apiKey,a),this.fullPersistenceKey=ob("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await x_(this.auth,{idToken:e}).catch(()=>{});return r?ml._fromGetAccountInfoResponse(this.auth,r,e):null}return ml._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new c0(Zc(zL),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Zc(zL);const o=ob(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await x_(e,{idToken:u}).catch(()=>{});if(!h)break;f=await ml._fromGetAccountInfoResponse(e,h,u)}else f=ml._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new c0(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new c0(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UZ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FZ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zZ(e))return"Blackberry";if(HZ(e))return"Webos";if(BZ(e))return"Safari";if((e.includes("chrome/")||$Z(e))&&!e.includes("edge/"))return"Chrome";if(VZ(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function FZ(t=Ra()){return/firefox\//i.test(t)}function BZ(t=Ra()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $Z(t=Ra()){return/crios\//i.test(t)}function UZ(t=Ra()){return/iemobile/i.test(t)}function VZ(t=Ra()){return/android/i.test(t)}function zZ(t=Ra()){return/blackberry/i.test(t)}function HZ(t=Ra()){return/webos/i.test(t)}function u6(t=Ra()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _4e(t=Ra()){var e;return u6(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S4e(){return ISe()&&document.documentMode===10}function qZ(t=Ra()){return u6(t)||VZ(t)||HZ(t)||zZ(t)||/windows phone/i.test(t)||UZ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(t,e=[]){let r;switch(t){case"Browser":r=HL(Ra());break;case"Worker":r=`${HL(Ra())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${_p}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4e(t,e={}){return Rg(t,"GET","/v2/passwordPolicy",l6(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4e=6;class N4e{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:C4e,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4e{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qL(this),this.idTokenSubscription=new qL(this),this.beforeStateQueue=new A4e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OZ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Zc(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await c0.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await x_(this,{idToken:e}),n=await ml._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(hl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await w_(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l4e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hl(this.app))return Promise.reject(Uh(this));const r=e?Ao(e):null;return r&&Ut(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hl(this.app)?Promise.reject(Uh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hl(this.app)?Promise.reject(Uh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E4e(this),r=new N4e(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Of("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await b4e(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Zc(e)||this._popupRedirectResolver;Ut(r,this,"argument-error"),this.redirectPersistenceManager=await c0.create(this,[Zc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WZ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(hl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&a4e(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function d6(t){return Ao(t)}class qL{constructor(e){this.auth=e,this.observer=null,this.addObserver=MSe(r=>this.observer=r)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f6={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P4e(t){f6=t}function I4e(t){return f6.loadJS(t)}function O4e(){return f6.gapiScript}function k4e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4e(t,e){const r=Nu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(hf(a,e??{}))return i;wu(i,"already-initialized")}return r.initialize({options:e})}function R4e(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Zc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function GZ(t,e,r){const n=d6(t);Ut(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=KZ(e),{host:o,port:s}=D4e(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ut(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ut(hf(c,n.config.emulator)&&hf(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Ng(o)?(Tg("Auth",!0),Ek(`${a}//${o}${l}`)):i||M4e()}function KZ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D4e(t){const e=KZ(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:WL(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:WL(o)}}}function WL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M4e(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Qc("not implemented")}_getIdTokenResponse(e){return Qc("not implemented")}_linkToIdToken(e,r){return Qc("not implemented")}_getReauthenticationResolver(e){return Qc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t,e){return f4e(t,"POST","/v1/accounts:signInWithIdp",l6(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4e="http://localhost";class tp extends YZ{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new tp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):wu("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=vx(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new tp(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return u0(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,u0(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,u0(e,r)}buildRequest(){const e={requestUri:L4e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ex(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends XZ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Ox{constructor(){super("facebook.com")}static credential(e){return tp._fromParams({providerId:Cd.PROVIDER_ID,signInMethod:Cd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cd.credentialFromTaggedObject(e)}static credentialFromError(e){return Cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cd.credential(e.oauthAccessToken)}catch{return null}}}Cd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Ox{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return tp._fromParams({providerId:Nd.PROVIDER_ID,signInMethod:Nd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Nd.credentialFromTaggedObject(e)}static credentialFromError(e){return Nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Nd.credential(r,n)}catch{return null}}}Nd.GOOGLE_SIGN_IN_METHOD="google.com";Nd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Ox{constructor(){super("github.com")}static credential(e){return tp._fromParams({providerId:Td.PROVIDER_ID,signInMethod:Td.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Td.credentialFromTaggedObject(e)}static credentialFromError(e){return Td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Td.credential(e.oauthAccessToken)}catch{return null}}}Td.GITHUB_SIGN_IN_METHOD="github.com";Td.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Ox{constructor(){super("twitter.com")}static credential(e,r){return tp._fromParams({providerId:Pd.PROVIDER_ID,signInMethod:Pd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Pd.credentialFromTaggedObject(e)}static credentialFromError(e){return Pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Pd.credential(r,n)}catch{return null}}}Pd.TWITTER_SIGN_IN_METHOD="twitter.com";Pd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ml._fromIdTokenResponse(e,n,i),o=GL(n);return new U0({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=GL(n);return new U0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function GL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends Ds{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,b_.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new b_(e,r,n,i)}}function QZ(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?b_._fromErrorAndOperation(t,a,e,n):a})}async function F4e(t,e,r=!1){const n=await vy(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return U0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4e(t,e,r=!1){const{auth:n}=t;if(hl(n.app))return Promise.reject(Uh(n));const i="reauthenticate";try{const a=await vy(t,QZ(n,i,e,t),r);Ut(a.idToken,n,"internal-error");const o=c6(a.idToken);Ut(o,n,"internal-error");const{sub:s}=o;return Ut(t.uid===s,n,"user-mismatch"),U0._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wu(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4e(t,e,r=!1){if(hl(t.app))return Promise.reject(Uh(t));const n="signIn",i=await QZ(t,n,e),a=await U0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function U4e(t,e,r,n){return Ao(t).onIdTokenChanged(e,r,n)}function V4e(t,e,r){return Ao(t).beforeAuthStateChanged(e,r)}const __="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(__,"1"),this.storage.removeItem(__),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4e=1e3,H4e=10;class JZ extends ZZ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qZ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);S4e()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H4e):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},z4e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}JZ.type="LOCAL";const q4e=JZ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ extends ZZ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}eJ.type="SESSION";const tJ=eJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new QS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await W4e(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}QS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=h6("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){return window}function K4e(t){lc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(){return typeof lc().WorkerGlobalScope<"u"&&typeof lc().importScripts=="function"}async function Y4e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X4e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q4e(){return rJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ="firebaseLocalStorageDb",Z4e=1,S_="firebaseLocalStorage",iJ="fbase_key";class kx{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ZS(t,e){return t.transaction([S_],e?"readwrite":"readonly").objectStore(S_)}function J4e(){const t=indexedDB.deleteDatabase(nJ);return new kx(t).toPromise()}function wT(){const t=indexedDB.open(nJ,Z4e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(S_,{keyPath:iJ})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(S_)?e(n):(n.close(),await J4e(),e(await wT()))})})}async function KL(t,e,r){const n=ZS(t,!0).put({[iJ]:e,value:r});return new kx(n).toPromise()}async function eNe(t,e){const r=ZS(t,!1).get(e),n=await new kx(r).toPromise();return n===void 0?null:n.value}function YL(t,e){const r=ZS(t,!0).delete(e);return new kx(r).toPromise()}const tNe=800,rNe=3;class aJ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>rNe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=QS._getInstance(Q4e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Y4e(),!this.activeServiceWorker)return;this.sender=new G4e(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X4e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wT();return await KL(e,__,"1"),await YL(e,__),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>KL(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>eNe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>YL(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ZS(i,!1).getAll();return new kx(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tNe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aJ.type="LOCAL";const nNe=aJ;new Ix(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iNe(t,e){return e?Zc(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6 extends YZ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return u0(e,this._buildIdpRequest())}_linkToIdToken(e,r){return u0(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return u0(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function aNe(t){return $4e(t.auth,new p6(t),t.bypassAuthState)}function oNe(t){const{auth:e,user:r}=t;return Ut(r,e,"internal-error"),B4e(r,new p6(t),t.bypassAuthState)}async function sNe(t){const{auth:e,user:r}=t;return Ut(r,e,"internal-error"),F4e(r,new p6(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aNe;case"linkViaPopup":case"linkViaRedirect":return sNe;case"reauthViaPopup":case"reauthViaRedirect":return oNe;default:wu(this.auth,"internal-error")}}resolve(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lNe=new Ix(2e3,1e4);class $m extends oJ{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,$m.currentPopupAction&&$m.currentPopupAction.cancel(),$m.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){bu(this.filter.length===1,"Popup operations only handle one event");const e=h6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(sc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$m.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lNe.get())};e()}}$m.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cNe="pendingRedirect",sb=new Map;class uNe extends oJ{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=sb.get(this.auth._key());if(!e){try{const n=await dNe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}sb.set(this.auth._key(),e)}return this.bypassAuthState||sb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dNe(t,e){const r=pNe(e),n=hNe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function fNe(t,e){sb.set(t._key(),e)}function hNe(t){return Zc(t._redirectPersistence)}function pNe(t){return ob(cNe,t.config.apiKey,t.name)}async function mNe(t,e,r=!1){if(hl(t.app))return Promise.reject(Uh(t));const n=d6(t),i=iNe(n,e),o=await new uNe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gNe=10*60*1e3;class vNe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yNe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!sJ(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(sc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gNe&&this.cachedEventUids.clear(),this.cachedEventUids.has(XL(e))}saveEventToCache(e){this.cachedEventUids.add(XL(e)),this.lastProcessedEventTime=Date.now()}}function XL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sJ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yNe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sJ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xNe(t,e={}){return Rg(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wNe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bNe=/^https?/;async function _Ne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xNe(t);for(const r of e)try{if(SNe(r))return}catch{}wu(t,"unauthorized-domain")}function SNe(t){const e=yT(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!bNe.test(r))return!1;if(wNe.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANe=new Ix(3e4,6e4);function QL(){const t=lc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ENe(t){return new Promise((e,r)=>{var n,i,a;function o(){QL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QL(),r(sc(t,"network-request-failed"))},timeout:ANe.get()})}if(!((i=(n=lc().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=lc().gapi)===null||a===void 0)&&a.load)o();else{const s=k4e("iframefcb");return lc()[s]=()=>{gapi.load?o():r(sc(t,"network-request-failed"))},I4e(`${O4e()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw lb=null,e})}let lb=null;function CNe(t){return lb=lb||ENe(t),lb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NNe=new Ix(5e3,15e3),TNe="__/auth/iframe",PNe="emulator/auth/iframe",INe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ONe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kNe(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?s6(e,PNe):`https://${t.config.authDomain}/${TNe}`,n={apiKey:e.apiKey,appName:t.name,v:_p},i=ONe.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Ex(n).slice(1)}`}async function jNe(t){const e=await CNe(t),r=lc().gapi;return Ut(r,t,"internal-error"),e.open({where:document.body,url:kNe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:INe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=sc(t,"network-request-failed"),s=lc().setTimeout(()=>{a(o)},NNe.get());function l(){lc().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RNe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DNe=500,MNe=600,LNe="_blank",FNe="http://localhost";class ZL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BNe(t,e,r,n=DNe,i=MNe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},RNe),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Ra().toLowerCase();r&&(s=$Z(c)?LNe:r),FZ(c)&&(e=e||FNe,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(_4e(c)&&s!=="_self")return $Ne(e||"",s),new ZL(null);const f=window.open(e||"",s,u);Ut(f,t,"popup-blocked");try{f.focus()}catch{}return new ZL(f)}function $Ne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UNe="__/auth/handler",VNe="emulator/auth/handler",zNe=encodeURIComponent("fac");async function JL(t,e,r,n,i,a){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:_p,eventId:i};if(e instanceof XZ){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DSe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof Ox){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${zNe}=${encodeURIComponent(l)}`:"";return`${HNe(t)}?${Ex(s).slice(1)}${c}`}function HNe({config:t}){return t.emulator?s6(t,VNe):`https://${t.authDomain}/${UNe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="webStorageSupport";class qNe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tJ,this._completeRedirectFn=mNe,this._overrideRedirectResult=fNe}async _openPopup(e,r,n,i){var a;bu((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await JL(e,r,n,yT(),i);return BNe(e,o,h6())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await JL(e,r,n,yT(),i);return K4e(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(bu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await jNe(e),n=new vNe(e);return r.register("authEvent",i=>(Ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(q3,{type:q3},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[q3];o!==void 0&&r(!!o),wu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=_Ne(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return qZ()||BZ()||u6()}}const WNe=qNe;var e9="@firebase/auth",t9="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GNe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KNe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YNe(t){es(new Eo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ut(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WZ(t)},c=new T4e(n,i,a,l);return R4e(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),es(new Eo("auth-internal",e=>{const r=d6(e.getProvider("auth").getImmediate());return(n=>new GNe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(e9,t9,KNe(t)),ka(e9,t9,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XNe=5*60,QNe=rQ("authIdTokenMaxAge")||XNe;let r9=null;const ZNe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>QNe)return;const i=r==null?void 0:r.token;r9!==i&&(r9=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JNe(t=Cx()){const e=Nu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=j4e(t,{popupRedirectResolver:WNe,persistence:[nNe,q4e,tJ]}),n=rQ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=ZNe(a.toString());V4e(r,o,()=>o(r.currentUser)),U4e(r,s=>o(s))}}const i=JX("auth");return i?GZ(r,`http://${i}`):Tg("Auth",!1),r}function eTe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}P4e({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=sc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",eTe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YNe("Browser");const lJ="@firebase/installations",m6="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ=1e4,uJ=`w:${m6}`,dJ="FIS_v2",tTe="https://firebaseinstallations.googleapis.com/v1",rTe=60*60*1e3,nTe="installations",iTe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aTe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rp=new Of(nTe,iTe,aTe);function fJ(t){return t instanceof Ds&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ({projectId:t}){return`${tTe}/projects/${t}/installations`}function pJ(t){return{token:t.token,requestStatus:2,expiresIn:sTe(t.expiresIn),creationTime:Date.now()}}async function mJ(t,e){const n=(await e.json()).error;return rp.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function gJ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oTe(t,{refreshToken:e}){const r=gJ(t);return r.append("Authorization",lTe(e)),r}async function vJ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function sTe(t){return Number(t.replace("s","000"))}function lTe(t){return`${dJ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cTe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=hJ(t),i=gJ(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:r,authVersion:dJ,appId:t.appId,sdkVersion:uJ},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await vJ(()=>fetch(n,s));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:pJ(c.authToken)}}else throw await mJ("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uTe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dTe=/^[cdef][\w-]{21}$/,bT="";function fTe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=hTe(t);return dTe.test(r)?r:bT}catch{return bT}}function hTe(t){return uTe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=new Map;function wJ(t,e){const r=JS(t);bJ(r,e),pTe(r,e)}function bJ(t,e){const r=xJ.get(t);if(r)for(const n of r)n(e)}function pTe(t,e){const r=mTe();r&&r.postMessage({key:t,fid:e}),gTe()}let Ph=null;function mTe(){return!Ph&&"BroadcastChannel"in self&&(Ph=new BroadcastChannel("[Firebase] FID Change"),Ph.onmessage=t=>{bJ(t.data.key,t.data.fid)}),Ph}function gTe(){xJ.size===0&&Ph&&(Ph.close(),Ph=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vTe="firebase-installations-database",yTe=1,np="firebase-installations-store";let W3=null;function g6(){return W3||(W3=MS(vTe,yTe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(np)}}})),W3}async function A_(t,e){const r=JS(t),i=(await g6()).transaction(np,"readwrite"),a=i.objectStore(np),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&wJ(t,e.fid),e}async function _J(t){const e=JS(t),n=(await g6()).transaction(np,"readwrite");await n.objectStore(np).delete(e),await n.done}async function eA(t,e){const r=JS(t),i=(await g6()).transaction(np,"readwrite"),a=i.objectStore(np),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&wJ(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t){let e;const r=await eA(t.appConfig,n=>{const i=xTe(n),a=wTe(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===bT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function xTe(t){const e=t||{fid:fTe(),registrationStatus:0};return SJ(e)}function wTe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rp.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=bTe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_Te(t)}:{installationEntry:e}}async function bTe(t,e){try{const r=await cTe(t,e);return A_(t.appConfig,r)}catch(r){throw fJ(r)&&r.customData.serverCode===409?await _J(t.appConfig):await A_(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function _Te(t){let e=await n9(t.appConfig);for(;e.registrationStatus===1;)await yJ(100),e=await n9(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await v6(t);return n||r}return e}function n9(t){return eA(t,e=>{if(!e)throw rp.create("installation-not-found");return SJ(e)})}function SJ(t){return STe(t)?{fid:t.fid,registrationStatus:0}:t}function STe(t){return t.registrationStatus===1&&t.registrationTime+cJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ATe({appConfig:t,heartbeatServiceProvider:e},r){const n=ETe(t,r),i=oTe(t,r),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:uJ,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await vJ(()=>fetch(n,s));if(l.ok){const c=await l.json();return pJ(c)}else throw await mJ("Generate Auth Token",l)}function ETe(t,{fid:e}){return`${hJ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e=!1){let r;const n=await eA(t.appConfig,a=>{if(!AJ(a))throw rp.create("not-registered");const o=a.authToken;if(!e&&TTe(o))return a;if(o.requestStatus===1)return r=CTe(t,e),a;{if(!navigator.onLine)throw rp.create("app-offline");const s=ITe(a);return r=NTe(t,s),s}});return r?await r:n.authToken}async function CTe(t,e){let r=await i9(t.appConfig);for(;r.authToken.requestStatus===1;)await yJ(100),r=await i9(t.appConfig);const n=r.authToken;return n.requestStatus===0?y6(t,e):n}function i9(t){return eA(t,e=>{if(!AJ(e))throw rp.create("not-registered");const r=e.authToken;return OTe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NTe(t,e){try{const r=await ATe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await A_(t.appConfig,n),r}catch(r){if(fJ(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await _J(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await A_(t.appConfig,n)}throw r}}function AJ(t){return t!==void 0&&t.registrationStatus===2}function TTe(t){return t.requestStatus===2&&!PTe(t)}function PTe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rTe}function ITe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OTe(t){return t.requestStatus===1&&t.requestTime+cJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kTe(t){const e=t,{installationEntry:r,registrationPromise:n}=await v6(e);return n?n.catch(console.error):y6(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jTe(t,e=!1){const r=t;return await RTe(r),(await y6(r,e)).token}async function RTe(t){const{registrationPromise:e}=await v6(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DTe(t){if(!t||!t.options)throw G3("App Configuration");if(!t.name)throw G3("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw G3(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function G3(t){return rp.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ="installations",MTe="installations-internal",LTe=t=>{const e=t.getProvider("app").getImmediate(),r=DTe(e),n=Nu(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},FTe=t=>{const e=t.getProvider("app").getImmediate(),r=Nu(e,EJ).getImmediate();return{getId:()=>kTe(r),getToken:i=>jTe(r,i)}};function BTe(){es(new Eo(EJ,LTe,"PUBLIC")),es(new Eo(MTe,FTe,"PRIVATE"))}BTe();ka(lJ,m6);ka(lJ,m6,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="analytics",$Te="firebase_id",UTe="origin",VTe=60*1e3,zTe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x6="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new DS("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HTe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xo=new Of("analytics","Analytics",HTe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qTe(t){if(!t.startsWith(x6)){const e=Xo.create("invalid-gtag-resource",{gtagURL:t});return _o.warn(e.message),""}return t}function CJ(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function WTe(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function GTe(t,e){const r=WTe("firebase-js-sdk-policy",{createScriptURL:qTe}),n=document.createElement("script"),i=`${x6}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function KTe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function YTe(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await CJ(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(s){_o.error(s)}t("config",i,a)}async function XTe(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await CJ(r);for(const l of o){const c=s.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){_o.error(a)}}function QTe(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await XTe(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await YTe(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,c]=o;t("get",s,l,c)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){_o.error(s)}}return i}function ZTe(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=QTe(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function JTe(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(x6)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ePe=30,tPe=1e3;class rPe{constructor(e={},r=tPe){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NJ=new rPe;function nPe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iPe(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:nPe(n)},a=zTe.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Xo.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function aPe(t,e=NJ,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Xo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Xo.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new lPe;return setTimeout(async()=>{s.abort()},VTe),TJ({appId:n,apiKey:i,measurementId:a},o,s,e)}async function TJ(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=NJ){var a;const{appId:o,measurementId:s}=t;try{await oPe(n,e)}catch(l){if(s)return _o.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await iPe(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!sPe(c)){if(i.deleteThrottleMetadata(o),s)return _o.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw l}const u=Number((a=c==null?void 0:c.customData)===null||a===void 0?void 0:a.httpStatus)===503?O7(r,i.intervalMillis,ePe):O7(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(o,f),_o.debug(`Calling attemptFetch again in ${u} millis`),TJ(t,f,n,i)}}function oPe(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Xo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sPe(t){if(!(t instanceof Ds)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class lPe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cPe(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uPe(){if(Ck())try{await Nk()}catch(t){return _o.warn(Xo.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _o.warn(Xo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dPe(t,e,r,n,i,a,o){var s;const l=aPe(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&_o.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>_o.error(p)),e.push(l);const c=uPe().then(p=>{if(p)return n.getId()}),[u,f]=await Promise.all([l,c]);JTe(a)||GTe(a,u.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[UTe]="firebase",h.update=!0,f!=null&&(h[$Te]=f),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fPe{constructor(e){this.app=e}_delete(){return delete Nv[this.app.options.appId],Promise.resolve()}}let Nv={},a9=[];const o9={};let K3="dataLayer",hPe="gtag",s9,PJ,l9=!1;function pPe(){const t=[];if(iQ()&&t.push("This is a browser extension environment."),aQ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Xo.create("invalid-analytics-context",{errorInfo:e});_o.warn(r.message)}}function mPe(t,e,r){pPe();const n=t.options.appId;if(!n)throw Xo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_o.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xo.create("no-api-key");if(Nv[n]!=null)throw Xo.create("already-exists",{id:n});if(!l9){KTe(K3);const{wrappedGtag:a,gtagCore:o}=ZTe(Nv,a9,o9,K3,hPe);PJ=a,s9=o,l9=!0}return Nv[n]=dPe(t,a9,o9,e,s9,K3,r),new fPe(t)}function gPe(t=Cx()){t=Ao(t);const e=Nu(t,E_);return e.isInitialized()?e.getImmediate():vPe(t)}function vPe(t,e={}){const r=Nu(t,E_);if(r.isInitialized()){const i=r.getImmediate();if(hf(e,r.getOptions()))return i;throw Xo.create("already-initialized")}return r.initialize({options:e})}function yPe(t,e,r,n){t=Ao(t),cPe(PJ,Nv[t.app.options.appId],e,r,n).catch(i=>_o.error(i))}const c9="@firebase/analytics",u9="0.10.15";function xPe(){es(new Eo(E_,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return mPe(n,i,r)},"PUBLIC")),es(new Eo("analytics-internal",t,"PRIVATE")),ka(c9,u9),ka(c9,u9,"esm2017");function t(e){try{const r=e.getProvider(E_).getImmediate();return{logEvent:(n,i,a)=>yPe(r,n,i,a)}}catch(r){throw Xo.create("interop-component-reg-failed",{reason:r})}}}xPe();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wPe="/firebase-messaging-sw.js",bPe="/firebase-cloud-messaging-push-scope",IJ="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_Pe="https://fcmregistrations.googleapis.com/v1",OJ="google.c.a.c_id",SPe="google.c.a.c_l",APe="google.c.a.ts",EPe="google.c.a.e",d9=1e4;var f9;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(f9||(f9={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var yy;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(yy||(yy={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CPe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="fcm_token_details_db",NPe=5,h9="fcm_token_object_Store";async function TPe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(Y3))return null;let e=null;return(await MS(Y3,NPe,{upgrade:async(n,i,a,o)=>{var s;if(i<2||!n.objectStoreNames.contains(h9))return;const l=o.objectStore(h9),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(s=u.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:qc(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:qc(u.auth),p256dh:qc(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:qc(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:qc(u.auth),p256dh:qc(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:qc(u.vapidKey)}}}}}})).close(),await M3(Y3),await M3("fcm_vapid_details_db"),await M3("undefined"),PPe(e)?e:null}function PPe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IPe="firebase-messaging-database",OPe=1,xy="firebase-messaging-store";let X3=null;function kJ(){return X3||(X3=MS(IPe,OPe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xy)}}})),X3}async function kPe(t){const e=jJ(t),n=await(await kJ()).transaction(xy).objectStore(xy).get(e);if(n)return n;{const i=await TPe(t.appConfig.senderId);if(i)return await w6(t,i),i}}async function w6(t,e){const r=jJ(t),i=(await kJ()).transaction(xy,"readwrite");return await i.objectStore(xy).put(e,r),await i.done,e}function jJ({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jPe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ja=new Of("messaging","Messaging",jPe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RPe(t,e){const r=await _6(t),n=RJ(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(b6(t.appConfig),i)).json()}catch(o){throw Ja.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Ja.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Ja.create("token-subscribe-no-token");return a.token}async function DPe(t,e){const r=await _6(t),n=RJ(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${b6(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ja.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Ja.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Ja.create("token-update-no-token");return a.token}async function MPe(t,e){const n={method:"DELETE",headers:await _6(t)};try{const a=await(await fetch(`${b6(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw Ja.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Ja.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function b6({projectId:t}){return`${_Pe}/projects/${t}/registrations`}async function _6({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function RJ({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==IJ&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LPe=7*24*60*60*1e3;async function FPe(t){const e=await $Pe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qc(e.getKey("auth")),p256dh:qc(e.getKey("p256dh"))},n=await kPe(t.firebaseDependencies);if(n){if(UPe(n.subscriptionOptions,r))return Date.now()>=n.createTime+LPe?BPe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await MPe(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return p9(t.firebaseDependencies,r)}else return p9(t.firebaseDependencies,r)}async function BPe(t,e){try{const r=await DPe(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await w6(t.firebaseDependencies,n),r}catch(r){throw r}}async function p9(t,e){const n={token:await RPe(t,e),createTime:Date.now(),subscriptionOptions:e};return await w6(t,n),n.token}async function $Pe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CPe(e)})}function UPe(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return VPe(e,t),zPe(e,t),HPe(e,t),e}function VPe(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function zPe(t,e){e.data&&(t.data=e.data)}function HPe(t,e){var r,n,i,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const s=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(a=e.notification)===null||a===void 0?void 0:a.click_action;s&&(t.fcmOptions.link=s);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qPe(t){return typeof t=="object"&&!!t&&OJ in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WPe(t){if(!t||!t.options)throw Q3("App Configuration Object");if(!t.name)throw Q3("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw Q3(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Q3(t){return Ja.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GPe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=WPe(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KPe(t){try{t.swRegistration=await navigator.serviceWorker.register(wPe,{scope:bPe}),t.swRegistration.update().catch(()=>{}),await YPe(t.swRegistration)}catch(e){throw Ja.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function YPe(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${d9} ms`)),d9),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XPe(t,e){if(!e&&!t.swRegistration&&await KPe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ja.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QPe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=IJ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZPe(t,e){if(!navigator)throw Ja.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ja.create("permission-blocked");return await QPe(t,e==null?void 0:e.vapidKey),await XPe(t,e==null?void 0:e.serviceWorkerRegistration),FPe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JPe(t,e,r){const n=eIe(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[OJ],message_name:r[SPe],message_time:r[APe],message_device_time:Math.floor(Date.now()/1e3)})}function eIe(t){switch(t){case yy.NOTIFICATION_CLICKED:return"notification_open";case yy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tIe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===yy.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(m9(r)):t.onMessageHandler.next(m9(r)));const n=r.data;qPe(n)&&n[EPe]==="1"&&await JPe(t,r.messageType,n)}const g9="@firebase/messaging",v9="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rIe=t=>{const e=new GPe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>tIe(e,r)),e},nIe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>ZPe(e,n)}};function iIe(){es(new Eo("messaging",rIe,"PUBLIC")),es(new Eo("messaging-internal",nIe,"PRIVATE")),ka(g9,v9),ka(g9,v9,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DJ(){try{await Nk()}catch{return!1}return typeof window<"u"&&Ck()&&aQ()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aIe(t=Cx()){return DJ().then(e=>{if(!e)throw Ja.create("unsupported-browser")},e=>{throw Ja.create("indexed-db-unsupported")}),Nu(Ao(t),"messaging").getImmediate()}iIe();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ="firebasestorage.googleapis.com",oIe="storageBucket",sIe=2*60*1e3,lIe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Ds{constructor(e,r,n=0){super(Z3(e),`Firebase Storage: ${r} (${Z3(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Z3(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gc;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gc||(gc={}));function Z3(t){return"storage/"+t}function cIe(){const t="An unknown error occurred, please check the error payload for server response.";return new bc(gc.UNKNOWN,t)}function uIe(){return new bc(gc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dIe(){return new bc(gc.CANCELED,"User canceled the upload/download.")}function fIe(t){return new bc(gc.INVALID_URL,"Invalid URL '"+t+"'.")}function hIe(t){return new bc(gc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y9(t){return new bc(gc.INVALID_ARGUMENT,t)}function LJ(){return new bc(gc.APP_DELETED,"The Firebase app was deleted.")}function pIe(t){return new bc(gc.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=gl.makeFromUrl(e,r)}catch{return new gl(e,"")}if(n.path==="")return n;throw hIe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===MJ?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${x}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const A=w[C],O=A.regex.exec(e);if(O){const N=O[A.indices.bucket];let S=O[A.indices.path];S||(S=""),n=new gl(N,S),A.postModify(n);break}}if(n==null)throw fIe(e);return n}}class mIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gIe(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){a&&clearTimeout(a)}function p(x,...v){if(c){h();return}if(x){h(),u.call(null,x,...v);return}if(l()||o){h(),u.call(null,x,...v);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(x){m||(m=!0,h(),!c&&(i!==null?(x||(s=2),clearTimeout(i),f(0)):x||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function vIe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yIe(t){return t!==void 0}function x9(t,e,r,n){if(n<e)throw y9(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw y9(`Invalid value for '${t}'. Expected ${r} or less.`)}function xIe(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var C_;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(C_||(C_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wIe(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bIe{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ow(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===C_.NO_ERROR,l=a.getStatus();if(!s||wIe(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===C_.ABORT;n(!1,new ow(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new ow(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());yIe(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=cIe();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?LJ():dIe();o(l)}else{const l=uIe();o(l)}};this.canceled_?r(!1,new ow(!1,null,!0)):this.backoffId_=gIe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vIe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ow{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function _Ie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SIe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AIe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EIe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CIe(t,e,r,n,i,a,o=!0,s=!1){const l=xIe(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return AIe(u,e),_Ie(u,r),SIe(u,a),EIe(u,n),new bIe(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NIe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TIe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,r){this._service=e,r instanceof gl?this._location=r:this._location=gl.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new N_(e,r)}get root(){const e=new gl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TIe(this._location.path)}get storage(){return this._service}get parent(){const e=NIe(this._location.path);if(e===null)return null;const r=new gl(this._location.bucket,e);return new N_(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw pIe(e)}}function w9(t,e){const r=e==null?void 0:e[oIe];return r==null?null:gl.makeFromBucketSpec(r,t)}function PIe(t,e,r,n={}){t.host=`${e}:${r}`;const i=Ng(e);i&&(Ek(`https://${t.host}`),Tg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:nQ(a,t.app.options.projectId))}class IIe{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=MJ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sIe,this._maxUploadRetryTime=lIe,this._requests=new Set,i!=null?this._bucket=gl.makeFromBucketSpec(i,this._host):this._bucket=w9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gl.makeFromBucketSpec(this._url,e):this._bucket=w9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(hl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new N_(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new mIe(LJ());{const o=CIe(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const b9="@firebase/storage",_9="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ="storage";function OIe(t=Cx(),e){t=Ao(t),Tg("Storage",!1);const n=Nu(t,FJ).getImmediate({identifier:e}),i=eQ("storage");return i&&BJ(n,...i),n}function BJ(t,e,r,n={}){PIe(t,e,r,n)}function kIe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new IIe(r,n,i,e,_p)}function jIe(){es(new Eo(FJ,kIe,"PUBLIC").setMultipleInstances(!0)),ka(b9,_9,""),ka(b9,_9,"esm2017")}jIe();var J3={};const S6=()=>{if(typeof window<"u"){const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"}return!1},lh=t=>typeof window<"u"&&window._env_&&window._env_[t]?window._env_[t]:typeof process<"u"&&J3&&J3[t]?J3[t]:{NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyAHGQvFPkUxdRMiBdT6Q8srnqHBTjCl0sI",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"taska-loop.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"taska-loop",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"taska-loop.appspot.com",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"567819033549",NEXT_PUBLIC_FIREBASE_APP_ID:"1:567819033549:web:62eba0211bb80639c8d456",NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:"G-TT3JQPNPT0",NODE_ENV:"development"}[t]||"",cb=t=>S6()?{dummy:!0}:{dummy:!0},RIe=async t=>{if(S6())return cb();try{return await DJ()?aIe(t):null}catch{return null}},$J={apiKey:lh("NEXT_PUBLIC_FIREBASE_API_KEY"),authDomain:lh("NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"),projectId:lh("NEXT_PUBLIC_FIREBASE_PROJECT_ID"),storageBucket:lh("NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"),messagingSenderId:lh("NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"),appId:lh("NEXT_PUBLIC_FIREBASE_APP_ID"),measurementId:lh("NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID")};$J.apiKey||console.error("Firebase API key is missing! Authentication will fail.");const wy=lQ($J),UJ=jCe(wy),DIe=JNe(wy),MIe=OIe(wy),VJ=S6();if(VJ)try{GZ(DIe,"http://localhost:9099",{disableWarnings:!0}),_Z(UJ,"localhost",8080),BJ(MIe,"localhost",9199)}catch{}let eC=null,S9=null;if(typeof window<"u")try{VJ?eC=cb("analytics"):eC=gPe(wy),S9=RIe(wy)}catch{eC=cb(),S9=cb()}const LIe="priceEntries",FIe=async(t,e=10)=>{try{const r=WCe(kCe(UJ,LIe),GCe("itemName","==",t),KCe("dateRecorded","desc"),YCe(e));return(await t4e(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){return console.error("Error getting price history:",r),[]}},BIe=async t=>{try{const e={};for(const r of t){const n=await FIe(r,20);if(n.length===0)continue;const i=n.reduce((h,p)=>{const m=sw(h.price,h.quantity,h.unit);return sw(p.price,p.quantity,p.unit)<m?p:h},n[0]),o=n.reduce((h,p)=>h+sw(p.price,p.quantity,p.unit),0)/n.length,s=sw(i.price,i.quantity,i.unit),l=o>0?(o-s)/o*100:0;let c="low";const u=new Date(n[0].dateRecorded),f=new Date;f.setDate(f.getDate()-7),n.length>=5&&u>f?c="high":(n.length>=3||u>f)&&(c="medium"),e[r]={itemName:r,bestPrice:i,potentialSavings:l,confidence:c,lastUpdated:n[0].dateRecorded}}return e}catch(e){return console.error("Error getting price recommendations:",e),{}}},$Ie=async t=>{try{const e=t.map(o=>o.name),r=await BIe(e),n={};Object.values(r).forEach(o=>{const s=o.bestPrice.storeName;n[s]||(n[s]={itemCount:0,totalSavings:0}),n[s].itemCount+=1,n[s].totalSavings+=o.potentialSavings});let i=null,a=0;return Object.entries(n).forEach(([o,s])=>{s.itemCount>a&&(a=s.itemCount,i={storeName:o,itemCount:s.itemCount,potentialSavings:s.totalSavings/s.itemCount})}),{recommendations:r,bestStore:i}}catch(e){return console.error("Error getting shopping list recommendations:",e),{recommendations:{},bestStore:null}}},sw=(t,e,r)=>e<=0?0:t/e,UIe=(t,e)=>`$${t.toFixed(2)}/${e}`,VIe=({items:t,currentStore:e})=>{const[r,n]=E.useState(!0),[i,a]=E.useState({}),[o,s]=E.useState(null),[l,c]=E.useState(!1),{toast:u}=_n();if(E.useEffect(()=>{(async()=>{if(t.length===0){n(!1);return}n(!0);try{const p=t.map(g=>({name:g.name,quantity:g.quantity,unit:g.unit})),m=await $Ie(p);a(m.recommendations),s(m.bestStore)}catch(p){console.error("Error fetching price recommendations:",p),u({title:"Error",description:"Failed to fetch price recommendations",variant:"destructive"})}finally{n(!1)}})()},[t,u]),r)return d.jsxs(qt,{className:"mb-4",children:[d.jsxs(Vr,{className:"pb-2",children:[d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(As,{className:"w-5 h-5 mr-2"}),"Price Recommendations"]}),d.jsx(wl,{children:"Finding the best prices..."})]}),d.jsxs(Wt,{children:[d.jsx(k3,{className:"w-full h-10 mb-3"}),d.jsx(k3,{className:"w-4/5 h-10 mb-3"}),d.jsx(k3,{className:"w-2/3 h-10"})]})]});if(Object.keys(i).length===0)return d.jsxs(qt,{className:"mb-4 border-dashed",children:[d.jsxs(Vr,{className:"pb-2",children:[d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(As,{className:"w-5 h-5 mr-2"}),"Price Recommendations"]}),d.jsx(wl,{children:"No price data available yet"})]}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex items-center justify-center py-4 text-muted-foreground",children:[d.jsx(bo,{className:"w-5 h-5 mr-2"}),d.jsx("p",{children:"Add item prices to start seeing recommendations"})]})})]});const f=Object.keys(i).length;return d.jsxs(qt,{className:"mb-4",children:[d.jsxs(Vr,{className:"pb-2",children:[d.jsxs(zr,{className:"text-lg flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(fH,{className:"w-5 h-5 mr-2 text-green-500"}),"Price Recommendations"]}),d.jsxs(Qt,{variant:"outline",className:"ml-2",children:[f," item",f!==1?"s":""]})]}),d.jsx(wl,{children:"Find the best prices for your shopping list"})]}),d.jsxs(Wt,{className:"pb-2",children:[o&&d.jsxs("div",{className:"mb-4 p-3 bg-muted rounded-lg",children:[d.jsxs("div",{className:"flex items-center mb-2",children:[d.jsx(aa,{className:"w-5 h-5 mr-2 text-primary"}),d.jsxs("h3",{className:"font-medium",children:["Best Overall Store: ",d.jsx("span",{className:"font-bold",children:o.storeName})]})]}),d.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Has best prices for ",o.itemCount," item",o.itemCount!==1?"s":""," on your list"]}),o.potentialSavings>0&&d.jsxs("div",{className:"text-sm text-green-600 font-medium flex items-center",children:[d.jsx(Ese,{className:"w-4 h-4 mr-1"}),"Potential savings: ~",o.potentialSavings.toFixed(1),"% on average"]})]}),l?d.jsx("div",{className:"space-y-3 mb-2",children:Object.values(i).sort((h,p)=>p.potentialSavings-h.potentialSavings).map(h=>d.jsxs("div",{className:"p-2 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("div",{className:"font-medium",children:h.itemName}),d.jsxs(Qt,{variant:h.confidence==="high"?"default":h.confidence==="medium"?"outline":"secondary",className:"text-xs",children:[h.confidence," confidence"]})]}),d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsxs("span",{children:["Best price at: ",d.jsx("span",{className:"font-medium",children:h.bestPrice.storeName})]}),d.jsx("span",{className:"text-green-600 font-medium",children:UIe(h.bestPrice.price/h.bestPrice.quantity,h.bestPrice.unit)})]}),h.potentialSavings>0&&d.jsxs("div",{className:"mt-1",children:[d.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[d.jsx("span",{children:"Potential savings"}),d.jsxs("span",{className:"text-green-600",children:[h.potentialSavings.toFixed(1),"%"]})]}),d.jsx(Ak,{value:Math.min(h.potentialSavings,50)*2,className:"h-1.5"})]})]},h.itemName))}):d.jsx("div",{className:"space-y-2 mb-2",children:Object.values(i).sort((h,p)=>p.potentialSavings-h.potentialSavings).slice(0,2).map(h=>d.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:h.itemName}),d.jsxs("span",{className:"text-muted-foreground ml-1",children:["best at ",h.bestPrice.storeName]})]}),d.jsx("div",{className:"text-green-600",children:h.potentialSavings>0&&`Save ~${h.potentialSavings.toFixed(0)}%`})]},h.itemName))})]}),d.jsx(ay,{className:"pt-0",children:d.jsx(De,{variant:"ghost",size:"sm",className:"w-full justify-center text-xs",onClick:()=>c(!l),children:l?"Show Less":`Show All (${Object.keys(i).length})`})})]})},zJ=({isOpen:t,onClose:e,trip:r,onAddItem:n,onRemoveItem:i,onToggleItemCheck:a,onInviteParticipant:o,onCompleteTrip:s,onReactivateTrip:l,onUpdateItemPrice:c,onSettleUp:u,onUpdateItemUnit:f})=>{const[h,p]=E.useState(""),[m,g]=E.useState(1),[x,v]=E.useState(void 0),[y,w]=E.useState("ea"),[C,A]=E.useState("other"),[O,N]=E.useState("items"),[S,P]=E.useState(!1),[R,I]=E.useState(""),[k,D]=E.useState(null),[z,J]=E.useState(!1),[U,K]=E.useState(null),[$,H]=E.useState(!1),[te,ie]=E.useState(null),[F,q]=E.useState(!1),{toast:Q}=_n();E.useEffect(()=>{t&&(p(""),g(1),v(void 0),w("ea"),A("other"),H(!1),ie(null),N("items"))},[t]),E.useEffect(()=>{if(h.trim()){const W=sy(h);w(W.id);const Pe=jbe(h);A(Pe)}},[h]);const se=W=>{if(W.preventDefault(),!r)return;if(!h.trim()){Q({title:"Item Name Required",description:"Please enter a name for the item.",variant:"destructive"});return}let Pe;$&&te&&(Pe=Bbe(new Date,te));const ce={name:h,quantity:m,price:x,unit:y,category:C,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1,isRecurring:$,recurrenceFrequency:$?te:null,nextDueDate:Pe,baseItemId:$?Date.now().toString()+"-base":void 0,lastAddedToTripDate:$?new Date().toISOString():void 0},me=r7(h,r.items);if(me){D(me),J(!0),K(ce);return}G(ce)},G=W=>{r&&(n(r.id,W),W.price&&gM(W.name,W.price,r.store,W.quantity),p(""),g(1),v(void 0),w("ea"),A("other"),H(!1),ie(null),navigator.vibrate&&navigator.vibrate(50),Q({title:"Item Added",description:`${W.name} has been added to your trip.`}))},le=()=>{U&&(G(U),K(null))},de=(W,Pe)=>{r&&(r.items.map(ce=>ce.id===W.id?{...ce,quantity:ce.quantity+Pe}:ce),p(""),g(1),v(void 0),K(null))},ae=W=>{p(W.name),g(W.quantity),v(W.price),K(null)},ye=(W,Pe)=>{if(!r||!c)return;c(r.id,W,Pe);const ce=r.items.find(me=>me.id===W);ce&&gM(ce.name,Pe,r.store,ce.quantity)},ge=(W,Pe,ce)=>{!r||!f||!r.items.find(we=>we.id===W)||f(r.id,W,Pe,ce)},ve=W=>{if(!r)return;const Pe=Sbe(W);if(Pe)if(p(Pe.name),v(Pe.defaultPrice),Pe.unit)w(Pe.unit);else{const ce=sy(Pe.name);w(ce.id)}else p(`Item (${W})`),I(W),P(!0)},Re=W=>{p(W.name),W.defaultPrice&&v(W.defaultPrice)},Me=W=>{r&&W.forEach(Pe=>{const ce={name:Pe.name,quantity:Pe.quantity,price:Pe.price,unit:"ea",category:"other",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1},me=r7(Pe.name,r.items);me?(D(me),J(!0),K(ce)):G(ce)})},Se=W=>{if(!r)return;console.log("Received items from parser:",W);let Pe=0,ce=0;if(W.length===0){Q({title:"No items to add",description:"No items were received from the parser.",variant:"destructive"});return}const me=[];W.forEach(we=>{r.items.some(ze=>ze.name.toLowerCase()===we.name.toLowerCase())?ce++:(me.push(we),Pe++)}),me.length>0&&(console.log("Adding non-duplicate items to trip:",me),me.forEach(we=>{n(r.id,we)})),Q({title:`${Pe} items added`,description:ce>0?`Added ${Pe} items. ${ce} items were skipped because they already exist in the trip.`:`Added ${Pe} items to your trip.`})};return r?(r.shopper&&r.shopper.name,r.items.filter(W=>!W.checked),r.items.filter(W=>W.checked),r.items.reduce((W,Pe)=>W+(Pe.price||0),0),d.jsxs(Hi,{open:t,onOpenChange:W=>!W&&e(),children:[d.jsxs(Ci,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2",children:[d.jsx(Xr,{className:"h-5 w-5"}),d.jsx("span",{children:(r==null?void 0:r.store)||"Trip"}),d.jsx(Qt,{variant:(r==null?void 0:r.status)==="completed"?"success":(r==null?void 0:r.status)==="shopping"?"default":"outline",children:(r==null?void 0:r.status)==="completed"?"Completed":(r==null?void 0:r.status)==="shopping"?"Shopping":"Planning"})]}),d.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground py-1",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(ta,{className:"h-4 w-4 mr-1"}),new Date((r==null?void 0:r.date)||"").toLocaleDateString()," | ",r==null?void 0:r.eta]}),(r==null?void 0:r.status)!=="completed"&&d.jsxs("div",{className:"flex ml-auto gap-2",children:[d.jsxs(De,{size:"sm",variant:"outline",onClick:()=>o((r==null?void 0:r.id)||""),children:[d.jsx(mv,{className:"h-4 w-4 mr-2"})," Invite"]}),d.jsxs(De,{size:"sm",onClick:()=>s((r==null?void 0:r.id)||""),disabled:!(r!=null&&r.items.some(W=>W.checked)),children:[d.jsx($r,{className:"h-4 w-4 mr-2"})," Complete"]})]}),(r==null?void 0:r.status)==="completed"&&l&&d.jsxs("div",{className:"flex ml-auto gap-2",children:[d.jsxs(De,{size:"sm",variant:"outline",onClick:()=>l((r==null?void 0:r.id)||""),children:[d.jsx(Xr,{className:"h-4 w-4 mr-2"})," Reactivate"]}),d.jsx(UX,{tripData:r})]})]})]}),d.jsxs(yp,{defaultValue:"items",value:O,onValueChange:N,className:"mt-2",children:[d.jsxs(If,{className:"grid grid-cols-3",children:[d.jsxs(Cn,{value:"items",children:["Items (",(r==null?void 0:r.items.length)||0,")"]}),d.jsxs(Cn,{value:"people",children:["People (",(r==null?void 0:r.participants.length)||0,")"]}),d.jsx(Cn,{value:"costs",children:"Costs"})]}),d.jsxs(Nn,{value:"items",className:"space-y-4",children:[(r==null?void 0:r.status)==="open"&&d.jsx(VIe,{items:(r==null?void 0:r.items)||[],currentStore:r==null?void 0:r.store}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Add Item"}),d.jsxs("form",{onSubmit:se,className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(gt,{htmlFor:"item-name",children:"Item"}),d.jsx(ur,{id:"item-name",placeholder:"e.g., Milk, Apples, Bread",value:h,onChange:W=>p(W.target.value)})]}),d.jsx("div",{className:"pt-6",children:d.jsx(De,{type:"button",variant:"ghost",size:"icon",onClick:()=>q(!0),title:"Open smart list parser",children:d.jsx(cx,{className:"h-5 w-5 text-amber-500"})})}),d.jsx("div",{className:"pt-6",children:d.jsx(_be,{onScan:ve})}),d.jsx("div",{className:"pt-6",children:d.jsx(kbe,{onScan:Me})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"item-quantity",children:"Quantity"}),d.jsx(ur,{id:"item-quantity",type:"number",min:"0.01",step:"0.01",placeholder:"1",value:m,onChange:W=>g(Number(W.target.value))})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"item-unit",children:"Unit"}),d.jsx(RN,{value:y,onChange:w})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"item-price",children:"Price (optional)"}),d.jsx(yM,{id:"item-price",value:x,onChange:v})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"item-category",children:"Category"}),d.jsxs(yi,{value:C,onValueChange:A,children:[d.jsx(oi,{id:"item-category",children:d.jsx(xi,{placeholder:"Select a category"})}),d.jsx(si,{children:Object.entries(_3).map(([W,Pe])=>d.jsx(Ct,{value:W,children:Pe.name},W))})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Fm,{id:"recurring-item",checked:$,onCheckedChange:H}),d.jsx(gt,{htmlFor:"recurring-item",children:"Make this a recurring item"}),$&&d.jsxs(yi,{value:te||"",onValueChange:W=>ie(W),children:[d.jsx(oi,{className:"w-[130px] ml-2",children:d.jsx(xi,{placeholder:"Frequency"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"daily",children:"Daily"}),d.jsx(Ct,{value:"weekly",children:"Weekly"}),d.jsx(Ct,{value:"bi-weekly",children:"Bi-weekly"}),d.jsx(Ct,{value:"monthly",children:"Monthly"})]})]})]}),d.jsxs(De,{type:"submit",children:[d.jsx(Wd,{className:"h-4 w-4 mr-2"})," Add to Trip"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Items"}),(r==null?void 0:r.items.length)===0?d.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[d.jsx(bo,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No items added yet. Add some items above."})]}):d.jsx("ul",{className:"space-y-2",children:d.jsx(Ka,{initial:!1,children:r==null?void 0:r.items.map(W=>d.jsxs(ot.li,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:dt("flex items-center justify-between p-3 border rounded-lg",W.checked&&"bg-muted border-muted"),children:[d.jsxs("div",{className:"flex items-center flex-1",children:[d.jsx("button",{className:dt("w-6 h-6 border rounded-md mr-3 flex items-center justify-center",W.checked?"bg-primary border-primary text-primary-foreground":"border-input"),onClick:()=>a(r.id,W.id),children:W.checked&&d.jsx(dc,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:dt("font-medium",W.checked&&"line-through text-muted-foreground"),children:W.name}),W.category&&_3[W.category]&&d.jsx(Qt,{variant:"outline",className:"ml-2 text-xs",children:_3[W.category].name}),W.isRecurring&&d.jsx(Qt,{variant:"secondary",className:"ml-2 text-xs",children:W.recurrenceFrequency})]}),d.jsxs("div",{className:"text-sm text-muted-foreground flex gap-4",children:[d.jsx("span",{children:jN(W.quantity,W.unit||"ea")}),W.price&&d.jsxs("span",{className:"text-primary",children:["$",W.price.toFixed(2)]}),d.jsxs("span",{children:["Added by ",W.addedBy.name]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[!W.price&&r.status!=="completed"&&d.jsx(yM,{value:W.price,onChange:Pe=>ye(W.id,Pe),className:"w-24 mr-2",placeholder:"Add price"}),r.status!=="completed"&&d.jsx(RN,{value:W.unit||"ea",onChange:Pe=>ge(W.id,Pe),className:"w-20 mr-2"}),r.status!=="completed"&&d.jsx(De,{size:"icon",variant:"ghost",onClick:()=>i(r.id,W.id),children:d.jsx(yg,{className:"h-4 w-4 text-destructive"})})]})]},W.id))})})]})]}),d.jsx(Nn,{value:"people",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Participants"}),(r==null?void 0:r.participants.length)===0?d.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[d.jsx(bo,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No participants added yet."})]}):d.jsx("ul",{className:"grid grid-cols-2 gap-3",children:r==null?void 0:r.participants.map(W=>d.jsxs("li",{className:"flex items-center p-3 border rounded-lg",children:[d.jsxs(Aa,{className:"h-10 w-10 mr-3",children:[d.jsx(GO,{src:W.avatar,alt:W.name}),d.jsx(Ea,{children:W.name[0]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:W.name}),d.jsx("div",{className:"text-sm text-muted-foreground",children:W.id==="123"?"Owner":"Participant"})]})]},W.id))}),d.jsx("div",{className:"pt-4",children:d.jsxs(De,{onClick:()=>o((r==null?void 0:r.id)||""),children:[d.jsx(mv,{className:"h-4 w-4 mr-2"})," Invite Participant"]})})]})}),d.jsx(Nn,{value:"costs",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Cost Summary"}),(r==null?void 0:r.status)==="completed"&&d.jsxs(Qt,{variant:"success",className:"px-2 py-1",children:[d.jsx($r,{className:"h-3 w-3 mr-1"})," Trip Completed"]})]}),(r==null?void 0:r.items.length)===0?d.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[d.jsx(bo,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No items added yet."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Items"}),d.jsx("ul",{className:"space-y-2",children:r==null?void 0:r.items.map(W=>d.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"font-medium",children:W.name}),d.jsx("div",{className:"text-sm text-muted-foreground ml-2",children:jN(W.quantity,W.unit||"ea")})]}),d.jsxs("div",{className:"flex items-center",children:[W.price?d.jsxs("span",{className:"font-medium",children:["$",W.price.toFixed(2)]}):d.jsx("span",{className:"text-muted-foreground",children:"No price"}),W.price&&d.jsx(De,{size:"icon",variant:"ghost",className:"ml-2",children:d.jsx(dH,{className:"h-4 w-4"})})]})]},W.id))})]}),d.jsx("div",{className:"pt-4",children:d.jsx(xye,{items:(r==null?void 0:r.items)||[],participants:(r==null?void 0:r.participants)||[],onSettleUp:u})})]})]})})]})]}),d.jsx(Nbe,{isOpen:S,onClose:()=>P(!1),barcode:R,onSave:Re}),d.jsx(Obe,{isOpen:z,onClose:()=>J(!1),suggestion:k,onAddAnyway:le,onMergeItems:de,onUpdate:ae}),d.jsx(HX,{isOpen:F,onClose:()=>q(!1),onAddItems:Se})]})):null},zIe=()=>{const{tasks:t,addTask:e,updateTask:r,deleteTask:n,trips:i,addTrip:a,updateTrip:o}=mp(),{user:s,logout:l,isLoading:c}=oS(),u=xc(),[f,h]=E.useState(!1),[p,m]=E.useState(!1),[g,x]=E.useState(!1),[v,y]=E.useState(null),[w,C]=E.useState("all"),{toast:A}=_n(),[O,N]=E.useState(null),[S,P]=E.useState(!1);E.useEffect(()=>{if(S&&O){const G=i.find(le=>le.id===O.id);G&&(G!==O||JSON.stringify(G.items)!==JSON.stringify(O.items))&&N(G)}},[i,S,O]),E.useEffect(()=>{!c&&!s&&u("/login")},[s,c,u]);const R=G=>{const le={store:G.store,location:G.store,coordinates:{lat:0,lng:0},eta:G.eta,status:"open",items:[],participants:[{id:(s==null?void 0:s.id)||"user-1",name:(s==null?void 0:s.name)||"You",avatar:(s==null?void 0:s.avatar)||""}],shopper:{name:(s==null?void 0:s.name)||"You",avatar:(s==null?void 0:s.avatar)||""},date:new Date().toISOString()};a(le),h(!1),A({title:"Trip Broadcasted!",description:`Your trip to ${G.store} is live.`})},I=G=>{const le={title:G.title||"Untitled Task",assignees:G.assignees||[{id:(s==null?void 0:s.id)||"user-1",name:(s==null?void 0:s.name)||"You",avatar:(s==null?void 0:s.avatar)||""}],dueDate:G.dueDate||new Date().toISOString().split("T")[0],isRotating:G.isRotating||!1,priority:G.priority||"medium",location:G.location||"N/A",coordinates:G.coordinates||{lat:0,lng:0},completed:G.completed||!1,rotationFrequency:G.rotationFrequency,difficulty:G.difficulty};e(le),m(!1),A({title:"Task Created!",description:`${G.title||"Task"} has been added.`})},k=G=>{const le=t.find(de=>de.id===G);le?(y(le),x(!0),m(!0)):A({title:"Error",description:"Task not found.",variant:"destructive"})},D=G=>{var de;if(!v||!v.id)return;const le={...G,assignees:((de=G.assignees)==null?void 0:de.map(ae=>({...ae,avatar:ae.avatar||""})))||v.assignees};r(v.id,le),x(!1),y(null),m(!1),A({title:"Task Updated!",description:`${G.title||"Task"} has been updated.`})},z=G=>{const le=t.find(de=>de.id===G);le&&(r(G,{...le,completed:!le.completed}),A({title:le.completed?"Task Reactivated":"Task Completed!",description:`${le.title} status updated.`}))},J=G=>{const le=t.find(de=>de.id===G);le&&window.confirm(`Are you sure you want to delete "${le.title}"?`)&&(n(G),A({title:"Task Deleted",description:`${le.title} has been removed.`,variant:"destructive"}))};t.filter(G=>w==="all"?!0:w==="pending"?!G.completed:w==="completed"?G.completed:!0);const U=G=>{if(!G)return"No due date";try{const le=Rn(G);return im(le)?"Today":l3(le)?"Tomorrow":V2(le)?`${T0(le)} ago`:T0(le,{addSuffix:!0})}catch(le){return console.error("Error parsing date:",G,le),"Invalid date"}},K=G=>{switch(G){case"high":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-700";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-700";case"low":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-700";default:return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-900/30 dark:text-gray-400 dark:border-gray-700"}},$=(G,le)=>{const de=G.dueDate&&V2(Rn(G.dueDate))&&!im(Rn(G.dueDate)),ae=G.assignees||[];return d.jsxs(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:le*.05},className:"premium-card flex flex-col",children:[d.jsxs(Wt,{className:"p-4 space-y-3 flex-grow text-center",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h3",{className:"font-semibold text-[clamp(0.9rem,2vw,1.05rem)] mr-2 flex-1 break-words",children:G.title}),d.jsx(Qt,{variant:"outline",className:`capitalize ${K(G.priority)} whitespace-nowrap`,children:G.priority})]}),d.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400 space-x-2",children:[d.jsx(ta,{className:"h-3 w-3"}),d.jsx("span",{className:de&&!G.completed?"text-red-500 dark:text-red-400 font-medium":"",children:U(G.dueDate)})]}),ae.length>0&&d.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400 space-x-2",children:[d.jsx(Qm,{className:"h-3 w-3"}),d.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:ae.slice(0,3).map(ye=>ye&&ye.name&&d.jsx(Aa,{className:"inline-block h-5 w-5 rounded-full ring-2 ring-background dark:ring-slate-900",children:d.jsx(Ea,{className:"text-[10px] bg-primary/20 dark:bg-primary/30",children:ye.name.charAt(0).toUpperCase()})},ye.id))}),ae.length>3&&d.jsxs("span",{className:"text-[10px] pl-1",children:["+",ae.length-3," more"]})]}),G.location&&G.location!=="N/A"&&d.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400 space-x-2",children:[d.jsx(_0,{className:"h-3 w-3"}),d.jsx("span",{children:G.location})]}),G.isRotating&&d.jsxs("div",{className:"flex items-center text-xs text-slate-600 dark:text-slate-400 space-x-2",children:[d.jsx(Use,{className:"h-3 w-3"}),d.jsx("span",{children:"Rotating Task"})]})]}),d.jsxs("div",{className:"p-3 border-t border-border/70 dark:border-border/50 flex gap-2",children:[d.jsxs(De,{variant:"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>G.id&&z(G.id),disabled:!G.id,children:[d.jsx(dc,{className:`h-3.5 w-3.5 mr-1.5 ${G.completed?"text-green-500":""}`}),G.completed?"Mark Incomplete":"Mark Complete"]}),d.jsxs(De,{variant:"ghost",size:"sm",className:"flex-1 text-xs",onClick:()=>G.id&&k(G.id),disabled:!G.id,children:[d.jsx(Qv,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),d.jsx(De,{variant:"ghost",size:"sm",className:"text-xs text-red-500 hover:text-red-600 hover:bg-red-500/10 dark:hover:bg-red-500/20",onClick:()=>G.id&&J(G.id),disabled:!G.id,children:d.jsx(yg,{className:"h-3.5 w-3.5"})})]})]},G.id||`task-${le}`)},H=G=>{const le=i.find(de=>de.id===G);le?(N(le),P(!0)):A({title:"Error",description:"Trip not found.",variant:"destructive"})},te=()=>{P(!1),N(null)},ie=(G,le)=>{const de=i.find(ae=>ae.id===G);if(de){const ae={...le,id:Date.now().toString()},ye=[...de.items,ae],ge={...de,items:ye};o(G,{items:ye}),N(ge)}else A({title:"Error",description:"Trip not found while adding item.",variant:"destructive"})},F=(G,le)=>{const de=i.find(ae=>ae.id===G);if(de){const ae=de.items.filter(ge=>ge.id!==le),ye={...de,items:ae};o(G,{items:ae}),N(ye)}else A({title:"Error",description:"Trip not found while removing item.",variant:"destructive"})},q=(G,le)=>{const de=i.find(ae=>ae.id===G);if(de){const ae=de.items.map(ge=>ge.id===le?{...ge,checked:!ge.checked}:ge),ye={...de,items:ae};o(G,{items:ae}),N(ye)}else A({title:"Error",description:"Trip not found while toggling item.",variant:"destructive"})},Q=(G,le,de)=>{const ae=i.find(ye=>ye.id===G);if(ae){const ye=ae.items.map(ve=>ve.id===le?{...ve,price:de}:ve),ge={...ae,items:ye};o(G,{items:ye}),N(ge)}else A({title:"Error",description:"Trip not found while updating price.",variant:"destructive"})},se=(G,le,de,ae)=>{const ye=i.find(ge=>ge.id===G);if(ye){const ge=ye.items.map(Re=>Re.id===le?{...Re,unit:de,quantity:ae!==void 0?ae:Re.quantity}:Re),ve={...ye,items:ge};o(G,{items:ge}),N(ve)}else A({title:"Error",description:"Trip not found while updating unit.",variant:"destructive"})};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[!c&&s&&d.jsxs("main",{className:"flex-grow px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 space-y-6 md:space-y-8 pb-20 md:pb-24",children:[d.jsx("section",{}),i.filter(G=>G.status!=="completed"&&G.status!=="cancelled").length>0&&d.jsxs("section",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[d.jsxs("h2",{className:"text-[clamp(1.5rem,3vw,1.875rem)] font-semibold flex items-center",children:[d.jsx(aa,{className:"h-6 w-6 mr-2 text-blue-500"}),"Active Trips"]}),d.jsx(sq,{to:"/trips",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center",children:d.jsx(De,{variant:"ghost",size:"sm",className:"ml-auto text-sm",children:"View All"})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.filter(G=>G.status!=="completed"&&G.status!=="cancelled").slice(0,3).map((G,le)=>{const de={...G,itemCount:G.items.filter(ae=>!ae.checked).length,shopper:G.shopper||{name:"Unknown Shopper",avatar:""}};return d.jsx(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:le*.05},children:d.jsx(jW,{trip:de,onTripClick:()=>H(G.id),onAddItem:()=>H(G.id),onCompleteTrip:()=>o(G.id,{status:"completed"}),onDeleteTrip:()=>{window.confirm(`Are you sure you want to delete the trip to ${G.store}?`)&&(console.log("Placeholder: Delete trip",G.id),A({title:"Trip Deleted (Placeholder)",description:`Trip to ${G.store} removed.`}))},onShareTrip:()=>console.log("Share trip:",G.id),onEditTrip:()=>console.log("Edit trip:",G.id)})},G.id)})})]}),d.jsxs("section",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[d.jsxs("h2",{className:"text-[clamp(1.6rem,3.2vw,2rem)] font-bold flex items-center",children:[d.jsx(pu,{className:"h-7 w-7 mr-2.5 text-green-500"}),"My Tasks"]}),d.jsxs(De,{size:"default",onClick:()=>{y(null),x(!1),m(!0)},className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(Wd,{className:"h-4 w-4 mr-1.5"}),"New Task"]})]}),d.jsxs(yp,{defaultValue:"all",className:"w-full",value:w,onValueChange:C,children:[d.jsxs(If,{className:"w-full flex overflow-x-auto no-scrollbar mb-4 premium-card",children:[d.jsx(Cn,{value:"all",className:"flex-shrink-0",children:"All"}),d.jsx(Cn,{value:"today",className:"flex-shrink-0",children:"Today"}),d.jsx(Cn,{value:"upcoming",className:"flex-shrink-0",children:"Upcoming"}),d.jsx(Cn,{value:"mine",className:"flex-shrink-0",children:"Mine"}),d.jsx(Cn,{value:"completed",className:"flex-shrink-0",children:"Completed"})]}),d.jsx(Nn,{value:"all",children:d.jsx(Ka,{children:t.filter(G=>!G.completed).length>0?d.jsx(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5",children:t.filter(G=>!G.completed).sort((G,le)=>{try{return Rn(G.dueDate).getTime()-Rn(le.dueDate).getTime()}catch{return 0}}).map($)}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 bg-background/50 dark:bg-background/30 rounded-lg border border-dashed border-border",children:[d.jsx($r,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"All tasks cleared!"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Add a new task or enjoy your free time."})]})})}),d.jsx(Nn,{value:"today",children:d.jsx(Ka,{children:t.filter(G=>!G.completed&&G.dueDate&&im(Rn(G.dueDate))).length>0?d.jsx(ot.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:t.filter(G=>!G.completed&&G.dueDate&&im(Rn(G.dueDate))).sort((G,le)=>{try{return Rn(G.dueDate).getTime()-Rn(le.dueDate).getTime()}catch{return 0}}).map($)}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 bg-background/50 dark:bg-background/30 rounded-lg border border-dashed border-border",children:[d.jsx($r,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No tasks for today!"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Relax or plan for tomorrow."})]})})}),d.jsx(Nn,{value:"upcoming",children:d.jsx(Ka,{children:t.filter(G=>!G.completed&&G.dueDate&&(l3(Rn(G.dueDate))||!im(Rn(G.dueDate))&&!V2(Rn(G.dueDate)))).length>0?d.jsx(ot.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:t.filter(G=>!G.completed&&G.dueDate&&(l3(Rn(G.dueDate))||!im(Rn(G.dueDate))&&!V2(Rn(G.dueDate)))).sort((G,le)=>{try{return Rn(G.dueDate).getTime()-Rn(le.dueDate).getTime()}catch{return 0}}).map($)}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 bg-background/50 dark:bg-background/30 rounded-lg border border-dashed border-border",children:[d.jsx(ks,{className:"h-12 w-12 text-blue-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No upcoming tasks."}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Plan ahead or enjoy the quiet."})]})})}),d.jsx(Nn,{value:"mine",children:d.jsx(Ka,{children:t.filter(G=>!G.completed&&G.assignees&&G.assignees.some(le=>le&&le.name==="You")).length>0?d.jsx(ot.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:t.filter(G=>!G.completed&&G.assignees&&G.assignees.some(le=>le&&le.name==="You")).sort((G,le)=>{try{return Rn(G.dueDate).getTime()-Rn(le.dueDate).getTime()}catch{return 0}}).map($)}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 bg-background/50 dark:bg-background/30 rounded-lg border border-dashed border-border",children:[d.jsx(pu,{className:"h-12 w-12 text-indigo-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"Nothing assigned to you."}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Check other tabs or wait for new assignments."})]})})}),d.jsx(Nn,{value:"completed",children:d.jsx(Ka,{children:t.filter(G=>G.completed).length>0?d.jsx(ot.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:t.filter(G=>G.completed).sort((G,le)=>{try{return Rn(le.dueDate).getTime()-Rn(G.dueDate).getTime()}catch{return 0}}).map($)}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 bg-background/50 dark:bg-background/30 rounded-lg border border-dashed border-border",children:[d.jsx(hp,{className:"h-12 w-12 text-gray-500 mx-auto mb-3"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No completed tasks yet."}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Get to work and see your accomplishments here!"})]})})})]})]})]}),!c&&s&&d.jsx(Pf,{}),d.jsx(UO,{isOpen:f,onClose:()=>h(!1),onSubmit:R}),d.jsx(jve,{isOpen:p||g,onClose:()=>{m(!1),x(!1),y(null)},onSubmit:v?D:I,taskToEdit:v,isEditing:g}),S&&O&&d.jsx(zJ,{isOpen:S,onClose:te,trip:O,onAddItem:ie,onRemoveItem:F,onToggleItemCheck:q,onUpdateItemPrice:Q,onUpdateItemUnit:se,onInviteParticipant:G=>console.log("Invite participant to trip",G),onCompleteTrip:G=>o(G,{status:"completed"}),onReactivateTrip:G=>o(G,{status:"open"}),onSettleUp:(G,le,de)=>console.log("Settle up:",{amount:G,toUserId:le,fromUserId:de})},`trip-modal-${O.id}-${JSON.stringify(O.items)}`)]})},HJ=({onClick:t,className:e,tripMode:r,icon:n,label:i,expanded:a=!1,variant:o="primary",showShadow:s=!0,size:l="md",position:c="bottom-right",actions:u=[],enableLongPress:f=!0})=>{const h=Rs();_n();const[p,m]=E.useState(!1),[g,x]=E.useState(!1),v=E.useRef(null),y=500,w=h.pathname==="/trips"||r,C=()=>{console.log(`FAB clicked on route: ${h.pathname}`),po.medium(),t()},A=()=>{!f||u.length===0||(po.longPress(),x(!g))},O=D=>{po.light(),x(!1),D.onClick()},N=()=>{m(!0),f&&u.length>0&&(v.current=setTimeout(()=>{A()},y))},S=()=>{m(!1),v.current&&(clearTimeout(v.current),v.current=null)};E.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const P={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"},R={"bottom-right":"bottom-32 right-6","bottom-center":"bottom-32 left-1/2 -translate-x-1/2","bottom-left":"bottom-32 left-6"},I={primary:"bg-gradient-to-r from-blue-500 to-blue-600",secondary:"bg-gradient-to-r from-gray-600 to-gray-700",success:"bg-gradient-to-r from-green-500 to-green-600",danger:"bg-gradient-to-r from-red-500 to-red-600"},k=w?"bg-gradient-to-r from-green-500 to-blue-500":"bg-gradient-to-r from-blue-500 to-green-500";return d.jsxs(ot.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.3},className:dt("fixed z-50",R[c],e),children:[d.jsxs(Ka,{children:[g&&d.jsxs(ot.div,{className:"absolute right-0 bottom-full mb-4 flex flex-col gap-3 items-center",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{duration:.2},children:[u.map((D,z)=>d.jsxs(ot.button,{className:"w-12 h-12 rounded-full bg-white dark:bg-gray-800 shadow-md flex items-center justify-center relative group",whileHover:{scale:1.05,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},onClick:J=>{J.stopPropagation(),O(D)},children:[D.icon,d.jsx("span",{className:"absolute right-full -translate-y-1/2 top-1/2 mr-2 bg-white dark:bg-gray-800 px-2 py-1 rounded-md shadow-md whitespace-nowrap text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:D.label})]},z)),d.jsx(ot.button,{className:"w-12 h-12 rounded-full bg-white dark:bg-gray-800 shadow-md flex items-center justify-center",whileHover:{scale:1.05,backgroundColor:"#f0f9ff"},whileTap:{scale:.95},onClick:D=>{D.stopPropagation(),po.light(),x(!1)},children:d.jsx(Xa,{className:"h-5 w-5 text-gray-500"})})]}),a&&i&&d.jsx(ot.div,{className:"absolute right-full -translate-y-1/2 top-1/2 mr-3 bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-md whitespace-nowrap text-sm",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:i})]}),d.jsx(ot.button,{className:dt(P[l],"rounded-full text-white shadow-lg flex items-center justify-center",o==="primary"?k:I[o],s&&"shadow-[0_4px_14px_rgba(59,130,246,0.4)]",f&&u.length>0&&"touch-action-none",e),whileHover:{scale:1.05},whileTap:{scale:.95},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.075,type:"spring",stiffness:500,damping:25},onClick:D=>{D.stopPropagation(),D.preventDefault(),g||C()},onMouseDown:N,onMouseUp:S,onTouchStart:N,onTouchEnd:S,"aria-label":i||"Action button","aria-haspopup":u.length>0,"aria-expanded":g,children:n||d.jsx(Wd,{className:"h-6 w-6"})}),s&&d.jsx("div",{className:"absolute -inset-1 bg-blue-500/20 rounded-full blur-md -z-10 animate-pulse-subtle"})]})},lw=({onCreateTrip:t,store:e,onClick:r,className:n,variant:i="default"})=>{const[a,o]=E.useState(!1),[s,l]=E.useState(""),[c,u]=E.useState("15"),{toast:f}=_n(),h=xc(),p=Rs(),{addTrip:m}=mp();if(E.useEffect(()=>{a||(l(""),u("15"))},[a]),e&&r)return d.jsxs(De,{variant:"outline",className:dt("shrink-0 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700",n),onClick:x=>{x.stopPropagation(),r()},children:[d.jsx(aa,{className:"h-4 w-4 mr-2 text-blue-600 dark:text-blue-400"}),e]});const g=x=>{if(x.preventDefault(),!s.trim()){f({title:"Store name required",description:"Please enter a store name",variant:"destructive"});return}t?t({store:s,eta:c}):(m({store:s,eta:c,status:"open",items:[],participants:[{id:"1",name:"You",avatar:""}],coordinates:{lat:39.9622,lng:-83.0007}}),f({title:"Trip Created",description:`Your trip to ${s} has been created.`}),p.pathname!=="/trips"&&h("/trips")),o(!1),l(""),u("15"),navigator.vibrate&&navigator.vibrate(50)};return d.jsx("div",{className:dt("fixed bottom-24 right-4 z-40",n),children:d.jsxs(I0,{open:a,onOpenChange:o,children:[d.jsx(O0,{asChild:!0,children:d.jsx(ot.button,{className:dt("w-16 h-16 rounded-full text-white shadow-lg flex items-center justify-center",i==="premium"?"bg-premium-gradient shadow-[0_4px_14px_rgba(59,130,246,0.4)]":"bg-gradient-to-r from-blue-500 to-green-500"),whileHover:{scale:1.05},whileTap:{scale:.95},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},children:d.jsx(aa,{className:"h-6 w-6"})})}),d.jsx(Zh,{className:"w-80 p-4 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",sideOffset:5,align:"end",children:d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[d.jsx(Xr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Quick Trip"]}),d.jsx(De,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>o(!1),children:d.jsx(Xa,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"store",className:"flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 mr-1.5 text-blue-500"}),"Where are you going?"]}),d.jsx(ur,{id:"store",placeholder:"Store name",value:s,onChange:x=>l(x.target.value),autoFocus:!0,className:"border-blue-100 focus:ring-blue-500 dark:border-blue-900 dark:focus:ring-blue-700"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"eta",className:"flex items-center",children:[d.jsx(ta,{className:"h-4 w-4 mr-1.5 text-blue-500"}),"How long will you be there? (minutes)"]}),d.jsx(ur,{id:"eta",type:"number",min:"5",max:"180",value:c,onChange:x=>u(x.target.value),className:"border-blue-100 focus:ring-blue-500 dark:border-blue-900 dark:focus:ring-blue-700"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"date",className:"flex items-center",children:[d.jsx(ks,{className:"h-4 w-4 mr-1.5 text-blue-500"}),"When are you going?"]}),d.jsx(ur,{id:"date",type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"border-blue-100 focus:ring-blue-500 dark:border-blue-900 dark:focus:ring-blue-700"})]}),d.jsxs("div",{className:"pt-2",children:[d.jsxs(De,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Start Trip"]}),d.jsx("p",{className:"text-xs text-center mt-2 text-gray-500 dark:text-gray-400",children:"Your circle will be notified you're shopping"})]})]})})]})})},tC=["Trader Joe's","Kroger","Walmart","Target","Costco","Whole Foods","Aldi"],HIe=({isOpen:t,onClose:e,onUpdateTrip:r,trip:n})=>{const{toast:i}=_n(),[a,o]=E.useState(""),[s,l]=E.useState(""),[c,u]=E.useState({}),[f,h]=E.useState(!1),[p,m]=E.useState(!1),[g,x]=E.useState(tC);E.useEffect(()=>{if(n&&t){o(n.store);const C=n.eta.replace(/\D/g,"");l(C||"20"),u({}),m(!1)}},[n,t]),E.useEffect(()=>{const C={};a.trim()||(C.store="Store name is required");const A=parseInt(s);isNaN(A)||A<5?C.eta="ETA must be at least 5 minutes":A>120&&(C.eta="ETA cannot exceed 120 minutes"),u(C),h(Object.keys(C).length===0)},[a,s]),E.useEffect(()=>{if(a.trim()){const C=tC.filter(A=>A.toLowerCase().includes(a.toLowerCase()));x(C)}else x(tC)},[a]);const v=C=>{if(C.preventDefault(),!f||!n){i({title:"Cannot update trip",description:"Please fix the errors in the form",variant:"destructive"});return}r(n.id,{store:a,eta:s})},y=C=>{o(C.target.value),m(!0)},w=C=>{o(C),m(!1)};return n?d.jsx(Hi,{open:t,onOpenChange:e,children:d.jsxs(Ci,{className:"sm:max-w-md bg-white dark:bg-gray-800/95 border-gray-200 dark:border-gray-700",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:[d.jsx(Qv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Edit Trip"]}),d.jsx(Jo,{children:"Update your trip details."})]}),d.jsxs("form",{onSubmit:v,className:"space-y-4 pt-4",children:[d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs(gt,{htmlFor:"store",className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),d.jsx("span",{children:"Store"})]}),c.store&&d.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[d.jsx(bo,{className:"h-3 w-3 mr-1"}),c.store]})]}),d.jsx(ur,{id:"store",placeholder:"e.g. Trader Joe's, Costco, Target",value:a,onChange:y,onFocus:()=>m(!0),onBlur:()=>{setTimeout(()=>m(!1),200)},className:c.store?"border-destructive":""}),p&&g.length>0&&d.jsx(ot.div,{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:d.jsx("ul",{className:"py-1",children:g.map((C,A)=>d.jsxs(ot.li,{className:"px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 cursor-pointer text-sm flex items-center",onClick:()=>w(C),whileHover:{x:5},children:[d.jsx(aa,{className:"h-3 w-3 mr-2 text-blue-600 dark:text-blue-400"}),C]},A))})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(gt,{htmlFor:"eta",className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(ta,{className:"h-4 w-4 mr-1 text-blue-600 dark:text-blue-400"}),"Time until arrival"]}),c.eta&&d.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[d.jsx(bo,{className:"h-3 w-3 mr-1"}),c.eta]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx(ur,{id:"eta",type:"number",min:"5",max:"120",value:s,onChange:C=>l(C.target.value),className:`w-24 ${c.eta?"border-destructive":""}`}),d.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[d.jsx(De,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),d.jsx(De,{type:"submit",disabled:!f,className:`bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600 ${f?"":"opacity-50 cursor-not-allowed"}`,children:"Update Trip"})]})]})]})}):null},qIe=({trips:t,onTripClick:e,onClose:r})=>{const[n,i]=E.useState(new Date),[a,o]=E.useState(null),l=(v=>{const y=v.getFullYear(),w=v.getMonth(),C=new Date(y,w+1,0).getDate(),A=new Date(y,w,1).getDay(),O=[];for(let N=0;N<A;N++)O.push(null);for(let N=1;N<=C;N++)O.push(new Date(y,w,N));return O})(n),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],f=v=>v?t.filter(y=>{const w=new Date(y.date);return w.getDate()===v.getDate()&&w.getMonth()===v.getMonth()&&w.getFullYear()===v.getFullYear()}):[],h=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1)),o(null)},p=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1)),o(null)},m=v=>{o(v)},g=v=>{switch(v){case"open":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"shopping":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"completed":return"bg-gray-100 text-gray-800 dark:bg-gray-800/50 dark:text-gray-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800/50 dark:text-gray-400"}},x=v=>({open:v.filter(w=>w.status==="open").length,shopping:v.filter(w=>w.status==="shopping").length,completed:v.filter(w=>w.status==="completed").length,cancelled:v.filter(w=>w.status==="cancelled").length});return d.jsx(ot.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ot.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-3xl w-full p-4 bg-gradient-to-br from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[d.jsx(ks,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Trip Calendar"]}),d.jsx(De,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx(De,{variant:"ghost",size:"icon",onClick:h,children:d.jsx(sH,{className:"h-5 w-5"})}),d.jsxs("h3",{className:"text-lg font-medium",children:[u[n.getMonth()]," ",n.getFullYear()]}),d.jsx(De,{variant:"ghost",size:"icon",onClick:p,children:d.jsx(vg,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:c.map(v=>d.jsx("div",{className:"text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:v},v))}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:l.map((v,y)=>{const w=v?f(v):[],C=v?x(w):null,A=v&&v.getDate()===new Date().getDate()&&v.getMonth()===new Date().getMonth()&&v.getFullYear()===new Date().getFullYear(),O=v&&a&&v.getDate()===a.getDate()&&v.getMonth()===a.getMonth()&&v.getFullYear()===a.getFullYear();return d.jsx("div",{className:dt("aspect-square p-1 rounded-md relative",v?"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20":"",A?"bg-blue-100 dark:bg-blue-900/40":"",O?"ring-2 ring-blue-500 dark:ring-blue-400":""),onClick:()=>v&&m(v),children:v&&d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsx("div",{className:"text-right text-sm",children:v.getDate()}),d.jsx("div",{className:"flex-1 overflow-hidden",children:C&&d.jsxs("div",{className:"mt-1 space-y-0.5",children:[C.open>0&&d.jsxs("div",{className:"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 rounded px-1 truncate",children:[C.open," open"]}),C.shopping>0&&d.jsxs("div",{className:"text-[10px] bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 rounded px-1 truncate",children:[C.shopping," active"]}),C.completed>0&&d.jsxs("div",{className:"text-[10px] bg-gray-100 dark:bg-gray-800/50 text-gray-800 dark:text-gray-400 rounded px-1 truncate",children:[C.completed," done"]})]})})]})},y)})})]}),d.jsxs("div",{className:"border-t md:border-t-0 md:border-l border-gray-200 dark:border-gray-700 pt-4 md:pt-0 md:pl-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:a?`Trips on ${a.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`:"Select a date to view trips"}),d.jsx("div",{className:"space-y-3 max-h-[calc(100vh-24rem)] overflow-y-auto",children:a?f(a).map(v=>d.jsxs(ot.div,{className:"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors",onClick:()=>e(v),whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:30},children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 mr-2 text-blue-500"}),d.jsx("h4",{className:"font-medium",children:v.store})]}),d.jsx(Qt,{variant:"outline",className:dt("text-xs",g(v.status)),children:v.status})]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[d.jsx(pu,{className:"h-3.5 w-3.5 mr-1"}),d.jsx("span",{className:"mr-3",children:v.shopper.name}),d.jsx(ta,{className:"h-3.5 w-3.5 mr-1"}),d.jsx("span",{children:v.eta})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-sm",children:[v.items.length," item",v.items.length!==1?"s":"",v.items.some(y=>!y.checked)&&d.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:[" • ",v.items.filter(y=>!y.checked).length," pending"]})]}),d.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"View Details →"})]})]},v.id)):d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Click on a date to view trips scheduled for that day"})})]})]})]})})},WIe=[{id:"1",name:"Trader Joe's",address:"3888 Townsfair Way, Columbus, OH 43219",lat:39.9789,lng:-82.8677,category:"grocery",hours:"8AM - 9PM",rating:4.7},{id:"2",name:"Whole Foods Market",address:"1555 W Lane Ave, Columbus, OH 43221",lat:40.0065,lng:-83.0537,category:"grocery",hours:"7AM - 10PM",rating:4.5},{id:"3",name:"Target",address:"1892 N High St, Columbus, OH 43201",lat:39.9964,lng:-83.0091,category:"grocery",hours:"8AM - 11PM",rating:4.3},{id:"4",name:"Walgreens",address:"1162 N High St, Columbus, OH 43201",lat:39.9865,lng:-83.0044,category:"pharmacy",hours:"24 hours",rating:4},{id:"5",name:"CVS Pharmacy",address:"2160 N High St, Columbus, OH 43201",lat:40.0046,lng:-83.0104,category:"pharmacy",hours:"24 hours",rating:3.9},{id:"6",name:"Home Depot",address:"2555 Brice Rd, Columbus, OH 43068",lat:39.9259,lng:-82.8369,category:"hardware",hours:"6AM - 9PM",rating:4.2},{id:"7",name:"Kroger",address:"1350 N High St, Columbus, OH 43201",lat:39.9905,lng:-83.0069,category:"grocery",hours:"6AM - 12AM",rating:4.1},{id:"8",name:"Costco",address:"3800 W Dublin Granville Rd, Columbus, OH 43235",lat:40.0909,lng:-83.0763,category:"grocery",hours:"10AM - 8:30PM",rating:4.6},{id:"9",name:"Best Buy",address:"3840 Morse Rd, Columbus, OH 43219",lat:40.0606,lng:-82.9307,category:"electronics",hours:"10AM - 9PM",rating:4.3},{id:"10",name:"Apple Store",address:"4195 The Strand E, Columbus, OH 43219",lat:40.0529,lng:-82.9146,category:"electronics",hours:"10AM - 8PM",rating:4.8},{id:"11",name:"Macy's",address:"1500 Polaris Pkwy, Columbus, OH 43240",lat:40.1452,lng:-82.9823,category:"clothing",hours:"10AM - 9PM",rating:4},{id:"12",name:"Giant Eagle",address:"280 E Whittier St, Columbus, OH 43206",lat:39.9447,lng:-82.9913,category:"grocery",hours:"7AM - 10PM",rating:4.2},{id:"13",name:"Ace Hardware",address:"1305 W Lane Ave, Columbus, OH 43221",lat:40.0057,lng:-83.0491,category:"hardware",hours:"8AM - 8PM",rating:4.5},{id:"14",name:"Lowe's",address:"2345 Silver Dr, Columbus, OH 43211",lat:40.0127,lng:-82.9765,category:"hardware",hours:"6AM - 10PM",rating:4.2},{id:"15",name:"Walmart",address:"3900 Morse Rd, Columbus, OH 43219",lat:40.0602,lng:-82.9339,category:"grocery",hours:"7AM - 11PM",rating:3.8}],GIe=t=>{const e=t.toLowerCase();return WIe.find(r=>r.name.toLowerCase().includes(e))},KIe=({trips:t,onTripClick:e,onClose:r})=>{const[n,i]=E.useState(null),[a,o]=E.useState(""),[s,l]=E.useState({lat:37.78,lng:-122.41}),[c,u]=E.useState(null),[f,h]=E.useState(!0),[p,m]=E.useState([]),g=E.useRef(null),x=E.useRef(null),v=E.useRef([]),y=E.useRef(null);E.useEffect(()=>{h(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(N=>{const S={lat:N.coords.latitude,lng:N.coords.longitude};l(S),h(!1)},N=>{console.error("Error getting location:",N),u("Could not access your location. Using default location instead."),h(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(u("Geolocation is not supported by your browser. Using default location instead."),h(!1))},[]),E.useEffect(()=>{const N=t.map(R=>{const I=GIe(R.store);return{...R,lat:(I==null?void 0:I.lat)||s.lat+(Math.random()*.01-.005),lng:(I==null?void 0:I.lng)||s.lng+(Math.random()*.01-.005)}});m(N);const S=()=>{if(window.google&&window.google.maps)return window.initTripMap(),()=>{};const R=document.createElement("script");return R.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8&libraries=places,geometry&callback=initTripMap",R.async=!0,R.defer=!0,document.head.appendChild(R),()=>{document.head.contains(R)&&document.head.removeChild(R)}};return window.initTripMap=()=>{if(g.current&&!x.current){const R={center:s,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0};x.current=new window.google.maps.Map(g.current,R),y.current=new window.google.maps.InfoWindow,w(N)}},S()},[t,s]);const w=N=>{if(!x.current||!window.google)return;v.current.forEach(I=>{I.setMap(null)}),v.current=[];const S=new window.google.maps.LatLngBounds,P=window.google.maps.marker&&window.google.maps.marker.AdvancedMarkerElement;N.forEach(I=>{if(P){const k=document.createElement("div");k.className="marker-container",k.innerHTML=`
          <div style="
            width: 30px; 
            height: 30px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            background-color: ${C(I.status)};
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            border: 2px solid white;
          ">
            ${I.items.length}
          </div>
        `;const D=new window.google.maps.marker.AdvancedMarkerElement({position:{lat:I.lat,lng:I.lng},map:x.current,title:I.store,content:k});D.addListener("click",()=>{A(I,D)}),v.current.push(D)}else{const k=new window.google.maps.Marker({position:{lat:I.lat,lng:I.lng},map:x.current,title:I.store,label:{text:I.items.length.toString(),color:"#FFFFFF"},icon:{path:"M10 27c-.2 0-.2 0-.5-1-.3-.8-.7-2-1.6-3.5-1-1.5-2-2.7-3-3.8-2.2-2.8-3.9-5-3.9-8.8C1 4.9 5 1 10 1s9 4 9 8.9c0 3.9-1.8 6-4 8.8-1 1.2-1.9 2.4-2.8 3.8-.3 1-.4 1-.6 1Z",fillColor:C(I.status),fillOpacity:1,strokeWeight:1,strokeColor:"#FFFFFF",anchor:new window.google.maps.Point(15,29),scale:1.2,labelOrigin:new window.google.maps.Point(10,9)}});k.addListener("click",()=>{A(I,k)}),v.current.push(k)}S.extend({lat:I.lat,lng:I.lng})});const R=new window.google.maps.Marker({position:s,map:x.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:8}});v.current.push(R),S.extend(s),N.length>0&&(x.current.fitBounds(S),N.length===1&&x.current.setZoom(14))},C=N=>{switch(N){case"open":return"#22c55e";case"in-progress":return"#3b82f6";case"waiting":return"#f59e0b";case"completed":return"#6b7280";default:return"#3b82f6"}},A=(N,S)=>{if(i(N),y.current){const P=`
        <div style="padding: 8px; max-width: 200px;">
          <h3 style="margin: 0 0 8px; font-size: 16px;">${N.store}</h3>
          <p style="margin: 0 0 4px; font-size: 14px;">${N.items.length} items</p>
          <p style="margin: 0; font-size: 14px;">Status: ${N.status}</p>
          <div style="margin-top: 8px;">
            <button id="view-trip-btn" style="
              background-color: #1a73e8;
              color: white;
              border: none;
              padding: 6px 12px;
              border-radius: 4px;
              cursor: pointer;
              font-size: 14px;
            ">View Trip</button>
          </div>
        </div>
      `;y.current.setContent(P),y.current.open(x.current,S),setTimeout(()=>{const R=document.getElementById("view-trip-btn");R&&R.addEventListener("click",()=>{e(N)})},100)}},O=a.trim()===""?p:p.filter(N=>N.store.toLowerCase().includes(a.toLowerCase()));return d.jsx(ot.div,{className:"fixed inset-0 z-50 bg-white dark:bg-gray-900 flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ot.div,{className:"p-4 flex-1 flex flex-col",initial:{y:20},animate:{y:0},children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Trips Map"}),d.jsx(De,{variant:"ghost",size:"icon",onClick:r,children:d.jsx(Xa,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx(ur,{type:"text",placeholder:"Search trips...",value:a,onChange:N=>o(N.target.value),className:"pr-10"}),d.jsx(lx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400"})]}),d.jsx("div",{className:"flex-1 relative rounded-lg overflow-hidden",children:f?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mx-auto mb-2"}),d.jsx("p",{children:"Getting your location..."})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{ref:g,className:"h-full w-full"}),c&&d.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-red-100 dark:bg-red-900 p-2 rounded-md text-sm text-red-700 dark:text-red-200",children:c})]})}),d.jsxs("div",{className:"mt-4 flex justify-between",children:[d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-1"}),d.jsx("span",{className:"text-xs",children:"Open"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 mr-1"}),d.jsx("span",{className:"text-xs",children:"Shopping"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-500 mr-1"}),d.jsx("span",{className:"text-xs",children:"Completed"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 mr-1"}),d.jsx("span",{className:"text-xs",children:"Cancelled"})]})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[O.length," trips shown"]})]})]})})},YIe=({isOpen:t,onClose:e,trips:r,onSelect:n,onCreateTrip:i})=>d.jsx(Hi,{open:t,onOpenChange:e,children:d.jsxs(Ci,{className:"sm:max-w-md bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2",children:[d.jsx(Xr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Select a Trip"]}),d.jsx(Jo,{children:"Choose which trip to add your items to"})]}),d.jsx("div",{className:"overflow-y-auto max-h-[60vh] mt-4",children:r.length>0?d.jsx("div",{className:"grid gap-2",children:r.map(a=>d.jsxs("div",{className:"p-3 border rounded-lg cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex justify-between items-center",onClick:()=>n(a),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aa,{className:"h-4 w-4 text-blue-500"}),d.jsx("span",{className:"font-medium",children:a.store})]}),d.jsx(Qt,{variant:"outline",className:a.status==="open"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:a.status})]},a.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No active trips available"}),d.jsx(De,{onClick:()=>{e(),setTimeout(()=>i(),100)},children:"Create New Trip"})]})}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx(De,{variant:"outline",onClick:e,children:"Cancel"})})]})}),XIe=()=>{const{trips:t,addTrip:e,updateTrip:r,deleteTrip:n,syncTasksWithTrips:i}=mp();xc();const a=Rs();E.useEffect(()=>{new URLSearchParams(a.search).get("view")==="past"&&s("past")},[a]);const[o,s]=E.useState("active"),[l,c]=E.useState(!1),[u,f]=E.useState(""),[h,p]=E.useState(!1),[m,g]=E.useState(null),[x,v]=E.useState(!1),[y,w]=E.useState(!1),[C,A]=E.useState(!1),[O,N]=E.useState(!1),[S,P]=E.useState(!1),[R,I]=E.useState(!1),[k,D]=E.useState(!1),[z,J]=E.useState([]),[U,K]=E.useState([]),[$,H]=E.useState([]),{toast:te}=_n(),ie=u?U.filter(Te=>Te.store.toLowerCase().includes(u.toLowerCase())||Te.shopper&&Te.shopper.name.toLowerCase().includes(u.toLowerCase())):U,F=u?$.filter(Te=>Te.store.toLowerCase().includes(u.toLowerCase())||Te.shopper&&Te.shopper.name.toLowerCase().includes(u.toLowerCase())):$;E.useEffect(()=>{i()},[]),E.useEffect(()=>{if(t){const Te=t.map(Ye=>({id:Ye.id,store:Ye.store,shopper:Ye.shopper||{name:"You",avatar:"https://example.com/you.jpg"},eta:Ye.eta||"",status:Ye.status,items:Ye.items,participants:Ye.participants,itemCount:Ye.items.length,date:Ye.date?new Date(Ye.date).toISOString():new Date().toISOString()})),Fe=Te.filter(Ye=>Ye.status!=="completed"&&Ye.status!=="cancelled"),Ge=Te.filter(Ye=>Ye.status==="completed"||Ye.status==="cancelled");Ge.sort((Ye,rt)=>new Date(rt.date).getTime()-new Date(Ye.date).getTime()),K(Fe),H(Ge)}},[t]);const q=()=>{P(!S)},Q=()=>{p(!h),h&&f("")},se=()=>{},G=()=>{A(!0),N(!1)},le=()=>{N(!0),A(!1)},de=Te=>{const Fe={store:Te.store,location:Te.store,coordinates:{lat:39.965,lng:-83.02},eta:Te.eta,status:"open",items:[],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"}],shopper:{name:"You",avatar:"https://example.com/you.jpg"},date:new Date(Te.date).toISOString()};e(Fe),c(!1),te({title:"Trip Created",description:`Your trip to ${Te.store} is scheduled for ${new Date(Te.date).toLocaleDateString()}`})},ae=(Te,Fe)=>{const Ge=t.find(vt=>vt.id===Te);if(!Ge)return;const Ye={...Fe,id:Date.now().toString()},rt=[...Ge.items,Ye];if(r(Te,{items:rt}),m&&m.id===Te){const vt={...m,items:rt};g(vt)}},ye=(Te,Fe)=>{const Ge=t.find(Ye=>Ye.id===Te);Ge&&(r(Te,{items:Ge.items.filter(Ye=>Ye.id!==Fe)}),m&&m.id===Te&&g({...m,items:m.items.filter(Ye=>Ye.id!==Fe)}))},ge=(Te,Fe)=>{const Ge=t.find(Ye=>Ye.id===Te);Ge&&(r(Te,{items:Ge.items.map(Ye=>Ye.id===Fe?{...Ye,checked:!Ye.checked}:Ye)}),m&&m.id===Te&&g({...m,items:m.items.map(Ye=>Ye.id===Fe?{...Ye,checked:!Ye.checked}:Ye)}))},ve=Te=>{g(Te),v(!0)},Re=Te=>{g(Te),w(!0)},Me=(Te,Fe)=>{t.find(Ye=>Ye.id===Te)&&(r(Te,{store:Fe.store,location:Fe.store,eta:Fe.eta}),m&&m.id===Te&&g({...m,store:Fe.store,eta:Fe.eta}),w(!1))},Se=Te=>{t.find(Ge=>Ge.id===Te)&&(r(Te,{status:"completed",eta:"Completed"}),v(!1))},W=Te=>{t.find(Ge=>Ge.id===Te)&&(r(Te,{status:"open",eta:"Reactivated"}),v(!1))},Pe=Te=>{},ce=Te=>{},me=(Te,Fe,Ge)=>{const Ye=t.find(rt=>rt.id===Te);Ye&&(r(Te,{items:Ye.items.map(rt=>rt.id===Fe?{...rt,price:Ge}:rt)}),m&&m.id===Te&&g({...m,items:m.items.map(rt=>rt.id===Fe?{...rt,price:Ge}:rt)}))},we=(Te,Fe,Ge)=>{console.log(`Payment of ${Te} from ${Ge} to ${Fe}`)},Ue=(Te,Fe,Ge,Ye)=>{const rt=t.find(vt=>vt.id===Te);rt&&(r(Te,{items:rt.items.map(vt=>vt.id===Fe?{...vt,unit:Ge,...Ye!==void 0?{quantity:Ye}:{}}:vt)}),m&&m.id===Te&&g({...m,items:m.items.map(vt=>vt.id===Fe?{...vt,unit:Ge,...Ye!==void 0?{quantity:Ye}:{}}:vt)}))},ze=()=>{if(o==="past"){te({title:"Active trips only",description:"You can only add items to active trips. Please switch to the active tab.",variant:"destructive"});return}!m&&ie.length>0?D(!0):ie.length===0?te({title:"No active trips",description:"Please create a trip first before adding items",variant:"destructive"}):I(!0)},et=Te=>{g(Te),D(!1),z.length>0?(at(z),J([])):I(!0)},at=Te=>{if(!m){J(Te),D(!0);return}let Fe=0,Ge=0;const Ye=Te.filter(rt=>m.items.some(tt=>tt.name.toLowerCase()===rt.name.toLowerCase())?(Ge++,!1):(Fe++,!0));if(Ye.length>0){const rt=t.find(Yt=>Yt.id===m.id);if(!rt)return;const vt=Ye.map(Yt=>({...Yt,id:Date.now().toString()+Math.random().toString(36).substring(2)})),tt=[...rt.items,...vt];r(m.id,{items:tt}),g({...m,items:tt})}te({title:`${Fe} items added`,description:Ge>0?`Added ${Fe} items. ${Ge} items were skipped because they already exist in the trip.`:`Added ${Fe} items to your trip.`})};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(Pf,{}),d.jsxs("main",{className:"flex-grow w-full px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[d.jsxs("header",{className:"mb-6 md:mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Shopping Trips"}),d.jsx("div",{className:"flex items-center gap-2",children:h?d.jsxs("div",{className:"flex items-center",children:[d.jsx(ur,{type:"text",placeholder:"Search trips...",value:u,onChange:Te=>f(Te.target.value),className:"w-40 md:w-60 mr-1"}),d.jsx(De,{variant:"ghost",size:"icon",onClick:Q,children:d.jsx(Xa,{className:"h-4 w-4"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(De,{variant:"ghost",size:"icon",onClick:Q,children:d.jsx(lx,{className:"h-4 w-4"})}),d.jsx(De,{variant:"ghost",size:"icon",onClick:se,children:d.jsx(lH,{className:"h-4 w-4"})}),d.jsx(De,{variant:"ghost",size:"icon",onClick:G,children:d.jsx(ks,{className:"h-4 w-4"})}),d.jsx(De,{variant:"ghost",size:"icon",onClick:le,children:d.jsx(G5,{className:"h-4 w-4"})}),d.jsx(De,{variant:"ghost",size:"icon",onClick:ze,className:"text-blue-500",title:"Smart List Parser",children:d.jsx(cx,{className:"h-4 w-4"})})]})})]}),d.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:[d.jsxs(De,{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white shrink-0",children:[d.jsx(Xr,{className:"mr-2 h-4 w-4"}),"New Trip"]}),d.jsx(lw,{store:"Kroger",onClick:()=>{de({store:"Kroger",eta:"20",date:new Date().toISOString().split("T")[0]})}}),d.jsx(lw,{store:"Target",onClick:()=>{de({store:"Target",eta:"25",date:new Date().toISOString().split("T")[0]})}}),d.jsx(lw,{store:"Walmart",onClick:()=>{de({store:"Walmart",eta:"15",date:new Date().toISOString().split("T")[0]})}}),d.jsx(lw,{store:"Costco",onClick:()=>{de({store:"Costco",eta:"30",date:new Date().toISOString().split("T")[0]})}})]})]}),C?d.jsx(qIe,{trips:[...U,...$],onClose:()=>A(!1),onTripClick:ve}):O?d.jsx(KIe,{trips:[...U,...$],onClose:()=>N(!1),onTripClick:ve}):d.jsxs(yp,{value:o,onValueChange:s,children:[d.jsxs(If,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[d.jsx(Cn,{value:"active",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Active Trips"}),d.jsx(Cn,{value:"past",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Past Trips"})]}),d.jsx(Nn,{value:"active",className:"mt-0",children:d.jsx(Ka,{children:ie.length>0?d.jsx(ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:ie.map(Te=>{const Fe={id:Te.id,store:Te.store,shopper:Te.shopper||{name:"You",avatar:"https://example.com/you.jpg"},eta:Te.eta||"",status:Te.status,itemCount:Te.items.length};return d.jsx(jW,{trip:Fe,onTripClick:()=>ve(Te),onAddItem:Ge=>ae(Te.id,Ge),onEditTrip:()=>Re(Te),onCompleteTrip:()=>Se(Te.id),onShareTrip:()=>Pe(Te.id)},Te.id)})}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Xr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No active trips"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Create a new shopping trip to get started"}),d.jsxs(De,{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(Xr,{className:"mr-2 h-4 w-4"}),"New Trip"]})]})})}),d.jsxs(Nn,{value:"past",className:"mt-0",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[d.jsx(ta,{className:"h-5 w-5 mr-2 text-blue-500"}),"Shopping History"]}),$.length>0&&d.jsx(UX,{trips:$,includeHistory:!0,size:"sm",label:"Export History"})]}),d.jsx(Ka,{children:F.length>0?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.slice(0,S?void 0:6).map((Te,Fe)=>d.jsxs(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:Fe*.05},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-gray-200 dark:border-gray-700 p-4",onClick:()=>ve(Te),children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 mr-2 text-blue-500"}),Te.store]}),d.jsx(Qt,{variant:Te.status==="completed"?"outline":"destructive",className:Te.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"",children:Te.status==="completed"?d.jsxs("span",{className:"flex items-center",children:[d.jsx($r,{className:"h-3 w-3 mr-1"}),"Completed"]}):"Cancelled"})]}),d.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.jsxs("p",{className:"flex items-center mb-1",children:[d.jsx(ks,{className:"h-3.5 w-3.5 mr-1.5"}),new Date(Te.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]}),d.jsxs("p",{className:"flex items-center mb-1",children:[d.jsx(Xr,{className:"h-3.5 w-3.5 mr-1.5"}),Te.items.length," items"]}),d.jsxs("p",{className:"flex items-center font-medium",children:["Total: $",Te.items.reduce((Ge,Ye)=>Ge+(Ye.price||0),0).toFixed(2)]})]})]},Te.id))}),$.length>6&&d.jsx("div",{className:"flex justify-center mt-4",children:d.jsx(De,{variant:"outline",onClick:q,children:S?"Show Less":`View ${$.length-6} More Trips`})})]}):d.jsxs(ot.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx($r,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No past trips"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Your completed trips will appear here"})]})})]})]})]}),d.jsx(HX,{isOpen:R,onClose:()=>I(!1),onAddItems:at}),d.jsx(YIe,{isOpen:k,onClose:()=>D(!1),trips:ie,onSelect:et,onCreateTrip:()=>c(!0)}),d.jsx(HJ,{onClick:()=>c(!0),tripMode:!0,icon:d.jsx(Xr,{className:"h-6 w-6"}),label:"New Trip"}),d.jsx(UO,{isOpen:l,onClose:()=>c(!1),onSubmit:de}),m&&d.jsx(zJ,{isOpen:x,onClose:()=>v(!1),trip:m,onAddItem:ae,onRemoveItem:(Te,Fe)=>ye(Te,Fe),onToggleItemCheck:(Te,Fe)=>ge(Te,Fe),onUpdateItemPrice:(Te,Fe,Ge)=>me(Te,Fe,Ge),onInviteParticipant:Te=>ce(),onCompleteTrip:Te=>Se(Te),onReactivateTrip:Te=>W(Te),onSettleUp:(Te,Fe,Ge)=>we(Te,Fe,Ge),onUpdateItemUnit:(Te,Fe,Ge,Ye)=>Ue(Te,Fe,Ge,Ye)}),m&&d.jsx(HIe,{isOpen:y,onClose:()=>w(!1),trip:m,onUpdateTrip:(Te,Fe)=>{Me(Te,Fe),w(!1)}})]})},QIe=()=>{const{toast:t}=_n(),{tasks:e,addTask:r}=mp(),[n,i]=E.useState(null),[a,o]=E.useState(null),[s,l]=E.useState(!0),[c,u]=E.useState(null),[f,h]=E.useState(!1),[p,m]=E.useState(!1),[g,x]=E.useState({title:"",description:"",location:"",dueDate:new Date,priority:"medium",coordinates:null}),[v,y]=E.useState(!1),[w,C]=E.useState([]),[A,O]=E.useState(!1),[N,S]=E.useState(!1),[P,R]=E.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0}),[I,k]=E.useState(null),[D,z]=E.useState(null),J=E.useRef(null),U=E.useRef(null),K=E.useRef([]),$=E.useRef(null),H=E.useRef(null),te=E.useRef(null),ie=E.useRef(null),F=E.useRef(null);E.useEffect(()=>{if(!navigator.geolocation){o("Geolocation is not supported by your browser"),l(!1);return}navigator.geolocation.getCurrentPosition(W=>{i({lat:W.coords.latitude,lng:W.coords.longitude}),l(!1)},()=>{o("Unable to retrieve your location"),l(!1),i({lat:39.9789,lng:-82.8677})})},[]),E.useEffect(()=>{U.current&&n&&window.google&&!s&&(console.log("Tasks changed, updating markers"),G())},[e,n]),E.useEffect(()=>{if(!n)return;const W=()=>{if(!J.current||!n)return;if(!window.google||!window.google.maps){console.error("Google Maps not loaded");return}U.current=new window.google.maps.Map(J.current,{center:n,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0}),$.current=new window.google.maps.InfoWindow;const Pe=new window.google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"#4285F4",strokeWeight:5,strokeOpacity:.7}});Pe.setMap(U.current),z(Pe),window.google.maps.places&&(te.current=new window.google.maps.places.PlacesService(U.current),ie.current=new window.google.maps.places.AutocompleteService,F.current=new window.google.maps.places.AutocompleteSessionToken,y(!0)),G()};if(window.initMap=W,window.google&&window.google.maps)W();else{const Pe=document.createElement("script");return Pe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8&libraries=places,geometry&callback=initMap",Pe.async=!0,Pe.defer=!0,document.head.appendChild(Pe),()=>{document.head.contains(Pe)&&document.head.removeChild(Pe)}}},[n]);const q=W=>{if(!W||W.length<3||!v||!ie.current){C([]),S(!1);return}O(!0),S(!0);const Pe={input:W,types:["establishment","geocode"],componentRestrictions:{country:"us"},location:n?new google.maps.LatLng(n.lat,n.lng):void 0,radius:5e4};F.current&&(Pe.sessionToken=F.current),ie.current.getPlacePredictions(Pe,(ce,me)=>{me===google.maps.places.PlacesServiceStatus.OK&&ce&&ce.length>0?C(ce.map(we=>({description:we.description,place_id:we.place_id}))):C([]),O(!1)})},Q=(W,Pe)=>{te.current&&te.current.getDetails({placeId:W,fields:["name","formatted_address","geometry"]},(ce,me)=>{me===google.maps.places.PlacesServiceStatus.OK&&ce?(x(we=>{var Ue;return{...we,location:ce.formatted_address||Pe,coordinates:(Ue=ce.geometry)!=null&&Ue.location?{lat:ce.geometry.location.lat(),lng:ce.geometry.location.lng()}:null}}),C([]),S(!1),F.current=new google.maps.places.AutocompleteSessionToken):t({title:"Error",description:"Couldn't get place details",variant:"destructive"})})},se=W=>{const Pe=W.target.value;x(ce=>({...ce,location:Pe})),window.searchTimeout&&clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{q(Pe)},300)},G=()=>{if(!U.current||!window.google||!n){console.error("Map not ready for markers");return}console.log("Adding markers for",e.length,"tasks"),K.current.forEach(ce=>ce.setMap(null)),K.current=[];const W=new window.google.maps.LatLngBounds;let Pe=!1;e.forEach(ce=>{if(ce.coordinates&&ce.coordinates.lat&&ce.coordinates.lng)try{console.log("Adding marker for task:",ce.title,ce.coordinates);const me=new window.google.maps.Marker({position:{lat:ce.coordinates.lat,lng:ce.coordinates.lng},map:U.current,title:ce.title,icon:{path:"M10 27c-.2 0-.2 0-.5-1-.3-.8-.7-2-1.6-3.5-1-1.5-2-2.7-3-3.8-2.2-2.8-3.9-5-3.9-8.8C1 4.9 5 1 10 1s9 4 9 8.9c0 3.9-1.8 6-4 8.8-1 1.2-1.9 2.4-2.8 3.8-.3 1-.4 1-.6 1Z",fillColor:ae(ce.priority),fillOpacity:1,strokeWeight:1,strokeColor:"#FFFFFF",anchor:new window.google.maps.Point(15,29),scale:1.2}});me.addListener("click",()=>{var Ue,ze;u(ce);const we=`
              <div class="p-2 min-w-[200px]">
                <h3 class="font-bold text-base mb-1">${ce.title}</h3>
                <p class="text-gray-500 text-sm mb-1">
                  <span class="inline-block mr-2">📍</span>${ce.location}
                </p>
                <p class="text-gray-500 text-sm">
                  <span class="inline-block mr-2">⏰</span>${Ya(new Date(ce.dueDate),"PPP")}
                </p>
              </div>
            `;(Ue=$.current)==null||Ue.setContent(we),(ze=$.current)==null||ze.open(U.current,me)}),K.current.push(me),W.extend({lat:ce.coordinates.lat,lng:ce.coordinates.lng}),Pe=!0}catch(me){console.error("Error adding marker for task:",ce.id,me)}else console.warn("Task missing coordinates:",ce.id)});try{const ce=new window.google.maps.Marker({position:n,map:U.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:8}});K.current.push(ce),W.extend(n),Pe&&(U.current.fitBounds(W),e.filter(me=>me.coordinates).length===1&&U.current.setZoom(14))}catch(ce){console.error("Error adding user location marker:",ce)}},le=async()=>{var Pe,ce,me;if(!U.current||!window.google||!n){t({title:"Error",description:"Map not initialized or location not available",variant:"destructive"});return}const W=e.filter(we=>we.coordinates&&we.coordinates.lat&&we.coordinates.lng);if(W.length===0){t({title:"No tasks with locations",description:"Add tasks with locations to generate a route",variant:"destructive"});return}try{l(!0),console.log("Calculating route for tasks:",W.length);let we=D;we?we.setMap(U.current):(we=new window.google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"#4285F4",strokeWeight:5,strokeOpacity:.7}}),we.setMap(U.current),z(we));const Ue=new window.google.maps.LatLng(n.lat,n.lng),ze=W.map(Et=>{const jt=new window.google.maps.LatLng(Et.coordinates.lat,Et.coordinates.lng),Ii=window.google.maps.geometry.spherical.computeDistanceBetween(Ue,jt);return{task:Et,distance:Ii,latLng:jt}});ze.sort((Et,jt)=>Et.distance-jt.distance),console.log("Sorted locations by distance:",ze.map(Et=>({title:Et.task.title,distance:(Et.distance/1609.34).toFixed(2)+" mi"})));const et=ze.map(Et=>({location:Et.latLng,stopover:!0})),at=new window.google.maps.DirectionsService,Te=23;let Fe=null;if(et.length<=Te){console.log("Calculating single route segment with",et.length,"waypoints");const Et={origin:Ue,destination:P.returnToStart?Ue:et[et.length-1].location,waypoints:P.returnToStart?et:et.slice(0,-1),optimizeWaypoints:!1,travelMode:window.google.maps.TravelMode[P.transportMode],avoidHighways:P.avoidHighways,avoidTolls:P.avoidTolls};Fe=await at.route(Et)}else{console.warn("Too many waypoints, breaking into segments"),t({title:"Route optimization limited",description:"Due to API limits, the route may not be fully optimized",variant:"destructive"});const Et={origin:Ue,destination:P.returnToStart?Ue:et[et.length-1].location,waypoints:et.slice(0,Te),optimizeWaypoints:!1,travelMode:window.google.maps.TravelMode[P.transportMode],avoidHighways:P.avoidHighways,avoidTolls:P.avoidTolls};Fe=await at.route(Et)}we.setDirections(Fe);const Ye=Fe.routes[0].legs;let rt=0,vt=0;const tt=[];let Yt="Your Location",$t=[];for(let Et=0;Et<Ye.length;Et++){const jt=Ye[Et];rt+=((Pe=jt.distance)==null?void 0:Pe.value)||0,vt+=((ce=jt.duration)==null?void 0:ce.value)||0;const Ii=jt.distance?`${(jt.distance.value/1609.34).toFixed(1)} mi`:"Unknown",ct=Et<ze.length?ze[Et].task:null,Jt=ct?ct.title:Et===Ye.length-1&&P.returnToStart?"Your Location":"Unknown";Et===Ye.length-1&&P.returnToStart||$t.push({startLocation:{lat:jt.start_location.lat(),lng:jt.start_location.lng()},endLocation:{lat:jt.end_location.lat(),lng:jt.end_location.lng()},distance:Ii,duration:((me=jt.duration)==null?void 0:me.text)||"Unknown",priority:ct?ct.priority:"medium",taskName:Jt,fromLocation:Yt}),Yt=Jt}const Fn=ze.map(Et=>({location:{lat:Et.task.coordinates.lat,lng:Et.task.coordinates.lng},stopover:!0}));k({waypoints:Fn,totalDistance:rt,totalDuration:vt,segments:$t}),t({title:"Route optimized",description:`Total trip: ${(rt/1609.34).toFixed(1)} mi (${Math.round(vt/60)} min)`})}catch(we){console.error("Error showing optimized route:",we),t({title:"Route optimization failed",description:"Could not calculate optimal route. Please try again.",variant:"destructive"})}finally{l(!1)}},de=()=>{D&&D.setDirections({routes:[]}),k(null)},ae=W=>{switch(W){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},ye=W=>{const{name:Pe,value:ce}=W.target;if(Pe==="location"){se(W);return}x(me=>({...me,[Pe]:ce}))},ge=W=>{x(Pe=>({...Pe,priority:W}))},ve=W=>{W&&x(Pe=>({...Pe,dueDate:W}))},Re=async W=>{if(!window.google||!window.google.maps)return console.error("Google Maps not initialized for geocoding"),null;H.current||(H.current=new window.google.maps.Geocoder);try{return console.log("Geocoding address:",W),new Promise((Pe,ce)=>{var me;(me=H.current)==null||me.geocode({address:W},(we,Ue)=>{if(Ue===window.google.maps.GeocoderStatus.OK&&we&&we.length>0){const ze=we[0].geometry.location,et={lat:ze.lat(),lng:ze.lng()};console.log("Geocoded coordinates:",et),Pe(et)}else console.error("Geocoding failed:",Ue),Pe(null)})})}catch(Pe){return console.error("Geocoding error:",Pe),null}},Me=async()=>{if(!g.title.trim()){t({title:"Missing title",description:"Please enter a task title",variant:"destructive"});return}if(!g.location.trim()){t({title:"Missing location",description:"Please enter a task location",variant:"destructive"});return}try{l(!0);let W=g.coordinates;if(!W&&(console.log("Geocoding location:",g.location),W=await Re(g.location),!W)){t({title:"Location error",description:"Could not find coordinates for this location",variant:"destructive"}),l(!1);return}console.log("Creating task with coordinates:",W);const Pe={id:Date.now().toString(),title:g.title,description:g.description,location:g.location,dueDate:g.dueDate.toISOString(),priority:g.priority,coordinates:W,completed:!1,createdAt:new Date().toISOString()};r(Pe),x({title:"",description:"",location:"",dueDate:new Date,priority:"medium",coordinates:null}),m(!1),D&&D.setDirections({routes:[]}),k(null),t({title:"Task added",description:"Your new task has been added to the map"}),setTimeout(()=>{G()},100)}catch(W){console.error("Error adding task:",W),t({title:"Error",description:"Failed to add task. Please try again.",variant:"destructive"})}finally{l(!1)}},Se=()=>{if(!n||!I)return;let W="https://www.google.com/maps/dir/?api=1";if(P.returnToStart)W+=`&destination=${n.lat},${n.lng}`;else if(I.waypoints.length>0){const Pe=I.waypoints[I.waypoints.length-1];W+=`&destination=${Pe.location.lat},${Pe.location.lng}`}if(I.waypoints.length>0){const Pe=Math.min(I.waypoints.length,9),ce=I.waypoints.slice(0,P.returnToStart?Pe:Pe-1).map(me=>`${me.location.lat},${me.location.lng}`).join("|");ce&&(W+=`&waypoints=${ce}`)}W+=`&travelmode=${P.transportMode.toLowerCase()}`,window.open(W,"_blank")};return d.jsxs("div",{className:"pb-20",children:[d.jsxs("header",{className:"px-4 pt-6 pb-4 bg-white dark:bg-gloop-dark-surface border-b border-gloop-outline dark:border-gloop-dark-outline",children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Map"}),d.jsx("p",{className:"text-sm text-gloop-text-muted dark:text-gloop-dark-text-muted",children:"Find nearby tasks and locations"})]}),d.jsx("main",{className:"p-4 space-y-6",children:s&&!U.current?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gloop-primary"})}):a?d.jsx(qt,{children:d.jsx(Wt,{className:"p-6",children:d.jsx("p",{className:"text-red-500",children:a})})}):d.jsxs("div",{className:"grid gap-4",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[d.jsxs(De,{onClick:()=>h(!0),variant:"outline",className:"flex items-center",children:[d.jsx(Vse,{className:"mr-2 h-4 w-4"}),"Route Preferences"]}),d.jsx(De,{onClick:le,variant:I?"default":"outline",className:"flex items-center",disabled:e.filter(W=>W.coordinates).length<1||s,children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Calculating..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Fse,{className:"mr-2 h-4 w-4"}),I?"Update Route":"Show Optimized Route"]})}),I&&d.jsxs(De,{onClick:de,variant:"outline",className:"flex items-center",children:[d.jsx(yg,{className:"mr-2 h-4 w-4"}),"Clear Route"]})]}),d.jsxs(qt,{className:"overflow-hidden",children:[d.jsx(Vr,{children:d.jsx(zr,{children:"Tasks Map"})}),d.jsxs(Wt,{className:"p-0 relative",children:[d.jsx("div",{ref:J,className:"h-[500px] w-full"}),s&&d.jsx("div",{className:"absolute inset-0 bg-black/10 flex items-center justify-center",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-md shadow-lg flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"}),d.jsx("span",{children:"Loading map..."})]})})]})]}),I&&d.jsxs(qt,{className:"overflow-hidden",children:[d.jsxs(Vr,{className:"flex flex-row items-center justify-between space-y-0 pb-2 border-b",children:[d.jsx(zr,{children:"Optimized Route"}),d.jsxs(De,{size:"sm",variant:"outline",className:"flex items-center",onClick:Se,children:[d.jsx(G5,{className:"mr-2 h-4 w-4"}),"Open in Google Maps"]})]}),d.jsx(Wt,{className:"p-0",children:d.jsxs("div",{className:"p-4 divide-y",children:[I.segments.map((W,Pe)=>d.jsxs("div",{className:"py-4 first:pt-0 flex items-center",children:[d.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-4 flex-shrink-0",style:{backgroundColor:ae(W.priority),opacity:.9},children:d.jsx(Xr,{className:"h-5 w-5 text-white"})}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("div",{className:"font-medium",children:W.taskName}),d.jsxs("div",{className:"text-sm text-gray-500",children:[W.duration," • ",W.distance]})]})]},Pe)),d.jsx("div",{className:"pt-4 pb-2",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{className:"font-medium",children:"Total trip:"}),d.jsxs("div",{className:"text-sm text-gray-500",children:[Math.round(I.totalDuration/60)," mins • ",(I.totalDistance/1609.34).toFixed(1)," mi"]})]})})]})})]}),d.jsxs(qt,{children:[d.jsx(Vr,{children:d.jsx(zr,{children:"Nearby Tasks"})}),d.jsx(Wt,{children:e.filter(W=>W.coordinates).length>0?d.jsx("div",{className:"space-y-2",children:e.filter(W=>W.coordinates).map(W=>d.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>{if(W.coordinates&&U.current){U.current.panTo({lat:W.coordinates.lat,lng:W.coordinates.lng}),U.current.setZoom(15);const Pe=K.current.find(ce=>{var me,we;return((me=ce.getPosition())==null?void 0:me.lat())===W.coordinates.lat&&((we=ce.getPosition())==null?void 0:we.lng())===W.coordinates.lng});Pe&&window.google.maps.event.trigger(Pe,"click")}},children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:W.title}),d.jsxs("div",{className:"text-sm text-gloop-text-muted dark:text-gloop-dark-text-muted",children:[W.location," • ",Ya(new Date(W.dueDate),"MMM d")]})]}),d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ae(W.priority)}})]})},W.id))}):d.jsx("p",{className:"text-center py-4 text-gloop-text-muted dark:text-gloop-dark-text-muted",children:"No tasks with locations found"})})]})]})}),d.jsx(De,{onClick:()=>m(!0),size:"lg",className:"fixed z-50 bottom-24 right-6 h-16 w-16 rounded-full shadow-2xl bg-primary hover:bg-primary/90 flex items-center justify-center",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1)",zIndex:9999},children:d.jsx(Wd,{size:32})}),d.jsx(Pf,{}),d.jsx(Hi,{open:f,onOpenChange:h,children:d.jsxs(Ci,{children:[d.jsxs(Ni,{children:[d.jsx(Ti,{children:"Route Preferences"}),d.jsx(Jo,{children:"Customize how your route is calculated"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium",children:"Avoid Highways"}),d.jsx("input",{type:"checkbox",checked:P.avoidHighways,onChange:W=>R({...P,avoidHighways:W.target.checked}),className:"h-4 w-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium",children:"Avoid Tolls"}),d.jsx("input",{type:"checkbox",checked:P.avoidTolls,onChange:W=>R({...P,avoidTolls:W.target.checked}),className:"h-4 w-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium",children:"Return to Start"}),d.jsx("input",{type:"checkbox",checked:P.returnToStart,onChange:W=>R({...P,returnToStart:W.target.checked}),className:"h-4 w-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium",children:"Consider Traffic"}),d.jsx("input",{type:"checkbox",checked:P.considerTraffic,onChange:W=>R({...P,considerTraffic:W.target.checked}),className:"h-4 w-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-sm font-medium",children:"Transport Mode"}),d.jsxs("select",{value:P.transportMode,onChange:W=>R({...P,transportMode:W.target.value}),className:"p-2 border rounded",children:[d.jsx("option",{value:"DRIVING",children:"Driving"}),d.jsx("option",{value:"WALKING",children:"Walking"}),d.jsx("option",{value:"BICYCLING",children:"Bicycling"}),d.jsx("option",{value:"TRANSIT",children:"Transit"})]})]})]}),d.jsx(hc,{children:d.jsx(De,{onClick:()=>h(!1),children:"Save Preferences"})})]})}),d.jsx(Hi,{open:p,onOpenChange:m,children:d.jsxs(Ci,{className:"sm:max-w-[425px]",children:[d.jsxs(Ni,{children:[d.jsx(Ti,{children:"Add New Task"}),d.jsx(Jo,{children:"Create a new task with location to add to your map."})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"title",children:"Title"}),d.jsx(ur,{id:"title",name:"title",placeholder:"Task title",value:g.title,onChange:ye})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"description",children:"Description"}),d.jsx(bk,{id:"description",name:"description",placeholder:"Task description",value:g.description,onChange:ye})]}),d.jsxs("div",{className:"grid gap-2 relative",children:[d.jsx(gt,{htmlFor:"location",children:"Location"}),d.jsxs("div",{className:"relative",children:[d.jsx(ur,{id:"location",name:"location",placeholder:"Search for a place (e.g. Menards, Central Park)",value:g.location,onChange:ye,className:"pr-10"}),d.jsx(lx,{className:"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"})]}),N&&d.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white dark:bg-gray-800 border rounded-md shadow-md max-h-60 overflow-y-auto",children:A?d.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Searching..."}):w.length>0?d.jsx("ul",{className:"py-1",children:w.map((W,Pe)=>d.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm",onClick:()=>Q(W.place_id,W.description),children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(_0,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:W.description})]})},W.place_id))}):g.location.length>=3?d.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"No places found"}):d.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Type at least 3 characters to search"})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"dueDate",children:"Due Date"}),d.jsxs(I0,{children:[d.jsx(O0,{asChild:!0,children:d.jsxs(De,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[d.jsx(ks,{className:"mr-2 h-4 w-4"}),Ya(g.dueDate,"PPP")]})}),d.jsx(Zh,{className:"w-auto p-0",children:d.jsx(yS,{mode:"single",selected:g.dueDate,onSelect:ve,initialFocus:!0})})]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(gt,{htmlFor:"priority",children:"Priority"}),d.jsxs(yi,{onValueChange:ge,defaultValue:g.priority,children:[d.jsx(oi,{id:"priority",children:d.jsx(xi,{placeholder:"Select priority"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"low",children:"Low"}),d.jsx(Ct,{value:"medium",children:"Medium"}),d.jsx(Ct,{value:"high",children:"High"})]})]})]})]}),d.jsxs(hc,{children:[d.jsx(De,{onClick:()=>m(!1),variant:"outline",children:"Cancel"}),d.jsx(De,{onClick:Me,disabled:s,children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Adding..."]}):"Add Task"})]})]})})]})},ZIe=[{id:"kroger1",name:"Kroger",address:"3417 N High St, Columbus, OH 43214",coordinates:{lat:40.031513,lng:-83.014337},items:{apple:{price:1.29,unit:"each"},banana:{price:.59,unit:"lb"},bread:{price:2.49,unit:"loaf"},milk:{price:2.89,unit:"gallon"},eggs:{price:3.49,unit:"dozen"},chicken:{price:5.99,unit:"lb"},pasta:{price:1.29,unit:"box"},"tomato sauce":{price:1.79,unit:"can"}}},{id:"aldi1",name:"Aldi",address:"3620 N High St, Columbus, OH 43214",coordinates:{lat:40.033779,lng:-83.014112},items:{apple:{price:.99,unit:"each"},banana:{price:.49,unit:"lb"},bread:{price:1.99,unit:"loaf"},milk:{price:2.69,unit:"gallon"},eggs:{price:2.99,unit:"dozen"},chicken:{price:5.49,unit:"lb"},pasta:{price:.99,unit:"box"},"tomato sauce":{price:1.49,unit:"can"}}},{id:"walmart1",name:"Walmart",address:"3900 Morse Rd, Columbus, OH 43219",coordinates:{lat:40.060691,lng:-82.933258},items:{apple:{price:1.19,unit:"each"},banana:{price:.55,unit:"lb"},bread:{price:2.29,unit:"loaf"},milk:{price:2.79,unit:"gallon"},eggs:{price:3.29,unit:"dozen"},chicken:{price:5.79,unit:"lb"},pasta:{price:1.19,unit:"box"},"tomato sauce":{price:1.59,unit:"can"}}},{id:"wholefoods1",name:"Whole Foods",address:"1555 Lane Ave, Upper Arlington, OH 43221",coordinates:{lat:40.013218,lng:-83.054726},items:{apple:{price:1.99,unit:"each"},banana:{price:.79,unit:"lb"},bread:{price:3.99,unit:"loaf"},milk:{price:3.99,unit:"gallon"},eggs:{price:4.99,unit:"dozen"},chicken:{price:8.99,unit:"lb"},pasta:{price:2.49,unit:"box"},"tomato sauce":{price:2.99,unit:"can"}}},{id:"traderjoes1",name:"Trader Joe's",address:"1440 Gemini Pl, Columbus, OH 43240",coordinates:{lat:40.086538,lng:-82.980335},items:{apple:{price:1.49,unit:"each"},banana:{price:.69,unit:"lb"},bread:{price:2.99,unit:"loaf"},milk:{price:3.49,unit:"gallon"},eggs:{price:3.99,unit:"dozen"},chicken:{price:6.99,unit:"lb"},pasta:{price:1.89,unit:"box"},"tomato sauce":{price:1.99,unit:"can"}}}],JIe=(t,e,r,n)=>{const a=(r-t)*Math.PI/180,o=(n-e)*Math.PI/180,s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 3958.8*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},eOe=(t,e=10)=>ZIe.filter(r=>JIe(t.lat,t.lng,r.coordinates.lat,r.coordinates.lng)<=e),tOe=(t,e)=>{const r=e.filter(n=>n.items[t.toLowerCase()]!==void 0);return r.length===0?null:r.reduce((n,i)=>{const a=i.items[t.toLowerCase()].price;return a<n.price?{store:i,price:a,unit:i.items[t.toLowerCase()].unit}:n},{store:r[0],price:r[0].items[t.toLowerCase()].price,unit:r[0].items[t.toLowerCase()].unit})},rOe=(t,e,r=10)=>{const n=eOe(e,r);return n.length===0?[]:t.map(i=>{const a=i.toLowerCase(),o=n.filter(h=>h.items[a]!==void 0);if(o.length===0)return{item:i,bestPrice:null,otherStores:[]};const s=tOe(a,o);if(!s)return{item:i,bestPrice:null,otherStores:[]};const c=o.reduce((h,p)=>h+p.items[a].price,0)/o.length,u={amount:c-s.price,percentage:(c-s.price)/c*100},f=o.filter(h=>h.id!==s.store.id).map(h=>({store:h,price:h.items[a].price,unit:h.items[a].unit}));return{item:i,bestPrice:{price:s.price,unit:s.unit,store:s.store,savings:u},otherStores:f}})},nOe=t=>{const e=new Map;t.forEach(i=>{if(!i.bestPrice)return;const a=i.bestPrice.store.id;e.has(a)||e.set(a,{store:i.bestPrice.store,items:[]}),e.get(a).items.push({item:i.item,price:i.bestPrice.price,unit:i.bestPrice.unit})});let r=0;const n=Array.from(e.values()).map(i=>{const a=i.items.reduce((o,s)=>o+s.price,0);return{...i,totalCost:a}});return r=t.reduce((i,a)=>a.bestPrice?i+a.bestPrice.savings.amount:i,0),{storeVisits:n,totalSavings:r}};function iOe({title:t,description:e,icon:r,action:n,className:i,imageUrl:a}){return d.jsxs(ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:dt("flex flex-col items-center justify-center text-center px-4 py-12","min-h-[200px] rounded-lg border border-dashed border-slate-200 dark:border-slate-700","bg-slate-50/50 dark:bg-slate-800/50",i),children:[a?d.jsx("img",{src:a,alt:"Empty state illustration",className:"w-32 h-32 mb-6 object-contain"}):r?d.jsx("div",{className:"w-16 h-16 mb-6 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:d.jsx("div",{className:"text-slate-400 dark:text-slate-300",children:r})}):null,d.jsx("h3",{className:"text-lg font-semibold mb-2",children:t}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 max-w-md",children:e}),n&&d.jsx(ot.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:n})]})}function aOe({items:t,userLocation:e,onStoreDirections:r}){const[n,i]=E.useState(!1),[a,o]=E.useState([]),[s,l]=E.useState(null),[c,u]=E.useState(new Set),[f,h]=E.useState(null),p=t&&t.length>0,m=()=>{i(!0),h(null),setTimeout(()=>{try{if(!p)throw new Error("No items to compare prices for");if(!e||typeof e.lat!="number"||typeof e.lng!="number")throw new Error("Invalid user location");const y=rOe(t,e);o(y);const w=y.filter(C=>C.bestPrice!==null);if(w.length>0){const C=nOe(w);l(C);const A=new Set(C.storeVisits.map(O=>O.store.id));u(A)}else h("No price information found for any of your items"),l(null)}catch(y){console.error("Error finding prices:",y),h(y instanceof Error?y.message:"An unknown error occurred"),l(null)}finally{i(!1)}},1500)},g=y=>{const w=new Set(c);w.has(y)?w.delete(y):w.add(y),u(w)},x=y=>`$${y.toFixed(2)}`,v=y=>y>0?`$${y.toFixed(2)}`:"$0.00";return d.jsxs("div",{className:"space-y-4",children:[f&&d.jsxs("div",{className:"px-3 py-2 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 rounded-md mb-2 text-sm",children:["Error: ",f]}),d.jsx(sO,{children:d.jsxs(YH,{delayDuration:300,children:[d.jsx(XH,{asChild:!0,children:d.jsx("div",{className:"w-full",children:d.jsx(De,{variant:"default",size:"sm",onClick:m,disabled:n||!p,className:`w-full ${p?"premium-gradient-btn":"opacity-70 cursor-not-allowed"}`,children:n?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),d.jsx("span",{children:"Finding best prices..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(As,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Find Best Prices"})]})})})}),!p&&d.jsx(lO,{className:"bg-slate-800 text-white border-0 shadow-md max-w-[200px] text-xs",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(hp,{className:"h-3 w-3 text-amber-400"}),d.jsx("span",{children:"Add at least one item to your pantry first"})]})})]})}),d.jsx(Ka,{children:s&&d.jsxs(ot.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[d.jsxs(qt,{className:"premium-card mb-4",children:[d.jsxs(Vr,{className:"px-4 py-3 flex flex-row items-center justify-between space-y-0",children:[d.jsxs(zr,{className:"text-md font-medium flex items-center gap-2",children:[d.jsx(cx,{className:"h-4 w-4 text-amber-500"}),d.jsx("span",{children:"Shopping Plan"})]}),d.jsx("div",{children:d.jsxs(Qt,{className:"bg-gradient-to-r from-green-400 to-emerald-600 text-white border-0",children:[d.jsx(fH,{className:"h-3 w-3 mr-1"}),d.jsxs("span",{children:["Save ",v(s.totalSavings)]})]})})]}),d.jsxs(Wt,{className:"px-4 py-2",children:[d.jsxs("p",{className:"text-sm text-gloop-text-muted mb-4",children:["Shop at these ",s.storeVisits.length," stores to get the best prices on your items:"]}),d.jsx("div",{className:"space-y-3",children:s.storeVisits.map(y=>d.jsxs(qt,{className:"overflow-hidden shadow-sm border",children:[d.jsxs("div",{className:"p-3 bg-gradient-to-r from-gloop-primary/10 to-gloop-primary/5 flex justify-between items-center cursor-pointer",onClick:()=>g(y.store.id),children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aa,{className:"h-4 w-4 text-gloop-primary"}),d.jsx("span",{className:"font-medium",children:y.store.name}),d.jsxs(Qt,{variant:"outline",className:"ml-1",children:[y.items.length," ",y.items.length===1?"item":"items"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium",children:x(y.totalCost)}),c.has(y.store.id)?d.jsx(GI,{className:"h-4 w-4"}):d.jsx(Yh,{className:"h-4 w-4"})]})]}),d.jsx(Ka,{children:c.has(y.store.id)&&d.jsx(ot.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:d.jsxs("div",{className:"p-3 pt-0",children:[d.jsx("div",{className:"mt-3 space-y-2",children:y.items.map(w=>{var S,P,R;const C=a.find(I=>I.item.toLowerCase()===w.item.toLowerCase()),A=((S=C==null?void 0:C.bestPrice)==null?void 0:S.price)||w.price,O=(C==null?void 0:C.otherStores.reduce((I,k)=>Math.max(I,k.price),A))||w.price,N=((R=(P=C==null?void 0:C.bestPrice)==null?void 0:P.savings)==null?void 0:R.percentage)||0;return d.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gloop-border last:border-0",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:w.item}),d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsxs(Qt,{variant:"outline",className:"text-xs py-0 h-5",children:[x(w.price),"/",w.unit]}),N>5&&d.jsxs(Qt,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs py-0 h-5 border-0",children:["Save ",N.toFixed(0),"%"]})]})]}),d.jsx("div",{className:"w-24",children:typeof w.price=="number"&&typeof O=="number"?d.jsx(Ak,{value:100-w.price/O*100,className:"h-2"}):d.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full"})})]},w.item)})}),d.jsxs(De,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>r(y.store),children:[d.jsx(G5,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:"Get Directions"})]})]})})})]},y.store.id))})]})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"px-4 py-3",children:d.jsxs(zr,{className:"text-md font-medium flex items-center gap-2",children:[d.jsx(Xr,{className:"h-4 w-4 text-gloop-primary"}),d.jsx("span",{children:"Item Price Comparison"})]})}),d.jsx(Wt,{className:"px-4 py-2",children:d.jsx("div",{className:"space-y-4",children:a.map(y=>d.jsxs("div",{className:"border-b border-gloop-border pb-3 last:border-0 last:pb-0",children:[d.jsx("h4",{className:"font-medium text-sm mb-2",children:y.item}),y.bestPrice?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Best Price"}),d.jsx("span",{children:"Other Stores"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(Qt,{className:"flex items-center gap-1 bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300 border-0",children:[d.jsx(aa,{className:"h-3 w-3"}),d.jsx("span",{children:y.bestPrice.store.name})]}),d.jsx("div",{className:"h-px flex-1 bg-gloop-outline/30"}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.otherStores.slice(0,3).map(w=>d.jsx(Qt,{variant:"outline",className:"text-slate-600 dark:text-slate-300",children:w.store.name},w.store.id)),y.otherStores.length>3&&d.jsxs(Qt,{variant:"outline",className:"text-slate-500",children:["+",y.otherStores.length-3," more"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-semibold",children:[x(y.bestPrice.price),d.jsxs("span",{className:"text-xs text-gloop-text-muted ml-1",children:["/",y.bestPrice.unit]})]}),y.bestPrice.savings.amount>0&&d.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["Save up to ",v(y.bestPrice.savings.amount)," (",y.bestPrice.savings.percentage.toFixed(0),"%)"]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("div",{className:"text-sm text-gloop-text-muted",children:[x(y.otherStores.reduce((w,C)=>w+C.price,y.bestPrice.price)/(y.otherStores.length+1)),d.jsx("span",{className:"text-xs ml-1",children:"avg"})]})})]})]}):d.jsx("div",{className:"text-sm text-gloop-text-muted py-2",children:"No price data available for this item."})]},y.item))})})]})]})}),!s&&!n&&!p&&d.jsx(iOe,{title:"Your pantry is empty",description:"Add some items to your pantry before comparing prices.",icon:d.jsx(Xr,{className:"h-8 w-8"}),className:"bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700"})]})}const A9=[{id:"1",name:"Milk",quantity:1,expiry:"2025-05-05",category:"Dairy",lowStock:!0},{id:"2",name:"Eggs",quantity:6,expiry:"2025-05-10",category:"Dairy",lowStock:!1},{id:"3",name:"Bread",quantity:3,expiry:"2025-05-04",category:"Bakery",lowStock:!1},{id:"4",name:"Bananas",quantity:2,expiry:"2025-05-03",category:"Produce",lowStock:!0},{id:"5",name:"Pasta",quantity:4,expiry:"2025-07-15",category:"Pantry",lowStock:!1},{id:"6",name:"Tomato Sauce",quantity:1,expiry:"2025-08-20",category:"Pantry",lowStock:!0}],rC={Dairy:d.jsx($se,{className:"h-4 w-4 text-blue-500"}),Bakery:d.jsx(pv,{className:"h-4 w-4 text-amber-600"}),Produce:d.jsx(pv,{className:"h-4 w-4 text-green-500"}),Pantry:d.jsx(pv,{className:"h-4 w-4 text-orange-500"})},oOe=()=>{console.log("PantryPage component rendering");const[t,e]=E.useState(!1),[r,n]=E.useState(""),[i,a]=E.useState(A9),[o,s]=E.useState(!1),[l,c]=E.useState(null),[u,f]=E.useState(!1),[h,p]=E.useState({}),[m,g]=E.useState({name:"",quantity:1,expiry:new Date().toISOString().split("T")[0],category:"Pantry",lowStock:!1}),{toast:x}=_n(),[v,y]=E.useState({lat:39.9622,lng:-83.0007});E.useEffect(()=>{e(!0);const K=Array.from(new Set(A9.map($=>$.category))).reduce(($,H)=>($[H]=!0,$),{});p(K)},[]),E.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(U=>{y({lat:U.coords.latitude,lng:U.coords.longitude})},U=>{console.error("Error getting user location:",U)})},[]);const w=U=>{const K=`https://www.google.com/maps/dir/?api=1&destination=${U.coordinates.lat},${U.coordinates.lng}&destination_place_id=${U.name}`;window.open(K,"_blank"),x({title:"Opening Directions",description:`Getting directions to ${U.name}`})},C=U=>{n(U.target.value)},A=U=>{c(l===U?null:U)},O=()=>{if(!m.name){x({title:"Error",description:"Please enter an item name",variant:"destructive"});return}const U={id:Date.now().toString(),name:m.name||"",quantity:m.quantity||1,expiry:m.expiry||new Date().toISOString().split("T")[0],category:m.category||"Pantry",lowStock:(m.quantity||1)<=1};a([...i,U]),f(!1),g({name:"",quantity:1,expiry:new Date().toISOString().split("T")[0],category:"Pantry",lowStock:!1}),x({title:"Item Added",description:`${U.name} has been added to your pantry.`})},N=U=>{a(i.map(K=>{if(K.id===U){const $=K.quantity+1;return{...K,quantity:$,lowStock:$<=1}}return K})),x({title:"Quantity Updated",description:"Item quantity has been increased."})},S=U=>{a(i.map(K=>{if(K.id===U){const $=Math.max(0,K.quantity-1);return $===0?(x({title:"Item Removed",description:`${K.name} has been removed from your pantry.`}),null):{...K,quantity:$,lowStock:$<=1}}return K}).filter(Boolean))},P=U=>{x({title:"Added to Shopping List",description:`${U.name} has been added to your shopping list.`})},R=U=>{const K=i.find($=>$.id===U);K&&(a(i.filter($=>$.id!==U)),x({title:"Item Removed",description:`${K.name} has been removed from your pantry.`}))},I=i?i.filter(U=>(U.name.toLowerCase().includes(r.toLowerCase())||U.category.toLowerCase().includes(r.toLowerCase()))&&(l===null||U.category===l)):[],k=I.reduce((U,K)=>(U[K.category]||(U[K.category]=[]),U[K.category].push(K),U),{}),D=Array.from(new Set(i.map(U=>U.category))),z=U=>{const K=new Date,H=new Date(U).getTime()-K.getTime();return Math.ceil(H/(1e3*60*60*24))};console.log("PantryItems:",i),console.log("Filtered items:",I),console.log("Grouped items:",k);const J=U=>{p({...h,[U]:!h[U]}),navigator.vibrate&&navigator.vibrate(20)};return t?d.jsxs("div",{className:"pb-20 pt-6 px-4 max-w-md mx-auto",children:[d.jsx("header",{className:"mb-6",children:d.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",children:"My Pantry"})}),d.jsxs("div",{className:"mb-4 relative",children:[d.jsx(lx,{className:"absolute left-3 top-3 h-4 w-4 text-gloop-text-muted"}),d.jsx(ur,{placeholder:"Search items or categories...",value:r,onChange:C,className:"pl-10 premium-card"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs(De,{variant:"outline",size:"sm",onClick:()=>s(!o),className:"premium-card",children:[d.jsx(lH,{className:"h-4 w-4 mr-2"}),"Filter"]}),d.jsxs(De,{variant:"outline",size:"sm",className:"premium-card",onClick:()=>{const U=i.filter(K=>K.lowStock);U.length>0?(U.forEach(K=>P(K)),x({title:"Low Stock Items Added",description:`${U.length} items added to your shopping list.`})):x({title:"No Low Stock Items",description:"There are no low stock items to add to your shopping list."})},children:[d.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Add Low Stock to Cart"]})]}),d.jsx(Ka,{children:o&&d.jsx(ot.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-4",children:d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.map(U=>d.jsxs(Qt,{variant:l===U?"default":"outline",className:"cursor-pointer",onClick:()=>A(U),children:[rC[U]||null,d.jsx("span",{className:"ml-1",children:U})]},U))})})})]}),d.jsxs(qt,{className:"premium-card mb-6 shadow-md",children:[d.jsx(Vr,{className:"p-3 pb-2",children:d.jsxs(zr,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(As,{className:"h-4 w-4 text-gloop-primary"}),"Best Prices Finder"]})}),d.jsx(Wt,{className:"p-3",children:d.jsx(aOe,{items:i.map(U=>U.name),userLocation:v,onStoreDirections:w})})]}),Object.entries(k).length>0?Object.entries(k).map(([U,K])=>d.jsxs(ot.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-lg shadow-sm cursor-pointer hover:bg-gloop-primary/10 transition-all duration-200",onClick:()=>J(U),role:"button",tabIndex:0,"aria-expanded":h[U],style:{minHeight:"48px"},children:[rC[U],d.jsx("h2",{className:"text-lg font-medium",children:U}),d.jsx(Qt,{variant:"outline",className:"ml-auto",children:K.length}),d.jsx(vg,{className:`h-5 w-5 text-gloop-text-muted transition-transform duration-300 ${h[U]?"rotate-90":""}`})]}),d.jsx(Ka,{children:h[U]&&d.jsx(ot.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:d.jsx("div",{className:"space-y-3",children:K.map($=>{const H=z($.expiry),te=H<=3&&H>0,ie=H<=0;return d.jsx(ot.div,{whileHover:{x:5},className:"hover-lift",children:d.jsx(qt,{className:"overflow-hidden premium-card",children:d.jsx(Wt,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:$.name}),d.jsxs("div",{className:"flex items-center text-sm text-gloop-text-muted mt-1",children:[d.jsx(ks,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:ie?d.jsx("span",{className:"text-red-500",children:"Expired"}):te?d.jsxs("span",{className:"text-amber-500",children:["Expires in ",H," days"]}):d.jsxs("span",{children:["Expires: ",new Date($.expiry).toLocaleDateString()]})})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg font-medium",children:$.quantity}),$.lowStock&&d.jsx(Qt,{className:"ml-2 bg-gradient-to-r from-amber-400 to-amber-600 text-white border-0",children:"Low"})]}),d.jsxs("div",{className:"flex mt-1 gap-1",children:[d.jsx(De,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-gloop-primary/10",onClick:()=>N($.id),children:d.jsx(Wd,{className:"h-3 w-3 text-gloop-primary"})}),d.jsx(De,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-gloop-primary/10",onClick:()=>S($.id),children:d.jsx(Lse,{className:"h-3 w-3 text-gloop-primary"})}),d.jsx(De,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-gloop-primary/10",onClick:()=>P($),children:d.jsx(Xr,{className:"h-3 w-3 text-gloop-primary"})}),d.jsx(De,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-red-100 dark:hover:bg-red-900/20",onClick:()=>R($.id),children:d.jsx(yg,{className:"h-3 w-3 text-red-500"})})]})]})]})})})},$.id)})})})})]},U)):d.jsxs("div",{className:"text-center py-12 border rounded-lg glass-effect",children:[d.jsx(pv,{className:"h-12 w-12 mx-auto mb-3 text-gloop-text-muted opacity-30"}),d.jsx("p",{className:"text-gloop-text-muted",children:"No items found"}),d.jsx("p",{className:"text-sm mt-2 text-gloop-text-muted",children:"Try adjusting your search or filters"}),d.jsxs(De,{variant:"outline",className:"mt-4 premium-card",onClick:()=>f(!0),children:[d.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Add Items"]})]}),d.jsx(HJ,{onClick:()=>f(!0),icon:d.jsx(Wd,{className:"h-6 w-6"}),label:"Add Item"}),d.jsx(Hi,{open:u,onOpenChange:f,children:d.jsxs(Ci,{className:"sm:max-w-[425px] premium-card",children:[d.jsx(Ni,{children:d.jsx(Ti,{children:"Add Pantry Item"})}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"name",className:"sm:text-right",children:"Name"}),d.jsx(ur,{id:"name",value:m.name||"",onChange:U=>g({...m,name:U.target.value}),className:"sm:col-span-3",placeholder:"Enter item name"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"quantity",className:"sm:text-right",children:"Quantity"}),d.jsx(ur,{id:"quantity",type:"number",min:"1",value:m.quantity||1,onChange:U=>g({...m,quantity:parseInt(U.target.value)}),className:"sm:col-span-3"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"expiry",className:"sm:text-right",children:"Expiry Date"}),d.jsx(ur,{id:"expiry",type:"date",value:m.expiry||"",onChange:U=>g({...m,expiry:U.target.value}),className:"sm:col-span-3"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[d.jsx(gt,{htmlFor:"category",className:"sm:text-right",children:"Category"}),d.jsxs(yi,{value:m.category,onValueChange:U=>g({...m,category:U}),children:[d.jsx(oi,{className:"sm:col-span-3",children:d.jsx(xi,{placeholder:"Select a category"})}),d.jsx(si,{children:D.map(U=>d.jsx(Ct,{value:U,children:d.jsxs("div",{className:"flex items-center",children:[rC[U],d.jsx("span",{className:"ml-2",children:U})]})},U))})]})]})]}),d.jsxs(hc,{children:[d.jsx(De,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),d.jsx(De,{onClick:O,children:"Add Item"})]})]})}),d.jsx(Pf,{})]}):d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gloop-primary"})})},sOe=({open:t,onOpenChange:e})=>{const[r,n]=E.useState(!1),i=xc(),{toast:a}=_n(),o=async()=>{try{n(!0),await new Promise(s=>setTimeout(s,800)),localStorage.removeItem("user"),localStorage.removeItem("token"),a({title:"Successfully signed out",description:"You have been signed out of your account."}),e(!1),i("/")}catch(s){console.error("Sign out failed:",s),a({title:"Sign out failed",description:"There was a problem signing you out. Please try again.",variant:"destructive"})}finally{n(!1)}};return d.jsx(Hi,{open:t,onOpenChange:e,children:d.jsxs(Ci,{className:"sm:max-w-[425px]",children:[d.jsxs(Ni,{children:[d.jsxs(Ti,{className:"flex items-center gap-2",children:[d.jsx(D4,{className:"h-5 w-5 text-red-500"}),"Sign Out"]}),d.jsx(Jo,{children:"Are you sure you want to sign out of your account?"})]}),d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 p-3 rounded-md flex gap-2",children:[d.jsx(bo,{className:"h-5 w-5 text-amber-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:"You will need to sign in again to access your account after signing out."})]}),d.jsxs(hc,{className:"sm:justify-between",children:[d.jsx(De,{variant:"outline",onClick:()=>e(!1),disabled:r,children:"Cancel"}),d.jsx(De,{variant:"destructive",onClick:o,disabled:r,className:"gap-2",children:r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing Out..."]}):d.jsxs(d.Fragment,{children:[d.jsx(D4,{className:"h-4 w-4"}),"Sign Out"]})})]})]})})},lOe=({notifications:t,onMarkAsRead:e,onMarkAllAsRead:r,onClearAll:n,onAction:i})=>{const[a,o]=E.useState(!1);E.useEffect(()=>{function c(u){if(a&&u.target instanceof HTMLElement){const f=document.getElementById("notification-center");f&&!f.contains(u.target)&&o(!1)}}return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[a]);const s=c=>{switch(c){case"success":return d.jsx($r,{className:"h-4 w-4 text-green-500"});case"warning":return d.jsx(bo,{className:"h-4 w-4 text-amber-500"});case"error":return d.jsx(Xa,{className:"h-4 w-4 text-red-500"});case"info":default:return d.jsx(hp,{className:"h-4 w-4 text-blue-500"})}},l=t.filter(c=>!c.read).length;return d.jsxs("div",{className:"relative",id:"notification-center",children:[d.jsxs(De,{variant:"ghost",size:"icon",className:"relative",onClick:()=>o(!a),children:[d.jsx(fm,{className:"h-5 w-5"}),l>0&&d.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 text-[10px] text-white px-1",children:l})]}),d.jsx(Ka,{children:a&&d.jsxs(ot.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"fixed top-auto bottom-20 right-4 w-80 glass-effect rounded-lg shadow-lg border dark:border-gloop-dark-surface z-50",style:{maxWidth:"calc(100vw - 30px)",maxHeight:"calc(100vh - 150px)"},children:[d.jsx("div",{className:"p-4 border-b dark:border-gloop-dark-surface",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-medium",children:"Notifications"}),d.jsxs("div",{className:"flex gap-2",children:[l>0&&d.jsx(De,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2",onClick:r,children:"Mark all read"}),d.jsx(De,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2",onClick:n,children:"Clear all"})]})]})}),d.jsx("div",{className:"overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(100vh - 220px)"},children:t.length===0?d.jsxs("div",{className:"p-4 text-center text-gloop-text-muted",children:[d.jsx(Xr,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),d.jsx("p",{children:"No notifications yet"})]}):t.map(c=>d.jsx("div",{className:`p-3 border-b last:border-b-0 dark:border-gloop-dark-surface cursor-pointer hover:bg-accent ${c.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,onClick:()=>e(c.id),children:d.jsxs("div",{className:"flex gap-3",children:[c.sender?d.jsx(Aa,{className:"h-8 w-8 flex-shrink-0",children:d.jsx(Ea,{className:"bg-gloop-primary text-white",children:c.sender.name.charAt(0)})}):d.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:s(c.type)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:"font-medium text-sm truncate",children:c.title}),d.jsx("span",{className:"text-xs text-gloop-text-muted whitespace-nowrap ml-2",children:new Date(c.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),d.jsx("p",{className:"text-xs text-gloop-text-muted line-clamp-2",children:c.message}),c.actionText&&c.actionUrl&&d.jsx(De,{variant:"link",className:"text-xs h-auto p-0 mt-1",onClick:u=>{u.stopPropagation(),i&&i(c)},children:c.actionText})]})]})},c.id))})]})})]})},cOe=()=>{const[t,e]=E.useState("account"),[r,n]=E.useState(!0),[i,a]=E.useState(!0),[o,s]=E.useState(!1),[l,c]=E.useState(!1),[u,f]=E.useState(""),[h,p]=E.useState(""),[m,g]=E.useState(!1),{toast:x}=_n(),{notifications:v,markAsRead:y,markAllAsRead:w,clearAll:C}=Lde(),A=v.filter(D=>!D.read).length;E.useEffect(()=>{const D=window.matchMedia("(prefers-color-scheme: dark)").matches,z=localStorage.getItem("theme");z==="dark"||!z&&D?(s(!0),document.documentElement.classList.add("dark")):(s(!1),document.documentElement.classList.remove("dark"))},[]);const O=D=>{s(D),D?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},N=()=>{if(u&&h){const D={id:P.length+1,name:u,avatar:null,isOnline:!1};R([...P,D]),f(""),p(""),c(!1),alert(`${u} has been added to your circle!`)}},S={name:"Sarah Johnson",email:"sarah.j@example.com",avatar:"/avatar.png",completedTasks:47,savedMoney:"$235",savedTime:"12 hours"},[P,R]=E.useState([{id:1,name:"Alex Chen",avatar:null,isOnline:!0},{id:2,name:"Jamie Smith",avatar:null,isOnline:!1},{id:3,name:"Taylor Wong",avatar:null,isOnline:!0},{id:4,name:"Jordan Lee",avatar:null,isOnline:!1}]),I=[{id:1,type:"Visa",last4:"4242",isDefault:!0},{id:2,type:"Mastercard",last4:"8888",isDefault:!1}],k=[{id:1,action:"Completed shopping trip",location:"Trader Joe's",date:"Today",time:"2:30 PM"},{id:2,action:"Added items to Jamie's trip",location:"Costco",date:"Yesterday",time:"11:15 AM"},{id:3,action:"Created new task",location:"Home Depot",date:"May 1",time:"4:45 PM"},{id:4,action:"Shared trip with circle",location:"Whole Foods",date:"April 28",time:"10:00 AM"}];return d.jsxs("div",{className:"pb-20 pt-16 px-4 max-w-md mx-auto",children:[d.jsx("header",{className:"mb-6",children:d.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",children:"My Profile"})}),d.jsx("div",{className:"mb-6",children:d.jsxs(qt,{className:"premium-card overflow-hidden",children:[d.jsxs(ot.div,{whileHover:{scale:1.02},className:"relative h-24 bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end cursor-pointer group",children:[d.jsx(De,{size:"sm",variant:"ghost",className:`absolute top-2 right-2 rounded-full h-8 w-8 p-0 
                bg-white/20 hover:bg-white/40 text-white
                opacity-0 group-hover:opacity-100 transition-opacity duration-200
                backdrop-blur-sm`,children:d.jsx(Qv,{className:"h-4 w-4"})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:d.jsx("span",{className:"text-white/80 text-sm font-medium backdrop-blur-sm bg-black/20 px-3 py-1.5 rounded-full",children:"Update Banner"})})]}),d.jsxs(Wt,{className:"pt-0 relative",children:[d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex flex-col items-center -mt-10",children:[d.jsxs(ot.div,{whileHover:{scale:1.05},className:"relative cursor-pointer group",children:[d.jsxs(Aa,{className:"h-20 w-20 border-4 border-white shadow-md",children:[d.jsx(GO,{src:S.avatar,alt:S.name}),d.jsx(Ea,{className:"text-xl bg-gradient-to-br from-gloop-premium-gradient-start to-gloop-premium-gradient-end text-white",children:S.name.charAt(0)})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-full overflow-hidden",children:[d.jsx("div",{className:"bg-black/40 backdrop-blur-sm inset-0 absolute"}),d.jsx(Qv,{className:"h-5 w-5 text-white z-10"})]})]}),d.jsx("h2",{className:"mt-2 font-semibold text-lg",children:S.name}),d.jsx("p",{className:"text-sm text-gloop-text-muted",children:S.email}),d.jsxs(Qt,{className:"mt-2 bg-gradient-to-r from-amber-500 to-amber-700 hover:from-amber-600 hover:to-amber-800 text-white border border-amber-400/20 shadow-sm dark:border-amber-400/40",children:[d.jsx(NR,{className:"h-3 w-3 mr-1 text-amber-100",fill:"currentColor"})," Premium"]})]})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 text-center",children:[d.jsxs(ot.div,{className:"p-2 rounded-lg bg-gloop-bg/30",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx("p",{className:"text-xs text-gloop-text-muted mb-1",children:"Tasks"}),d.jsx("p",{className:"font-bold text-lg",children:S.completedTasks}),d.jsx("p",{className:"text-[10px] text-gloop-text-muted",children:"completed"})]}),d.jsxs(ot.div,{className:"p-2 rounded-lg bg-gloop-bg/30",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx("p",{className:"text-xs text-gloop-text-muted mb-1",children:"Saved"}),d.jsx("p",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:S.savedMoney}),d.jsx("p",{className:"text-[10px] text-gloop-text-muted",children:"total money"})]}),d.jsxs(ot.div,{className:"p-2 rounded-lg bg-gloop-bg/30",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx("p",{className:"text-xs text-gloop-text-muted mb-1",children:"Time"}),d.jsx("p",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:S.savedTime}),d.jsx("p",{className:"text-[10px] text-gloop-text-muted",children:"efficiency"})]})]})]})]})}),d.jsxs(yp,{defaultValue:"account",className:"mb-6",onValueChange:e,children:[d.jsxs(If,{className:"flex w-full overflow-x-auto no-scrollbar glass-effect",children:[d.jsxs(Cn,{value:"account",className:"flex-shrink-0 data-[state=active]:bg-transparent data-[state=active]:text-gloop-primary relative",children:[d.jsx(pu,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Account"}),t==="account"&&d.jsx(ot.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",layoutId:"activeTabIndicator"})]}),d.jsxs(Cn,{value:"notifications",className:"flex-shrink-0 data-[state=active]:bg-transparent data-[state=active]:text-gloop-primary relative",children:[d.jsx(fm,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Notifications"}),A>0&&d.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs font-bold",children:A}),t==="notifications"&&d.jsx(ot.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",layoutId:"activeTabIndicator"})]}),d.jsxs(Cn,{value:"friends",className:"flex-shrink-0 data-[state=active]:bg-transparent data-[state=active]:text-gloop-primary relative",children:[d.jsx(Qm,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Circle"}),t==="friends"&&d.jsx(ot.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",layoutId:"activeTabIndicator"})]}),d.jsxs(Cn,{value:"activity",className:"flex-shrink-0 data-[state=active]:bg-transparent data-[state=active]:text-gloop-primary relative",children:[d.jsx(ta,{className:"h-4 w-4 mr-2"}),d.jsx("span",{children:"Activity"}),t==="activity"&&d.jsx(ot.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-gloop-premium-gradient-start to-gloop-premium-gradient-end",layoutId:"activeTabIndicator"})]})]}),d.jsxs(Nn,{value:"account",className:"space-y-4 mt-4",children:[d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(fm,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Preferences"]})}),d.jsxs(Wt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(_0,{className:"h-4 w-4"}),d.jsx(gt,{htmlFor:"location-services",className:"cursor-pointer",children:"Location Services"})]}),d.jsx(Fm,{id:"location-services",checked:i,onCheckedChange:D=>{a(D),x({title:D?"Location services enabled":"Location services disabled",description:D?"You'll now see store recommendations near you":"You won't receive location-based suggestions",variant:D?"default":"destructive"}),navigator.vibrate&&navigator.vibrate(50)}})]}),d.jsxs("div",{className:"flex items-center justify-between premium-card p-3 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(KI,{className:"h-4 w-4 text-gloop-primary"}),d.jsx(gt,{htmlFor:"dark-mode",className:"cursor-pointer",children:"Dark Mode"})]}),d.jsx(Fm,{id:"dark-mode",checked:o,onCheckedChange:D=>{O(D),navigator.vibrate&&navigator.vibrate(50),x({title:D?"Dark mode enabled":"Light mode enabled",description:D?"The app will use dark theme to reduce eye strain":"The app will use light theme for better visibility",variant:"default"})}})]}),d.jsxs("div",{className:"flex items-center justify-between premium-card p-3 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Xse,{className:"h-4 w-4 text-green-500"}),d.jsx(gt,{htmlFor:"eco-friendly",className:"cursor-pointer",children:"Eco-Friendly Mode"})]}),d.jsx(Fm,{id:"eco-friendly"})]})]})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(_R,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Payment Methods"]})}),d.jsxs(Wt,{className:"space-y-3",children:[I.map(D=>d.jsxs("div",{className:"flex items-center justify-between p-3 premium-card rounded-lg hover:shadow-md transition-all",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[D.type==="Visa"?d.jsx("div",{className:"text-blue-600 font-bold",children:"VISA"}):d.jsx("div",{className:"text-red-600 font-bold",children:"MC"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium",children:["•••• ",D.last4]}),d.jsx("p",{className:"text-xs text-gloop-text-muted",children:"Expires 12/25"})]})]}),D.isDefault&&d.jsx(Qt,{variant:"outline",className:"text-xs",children:"Default"})]},D.id)),d.jsxs(De,{variant:"outline",className:"w-full premium-card mt-2",children:[d.jsx(_R,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(Gse,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Account"]})}),d.jsxs(Wt,{className:"space-y-3",children:[d.jsxs(De,{variant:"outline",className:"w-full justify-start premium-card",children:[d.jsx(kse,{className:"h-4 w-4 mr-2"}),"Help & Support"]}),d.jsxs(De,{variant:"outline",className:"w-full justify-start premium-card",children:[d.jsx(qse,{className:"h-4 w-4 mr-2"}),"Privacy Settings"]}),d.jsxs(De,{variant:"outline",className:"w-full justify-start text-red-600 premium-card hover:text-red-700",onClick:()=>g(!0),children:[d.jsx(D4,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]}),d.jsxs(Nn,{value:"notifications",className:"space-y-4 mt-4",children:[d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(fm,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Notifications"]}),v.length>0&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx(De,{variant:"outline",size:"sm",onClick:w,className:"text-xs h-7",children:"Mark all read"}),d.jsx(De,{variant:"outline",size:"sm",onClick:C,className:"text-xs h-7 text-red-500 hover:text-red-600",children:"Clear all"})]})]})}),d.jsx(Wt,{children:d.jsx(lOe,{notifications:v,onMarkAsRead:y,onMarkAllAsRead:w,onClearAll:C})})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(fm,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Notification Settings"]})}),d.jsx(Wt,{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(fm,{className:"h-4 w-4"}),d.jsx(gt,{htmlFor:"notifications-enabled",className:"cursor-pointer",children:"Enable Notifications"})]}),d.jsx(Fm,{id:"notifications-enabled",checked:r,onCheckedChange:D=>{n(D),x({title:D?"Notifications enabled":"Notifications disabled",description:D?"You'll receive notifications about activity in your household":"You won't receive notifications",variant:D?"default":"destructive"}),navigator.vibrate&&navigator.vibrate(50)}})]})})]})]}),d.jsxs(Nn,{value:"friends",className:"space-y-4 mt-4",children:[d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Qm,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"My Circle"]}),d.jsx(Qt,{variant:"outline",className:"ml-2",children:P.length})]})}),d.jsxs(Wt,{className:"space-y-3",children:[P.map(D=>d.jsxs(ot.div,{className:"flex items-center justify-between p-3 premium-card rounded-lg hover:shadow-md transition-all",whileHover:{x:5},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Aa,{className:"h-10 w-10",children:d.jsx(Ea,{className:"bg-gradient-to-br from-gloop-premium-gradient-start to-gloop-premium-gradient-end text-white",children:D.name.charAt(0)})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:D.name}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`h-2 w-2 rounded-full mr-1 ${D.isOnline?"bg-green-500":"bg-gray-300"}`}),d.jsx("p",{className:"text-xs text-gloop-text-muted",children:D.isOnline?"Online":"Offline"})]})]})]}),d.jsx(vg,{className:"h-4 w-4 text-gloop-text-muted"})]},D.id)),d.jsxs(De,{variant:"outline",className:"w-full premium-card mt-2",onClick:()=>c(!0),children:[d.jsx(mv,{className:"h-4 w-4 mr-2"}),"Add to Circle"]})]})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(mv,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Invitations"]})}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center text-gloop-text-muted",children:[d.jsx(Qm,{className:"h-12 w-12 mb-2 opacity-30"}),d.jsx("p",{children:"No pending invitations"}),d.jsx("p",{className:"text-sm mt-1",children:"When someone invites you to their circle, it will appear here"})]})})]})]}),d.jsxs(Nn,{value:"activity",className:"space-y-4 mt-4",children:[d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsx(zr,{className:"text-lg flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(ta,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Recent Activity"]})})}),d.jsxs(Wt,{className:"space-y-3",children:[k.map(D=>d.jsx(ot.div,{className:"p-3 premium-card rounded-lg hover:shadow-md transition-all",whileHover:{x:5},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:D.action}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsx(_0,{className:"h-3 w-3 mr-1 text-gloop-text-muted"}),d.jsx("p",{className:"text-xs text-gloop-text-muted",children:D.location})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm",children:D.date}),d.jsx("p",{className:"text-xs text-gloop-text-muted",children:D.time})]})]})},D.id)),d.jsxs(De,{variant:"outline",className:"w-full premium-card mt-2",children:[d.jsx(ta,{className:"h-4 w-4 mr-2"}),"View All Activity"]})]})]}),d.jsxs(qt,{className:"premium-card",children:[d.jsx(Vr,{className:"pb-2",children:d.jsxs(zr,{className:"text-lg flex items-center",children:[d.jsx(NR,{className:"h-5 w-5 mr-2 text-amber-500"}),"Achievements"]})}),d.jsx(Wt,{children:d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs(ot.div,{className:"p-3 premium-card rounded-lg text-center",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx($r,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),d.jsx("p",{className:"font-medium text-sm",children:"Early Adopter"})]}),d.jsxs(ot.div,{className:"p-3 premium-card rounded-lg text-center",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx($r,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),d.jsx("p",{className:"font-medium text-sm",children:"Task Master"})]}),d.jsxs(ot.div,{className:"p-3 premium-card rounded-lg text-center bg-gray-100 dark:bg-gray-800/50",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx($r,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),d.jsx("p",{className:"font-medium text-sm text-gray-400",children:"Super Saver"})]}),d.jsxs(ot.div,{className:"p-3 premium-card rounded-lg text-center bg-gray-100 dark:bg-gray-800/50",whileHover:{scale:1.03},transition:{type:"spring",stiffness:400,damping:10},children:[d.jsx($r,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),d.jsx("p",{className:"font-medium text-sm text-gray-400",children:"Team Player"})]})]})})]})]})]}),d.jsx(Pf,{}),l&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs(ot.div,{className:"bg-white dark:bg-gloop-dark-surface rounded-lg shadow-lg max-w-md w-full p-4 premium-card",initial:{scale:.9,y:20},animate:{scale:1,y:0},children:[d.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[d.jsx(mv,{className:"h-5 w-5 mr-2 text-gloop-primary"}),"Add to Circle"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"friend-name",children:"Name"}),d.jsx("input",{id:"friend-name",className:"w-full p-2 mt-1 border rounded-md dark:bg-gloop-dark-bg dark:border-gloop-dark-border",placeholder:"Enter name",value:u,onChange:D=>f(D.target.value)})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"friend-email",children:"Email"}),d.jsx("input",{id:"friend-email",className:"w-full p-2 mt-1 border rounded-md dark:bg-gloop-dark-bg dark:border-gloop-dark-border",placeholder:"Enter email",type:"email",value:h,onChange:D=>p(D.target.value)})]}),d.jsxs("div",{className:"flex space-x-2 pt-2",children:[d.jsx(De,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"}),d.jsx(De,{className:"flex-1 premium-gradient-btn",onClick:N,disabled:!u||!h,children:"Add Friend"})]})]})]})}),d.jsx(sOe,{open:m,onOpenChange:g})]})},uOe=()=>{const{user:t,updateChorePreferences:e,isLoading:r}=oS(),{tasks:n}=mp(),{toast:i}=_n(),[a,o]=E.useState([]);E.useEffect(()=>{t&&t.chorePreferences&&o(t.chorePreferences)},[t]);const s=he.useMemo(()=>{if(!n)return[];const f=new Set;return n.forEach(h=>f.add(h.title)),Array.from(f).map(h=>({id:h,name:h}))},[n]),l=(f,h)=>{o(p=>{const m=p.findIndex(g=>g.choreId===f);if(m>-1){const g=[...p];return g[m]={...g[m],preference:h},g}return[...p,{choreId:f,preference:h}]})},c=async()=>{if(!t){i({title:"Error",description:"You must be logged in to save preferences.",variant:"destructive"});return}try{await e(a),i({title:"Preferences Saved",description:"Your chore preferences have been updated."})}catch(f){i({title:"Save Failed",description:"Could not save your chore preferences. Please try again.",variant:"destructive"}),console.error("Failed to save chore preferences:",f)}};if(r)return d.jsx("div",{className:"p-4",children:"Loading settings..."});const u=f=>{const h=a.find(p=>p.choreId===f);return h?h.preference:"neutral"};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx("main",{className:"flex-grow p-4 md:p-8",children:d.jsxs(qt,{className:"max-w-2xl mx-auto",children:[d.jsxs(Vr,{children:[d.jsx(zr,{className:"text-2xl font-bold",children:"Settings"}),d.jsx(wl,{children:"Manage your application settings and preferences."})]}),d.jsx(Wt,{className:"space-y-6",children:d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Chore Preferences"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Let us know which chores you like or dislike. This can help with future chore assignments."}),s.length===0&&!r&&d.jsx("p",{className:"text-sm text-muted-foreground",children:"No chores available to set preferences for yet. Add some tasks first!"}),d.jsx("div",{className:"space-y-4",children:s.map(f=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[d.jsx(gt,{htmlFor:`pref-${f.id}`,className:"flex-grow pr-4",children:f.name}),d.jsxs(yi,{value:u(f.id),onValueChange:h=>l(f.id,h),children:[d.jsx(oi,{id:`pref-${f.id}`,className:"w-[150px]",children:d.jsx(xi,{placeholder:"Set preference"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"liked",children:"Liked"}),d.jsx(Ct,{value:"neutral",children:"Neutral"}),d.jsx(Ct,{value:"disliked",children:"Disliked"})]})]})]},f.id))}),s.length>0&&d.jsx(De,{onClick:c,className:"mt-6",disabled:r,children:r?"Saving...":"Save Chore Preferences"})]})})]})}),d.jsx(Pf,{})]})},dOe=t=>{if(!t)return"Uncategorized";const r=yN().find(n=>n.id===t);return r?r.label:"Uncategorized"},_T=({category:t,className:e="h-4 w-4"})=>{switch(t){case"food":return d.jsx(L4,{className:e});case"utilities":return d.jsx(F4,{className:e});case"rent":return d.jsx(O4,{className:e});case"entertainment":return d.jsx(R4,{className:e});case"transportation":return d.jsx(k4,{className:e});case"groceries":return d.jsx(Xr,{className:e});case"household":return d.jsx(Rb,{className:e});case"personal":return d.jsx(pu,{className:e});case"medical":return d.jsx(M4,{className:e});case"other":default:return d.jsx(j4,{className:e})}},E9=({category:t})=>{if(!t)return null;const e=()=>{switch(t){case"food":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"utilities":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"rent":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"entertainment":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300";case"transportation":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/20 dark:text-cyan-300";case"groceries":return"bg-lime-100 text-lime-800 dark:bg-lime-900/20 dark:text-lime-300";case"household":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300";case"personal":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"medical":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"other":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return d.jsxs("div",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${e()}`,children:[d.jsx(_T,{category:t,className:"h-3 w-3 mr-1"}),d.jsx("span",{children:dOe(t)})]})},fOe=()=>{const[t,e]=E.useState("balances"),[r,n]=E.useState([]),[i,a]=E.useState([]),[o,s]=E.useState([]),[l,c]=E.useState(!1),[u,f]=E.useState(null),[h,p]=E.useState(""),[m,g]=E.useState(""),[x,v]=E.useState(""),[y,w]=E.useState(""),[C,A]=E.useState(!1),[O,N]=E.useState("all"),[S,P]=E.useState("all"),[R,I]=E.useState("all"),[k,D]=E.useState("all"),[z,J]=E.useState(void 0),[U,K]=E.useState(null),{toast:$}=_n();E.useEffect(()=>{if(U){const ce=me=>{me.target.closest(".category-menu-container")||K(null)};return document.addEventListener("mousedown",ce),()=>{document.removeEventListener("mousedown",ce)}}},[U]),E.useEffect(()=>{H()},[]);const H=()=>{const ce=Eg();n(ce);const me=ZO();a(me);const we=hye();s(we)},te=ce=>{f(ce),p(ce.amount.toFixed(2)),g(`Payment to ${ce.to.userName}`),v(ce.to.userId),J(void 0),c(!0)},ie=ce=>{gye(ce)&&($({title:"Payment confirmed",description:"The payment has been marked as completed."}),H())},F=ce=>{vye(ce)&&($({title:"Payment cancelled",description:"The payment has been cancelled."}),H())},q=()=>{const ce=i.find(ze=>ze.userName==="You");if(!ce){$({title:"User not found",description:"Could not identify the current user.",variant:"destructive"});return}const me=i.find(ze=>ze.userId===x);if(!me){$({title:"Please select a recipient",description:"You need to select who you're paying.",variant:"destructive"});return}const we=parseFloat(h);if(isNaN(we)||we<=0){$({title:"Invalid amount",description:"Please enter a valid payment amount.",variant:"destructive"});return}mye(ce.userId,ce.userName,me.userId,me.userName,we,m||`Payment to ${me.userName}`,z)&&($({title:"Payment created",description:`You've created a payment of $${we.toFixed(2)} to ${me.userName}.`}),c(!1),v(""),H())},Q=()=>{f(null),p(""),g(""),v(""),J(void 0),c(!0)},se=i.find(ce=>ce.userName==="You"),G=(se==null?void 0:se.netBalance)&&se.netBalance>0,le=(se==null?void 0:se.netBalance)&&se.netBalance<0,de=o.filter(ce=>ce.from.userName==="You"||ce.to.userName==="You"),ae=r.filter(ce=>ce.status==="pending");r.filter(ce=>ce.status==="completed");const ye=r.filter(ce=>{if(O!=="all"&&ce.status!==O||S!=="all"&&ce.type!==S||k!=="all"&&ce.category!==k)return!1;if(R!=="all"){if(R==="sent"&&ce.fromUserName!=="You")return!1;if(R==="received"&&ce.toUserName!=="You")return!1}if(y.trim()){const me=y.toLowerCase();return ce.description.toLowerCase().includes(me)||ce.fromUserName.toLowerCase().includes(me)||ce.toUserName.toLowerCase().includes(me)||`$${ce.amount.toFixed(2)}`.includes(me)||ce.category&&ce.category.toLowerCase().includes(me)}return!0}),ge=ae.filter(ce=>{if(O!=="all"&&O!=="pending"||S!=="all"&&ce.type!==S||k!=="all"&&ce.category!==k)return!1;if(R!=="all"){if(R==="sent"&&ce.fromUserName!=="You")return!1;if(R==="received"&&ce.toUserName!=="You")return!1}if(y.trim()){const me=y.toLowerCase();return ce.description.toLowerCase().includes(me)||ce.fromUserName.toLowerCase().includes(me)||ce.toUserName.toLowerCase().includes(me)||`$${ce.amount.toFixed(2)}`.includes(me)||ce.category&&ce.category.toLowerCase().includes(me)}return!0}),ve=ye.reduce((ce,me)=>{const we=new Date(me.timestamp).toDateString();return ce[we]||(ce[we]=[]),ce[we].push(me),ce},{}),Re=Object.keys(ve).sort((ce,me)=>new Date(me).getTime()-new Date(ce).getTime()),Me=ge.length>0?{"Pending Transactions":ge}:{},Se=()=>{w(""),N("all"),P("all"),I("all"),D("all"),A(!1)},W=()=>{const ce=["Date","Description","Amount","From","To","Type","Status"],me=O==="all"&&S==="all"&&R==="all"&&!y.trim()?r:ye,we=me.map(Te=>[Ya(new Date(Te.timestamp),"yyyy-MM-dd"),Te.description,Te.amount.toFixed(2),Te.fromUserName,Te.toUserName,Te.type.charAt(0).toUpperCase()+Te.type.slice(1),Te.status.charAt(0).toUpperCase()+Te.status.slice(1)]),Ue=[ce.join(","),...we.map(Te=>Te.map(Fe=>`"${Fe}"`).join(","))].join(`
`),ze=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),et=URL.createObjectURL(ze),at=document.createElement("a");at.setAttribute("href",et),at.setAttribute("download",`ledger-transactions-${Ya(new Date,"yyyy-MM-dd")}.csv`),at.style.visibility="hidden",document.body.appendChild(at),at.click(),document.body.removeChild(at),$({title:"Export successful",description:`${me.length} transactions exported as CSV.`})};i.filter(ce=>ce.userName!=="You");const Pe=(ce,me)=>{yye(ce,me)&&($({title:"Category updated",description:"The transaction category has been updated."}),K(null),H())};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(Pf,{}),d.jsxs("main",{className:"flex-grow w-full px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[d.jsxs("header",{className:"mb-6 md:mb-8",children:[d.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Ledger"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track expenses and settle debts with your household"})]}),d.jsx(qt,{className:"mb-6 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:d.jsx(Wt,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Balance"}),(se==null?void 0:se.netBalance)===0?d.jsxs("div",{className:"relative",children:[d.jsxs(ot.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"$0.00"}),d.jsx(ot.div,{initial:{opacity:0,scale:0,rotate:-45},animate:{opacity:1,scale:1,rotate:0},transition:{delay:.3,duration:.5,type:"spring"},className:"bg-green-500 dark:bg-green-600 text-white rounded-full p-1",children:d.jsx(dc,{className:"h-4 w-4"})})]}),d.jsx(ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"All settled up! 🎉"})]}):d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("span",{className:`text-2xl font-bold ${G?"text-green-600 dark:text-green-400":le?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-200"}`,children:se!=null&&se.netBalance?`$${Math.abs(se.netBalance).toFixed(2)}`:"$0.00"}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:G?"owed to you":le?"you owe":""})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(De,{onClick:Q,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(ih,{className:"mr-2 h-4 w-4"}),"Send Money"]}),d.jsx(De,{onClick:H,variant:"outline",className:"border-gray-200 dark:border-gray-700",children:d.jsx(Bse,{className:"h-4 w-4"})})]})]})})}),de.length>0&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Recommended Payments"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:de.map((ce,me)=>d.jsxs(qt,{className:"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col overflow-hidden",children:[d.jsx("div",{className:`h-2 w-full ${ce.from.userName==="You"?"bg-gradient-to-r from-amber-400 to-red-400":"bg-gradient-to-r from-green-400 to-teal-400"}`}),d.jsxs(Vr,{className:"p-4 pb-2",children:[d.jsxs(zr,{className:"text-lg font-semibold flex items-center justify-between",children:[ce.from.userName==="You"?"You should pay":"Incoming payment",d.jsx(Qt,{variant:ce.from.userName==="You"?"destructive":"secondary",className:"ml-2",children:ce.from.userName==="You"?"Outgoing":"Incoming"})]}),d.jsx(wl,{className:"text-sm text-gray-500 dark:text-gray-400",children:ce.from.userName==="You"?`You owe ${ce.to.userName} money`:`${ce.from.userName} owes you money`})]}),d.jsx(Wt,{className:"p-4 pt-2 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Aa,{className:"h-8 w-8",children:d.jsx(Ea,{className:`${ce.from.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:ce.from.userName==="You"?"Y":ce.from.userName.charAt(0)})}),d.jsx(I4,{className:"h-4 w-4 mx-1 text-gray-400"}),d.jsx(Aa,{className:"h-8 w-8",children:d.jsx(Ea,{className:`${ce.to.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:ce.to.userName==="You"?"Y":ce.to.userName.charAt(0)})})]}),d.jsxs("div",{className:"text-xl font-bold",children:["$",ce.amount.toFixed(2)]})]})}),d.jsx(ay,{className:"p-3 pt-0 flex gap-2 justify-end border-t border-gray-100 dark:border-gray-800",children:ce.from.userName==="You"?d.jsxs(d.Fragment,{children:[d.jsxs(De,{variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>{$({title:"Reminder added",description:"You'll be reminded about this payment later."})},children:[d.jsx(ta,{className:"h-4 w-4 mr-1"}),"Remind me"]}),d.jsxs(De,{onClick:()=>te(ce),size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(ih,{className:"h-4 w-4 mr-1"}),"Pay now"]})]}):d.jsxs(De,{variant:"outline",size:"sm",className:"border-green-500 text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{$({title:"Payment request sent",description:`A payment reminder was sent to ${ce.from.userName}.`})},children:[d.jsx(ih,{className:"h-4 w-4 mr-1"}),"Request payment"]})})]},me))})]}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Transaction History"}),r.length>0&&d.jsxs(De,{variant:"outline",size:"sm",className:"h-8 text-xs border-gray-200 dark:border-gray-700",onClick:W,children:[d.jsx(Xv,{className:"h-4 w-4 mr-1.5"}),"Export Transactions"]})]}),d.jsxs(yp,{value:t,onValueChange:e,children:[d.jsxs(If,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[d.jsx(Cn,{value:"balances",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Balances"}),d.jsxs(Cn,{value:"transactions",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm relative",children:["Transactions",ge.length>0&&d.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-yellow-500 dark:bg-yellow-600 text-[10px] text-white px-1 font-semibold",children:ge.length})]})]}),d.jsx(Nn,{value:"balances",className:"mt-0",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.length>0?i.map(ce=>d.jsx(qt,{className:"border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:d.jsx(Wt,{className:"p-4 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Aa,{className:"h-10 w-10",children:d.jsx(Ea,{className:`${ce.userName==="You"?"bg-gradient-to-br from-blue-500 to-green-500 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:ce.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:ce.userName}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ce.userName==="You"?G?"Others owe you":le?"You owe others":"All settled up":ce.netBalance>0?`Owes you $${ce.netBalance.toFixed(2)}`:ce.netBalance<0?`You owe $${Math.abs(ce.netBalance).toFixed(2)}`:"All settled up"})]})]}),d.jsx("div",{className:`text-lg font-semibold ${ce.userName!=="You"&&ce.netBalance>0?"text-green-600 dark:text-green-400":ce.userName!=="You"&&ce.netBalance<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:ce.userName!=="You"&&ce.netBalance!==0&&`${ce.netBalance>0?"+":""}$${ce.netBalance.toFixed(2)}`})]})})},ce.userId)):d.jsx(qt,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:d.jsxs(Wt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(S0,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No balance information"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making transactions to track balances"})]})})})}),d.jsxs(Nn,{value:"transactions",className:"mt-0",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"relative mb-3",children:[d.jsx(lx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(ur,{placeholder:"Search transactions...",value:y,onChange:ce=>w(ce.target.value),className:"pl-9 pr-12"}),y&&d.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(""),children:d.jsx(Xa,{className:"h-4 w-4"})}),d.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${C?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>A(!C),children:d.jsx(Kse,{className:"h-4 w-4"})})]}),C&&d.jsx(qt,{className:"mb-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:d.jsxs(Wt,{className:"p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Filters"}),d.jsxs(De,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2 text-blue-600 dark:text-blue-400",onClick:Se,children:[d.jsx(Ose,{className:"h-3.5 w-3.5 mr-1"}),"Reset filters"]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"status-filter",className:"text-xs mb-1.5",children:"Status"}),d.jsxs(yi,{value:O,onValueChange:N,children:[d.jsx(oi,{id:"status-filter",className:"h-8 text-xs",children:d.jsx(xi,{placeholder:"Filter by status"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"all",children:"All Statuses"}),d.jsx(Ct,{value:"pending",children:"Pending"}),d.jsx(Ct,{value:"completed",children:"Completed"}),d.jsx(Ct,{value:"cancelled",children:"Cancelled"})]})]})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"type-filter",className:"text-xs mb-1.5",children:"Type"}),d.jsxs(yi,{value:S,onValueChange:P,children:[d.jsx(oi,{id:"type-filter",className:"h-8 text-xs",children:d.jsx(xi,{placeholder:"Filter by type"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"all",children:"All Types"}),d.jsx(Ct,{value:"payment",children:"Payments"}),d.jsx(Ct,{value:"expense",children:"Expenses"})]})]})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"user-filter",className:"text-xs mb-1.5",children:"Direction"}),d.jsxs(yi,{value:R,onValueChange:I,children:[d.jsx(oi,{id:"user-filter",className:"h-8 text-xs",children:d.jsx(xi,{placeholder:"Filter by user"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"all",children:"All Transactions"}),d.jsx(Ct,{value:"sent",children:"Sent by You"}),d.jsx(Ct,{value:"received",children:"Received by You"})]})]})]}),d.jsxs("div",{children:[d.jsx(gt,{htmlFor:"category-filter",className:"text-xs mb-1.5",children:"Category"}),d.jsxs(yi,{value:k,onValueChange:D,children:[d.jsx(oi,{id:"category-filter",className:"h-8 text-xs",children:d.jsx(xi,{placeholder:"Filter by category"})}),d.jsxs(si,{children:[d.jsx(Ct,{value:"all",children:"All Categories"}),d.jsxs(Ct,{value:"food",className:"flex items-center",children:[d.jsx(L4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Food & Dining"})]}),d.jsxs(Ct,{value:"groceries",className:"flex items-center",children:[d.jsx(Xr,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Groceries"})]}),d.jsxs(Ct,{value:"household",className:"flex items-center",children:[d.jsx(Rb,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Household"})]}),d.jsxs(Ct,{value:"utilities",className:"flex items-center",children:[d.jsx(F4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Utilities"})]}),d.jsxs(Ct,{value:"rent",className:"flex items-center",children:[d.jsx(O4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Rent & Mortgage"})]}),d.jsxs(Ct,{value:"transportation",className:"flex items-center",children:[d.jsx(k4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Transportation"})]}),d.jsxs(Ct,{value:"entertainment",className:"flex items-center",children:[d.jsx(R4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Entertainment"})]}),d.jsxs(Ct,{value:"personal",className:"flex items-center",children:[d.jsx(pu,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Personal"})]}),d.jsxs(Ct,{value:"medical",className:"flex items-center",children:[d.jsx(M4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Medical"})]}),d.jsxs(Ct,{value:"other",className:"flex items-center",children:[d.jsx(j4,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Other"})]})]})]})]})]})]})})]}),ge.length>0&&d.jsx("div",{className:"mb-6 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-yellow-100 dark:bg-yellow-900/50",children:d.jsx(ta,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Pending Payments"}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",ge.length," pending payment",ge.length!==1?"s":""," that ",ge.length!==1?"need":"needs"," attention"]})]})]})})]}),Re.length>0||ae.length>0?d.jsxs("div",{className:"space-y-6",children:[Object.entries(Me).map(([ce,me])=>d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-yellow-500/10 via-yellow-500/20 to-yellow-500/10 dark:from-yellow-900/20 dark:via-yellow-900/30 dark:to-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800/50",children:[ce," (",me.length,")"]}),d.jsx("div",{className:"space-y-3",children:me.map(we=>d.jsxs(qt,{className:`border shadow-sm ${we.status==="pending"?"border-yellow-500/50 dark:border-yellow-400/40 ring-1 ring-yellow-400/30 dark:ring-yellow-500/30":"border-gray-200 dark:border-gray-700"} flex flex-col`,children:[we.status==="pending"&&d.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-yellow-400 to-yellow-500"}),d.jsx(Wt,{className:`p-4 flex-grow ${we.status==="pending"?"bg-yellow-50/50 dark:bg-yellow-900/10":""}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${we.type==="payment"?we.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30":we.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:we.status==="pending"&&we.type==="payment"?d.jsx(ta,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):we.type==="payment"?d.jsx(ih,{className:`h-5 w-5 ${we.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):we.type==="expense"?d.jsx(Zv,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):d.jsx(As,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:we.description}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),d.jsxs("span",{children:[Ya(new Date(we.timestamp),"MMM d, yyyy")," · ",T0(new Date(we.timestamp))," ago"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"From:"}),d.jsx(Aa,{className:"h-5 w-5 mr-1",children:d.jsx(Ea,{className:"text-xs",children:we.fromUserName.charAt(0)})}),d.jsx("span",{children:we.fromUserName})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"To:"}),d.jsx(Aa,{className:"h-5 w-5 mr-1",children:d.jsx(Ea,{className:"text-xs",children:we.toUserName.charAt(0)})}),d.jsx("span",{children:we.toUserName})]})]}),d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("div",{className:"relative inline-block category-menu-container",children:[we.category?d.jsx("div",{className:"cursor-pointer",onClick:Ue=>{Ue.stopPropagation(),K(U===we.id?null:we.id)},children:d.jsx(E9,{category:we.category})}):d.jsxs(De,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:Ue=>{Ue.stopPropagation(),K(U===we.id?null:we.id)},children:[d.jsx(TR,{className:"h-3 w-3 mr-1"}),"Categorize"]}),U===we.id&&d.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[d.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),d.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),K(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(Xa,{className:"h-3 w-3"})})]}),yN().map(Ue=>d.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:ze=>{ze.stopPropagation(),Pe(we.id,Ue.id)},children:[d.jsx(_T,{category:Ue.id,className:"h-3.5 w-3.5"}),d.jsx("span",{children:Ue.label})]},Ue.id))]})]})}),we.status==="pending"&&we.type==="payment"&&d.jsx("div",{className:"flex gap-2 mt-3",children:we.fromUserName==="You"?d.jsxs(Qt,{variant:"outline",className:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[d.jsx(ta,{className:"h-3 w-3 mr-1"}),"Awaiting confirmation"]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(De,{size:"sm",variant:"outline",className:"h-7 px-2 border-red-200 hover:border-red-300 dark:border-red-900 dark:hover:border-red-800",onClick:()=>F(we.id),children:[d.jsx(Xa,{className:"h-3 w-3 mr-1 text-red-600 dark:text-red-400"}),d.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Decline"})]}),d.jsxs(De,{size:"sm",className:"h-7 px-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",onClick:()=>ie(we.id),children:[d.jsx(dc,{className:"h-3 w-3 mr-1"}),d.jsx("span",{className:"text-xs",children:"Confirm"})]})]})})]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:`font-semibold ${we.fromUserName==="You"?"text-red-600 dark:text-red-400":we.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:we.fromUserName==="You"?`-$${we.amount.toFixed(2)}`:we.toUserName==="You"?`+$${we.amount.toFixed(2)}`:`$${we.amount.toFixed(2)}`}),d.jsx(Qt,{className:`mt-1 ${we.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":we.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:we.status.charAt(0).toUpperCase()+we.status.slice(1)})]})]})})]},we.id))})]},ce)),Re.map(ce=>d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",children:Ya(new Date(ce),"MMMM d, yyyy")}),d.jsx("div",{className:"space-y-3",children:ve[ce].filter(me=>me.status!=="pending").map(me=>d.jsx(qt,{className:"border shadow-sm border-gray-200 dark:border-gray-700 flex flex-col",children:d.jsx(Wt,{className:"p-4 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${me.type==="payment"?"bg-blue-100 dark:bg-blue-900/30":me.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:me.type==="payment"?d.jsx(ih,{className:`h-5 w-5 ${me.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):me.type==="expense"?d.jsx(Zv,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):d.jsx(As,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:me.description}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),d.jsxs("span",{children:[Ya(new Date(me.timestamp),"MMM d, yyyy")," · ",T0(new Date(me.timestamp))," ago"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"From:"}),d.jsx(Aa,{className:"h-5 w-5 mr-1",children:d.jsx(Ea,{className:"text-xs",children:me.fromUserName.charAt(0)})}),d.jsx("span",{children:me.fromUserName})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"To:"}),d.jsx(Aa,{className:"h-5 w-5 mr-1",children:d.jsx(Ea,{className:"text-xs",children:me.toUserName.charAt(0)})}),d.jsx("span",{children:me.toUserName})]})]}),d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("div",{className:"relative inline-block category-menu-container",children:[me.category?d.jsx("div",{className:"cursor-pointer",onClick:we=>{we.stopPropagation(),K(U===me.id?null:me.id)},children:d.jsx(E9,{category:me.category})}):d.jsxs(De,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:we=>{we.stopPropagation(),K(U===me.id?null:me.id)},children:[d.jsx(TR,{className:"h-3 w-3 mr-1"}),"Categorize"]}),U===me.id&&d.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[d.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),d.jsx("button",{onClick:we=>{we.stopPropagation(),K(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(Xa,{className:"h-3 w-3"})})]}),yN().map(we=>d.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:Ue=>{Ue.stopPropagation(),Pe(me.id,we.id)},children:[d.jsx(_T,{category:we.id,className:"h-3.5 w-3.5"}),d.jsx("span",{children:we.label})]},we.id))]})]})})]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:`font-semibold ${me.fromUserName==="You"?"text-red-600 dark:text-red-400":me.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:me.fromUserName==="You"?`-$${me.amount.toFixed(2)}`:me.toUserName==="You"?`+$${me.amount.toFixed(2)}`:`$${me.amount.toFixed(2)}`}),d.jsx(Qt,{className:`mt-1 ${me.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":me.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:me.status.charAt(0).toUpperCase()+me.status.slice(1)})]})]})})},me.id))})]},ce))]}):d.jsx(qt,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:d.jsxs(Wt,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Xm,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making payments or logging expenses"}),d.jsxs(De,{onClick:Q,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(ih,{className:"mr-2 h-4 w-4"}),"Send Money"]})]})})]})]})]}),d.jsx(Hi,{open:l,onOpenChange:c,children:d.jsxs(Ci,{className:"sm:max-w-md",children:[d.jsxs(Ni,{children:[d.jsx(Ti,{children:"Send Payment"}),d.jsx(Jo,{children:"Create a payment to settle your balance."})]}),d.jsxs("div",{className:"space-y-4 py-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{htmlFor:"recipient",children:"Recipient"}),d.jsxs(yi,{value:x,onValueChange:v,children:[d.jsx(oi,{children:d.jsx(xi,{placeholder:"Select recipient"})}),d.jsx(si,{children:i.filter(ce=>ce.userName!=="You").map(ce=>d.jsx(Ct,{value:ce.userId,children:ce.userName},ce.userId))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{htmlFor:"amount",children:"Amount"}),d.jsxs("div",{className:"relative",children:[d.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(ur,{id:"amount",value:h,onChange:ce=>p(ce.target.value),className:"pl-9",placeholder:"0.00"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{htmlFor:"description",children:"Description (optional)"}),d.jsx(ur,{id:"description",value:m,onChange:ce=>g(ce.target.value),placeholder:"Payment for groceries, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(gt,{htmlFor:"category",children:"Category (optional)"}),d.jsxs(yi,{value:z,onValueChange:ce=>J(ce),children:[d.jsx(oi,{id:"category",className:"w-full",children:d.jsx(xi,{placeholder:"Select a category"})}),d.jsxs(si,{children:[d.jsxs(Ct,{value:"food",className:"flex items-center gap-2",children:[d.jsx(L4,{className:"h-4 w-4"}),d.jsx("span",{children:"Food & Dining"})]}),d.jsxs(Ct,{value:"groceries",className:"flex items-center gap-2",children:[d.jsx(Xr,{className:"h-4 w-4"}),d.jsx("span",{children:"Groceries"})]}),d.jsxs(Ct,{value:"household",className:"flex items-center gap-2",children:[d.jsx(Rb,{className:"h-4 w-4"}),d.jsx("span",{children:"Household"})]}),d.jsxs(Ct,{value:"utilities",className:"flex items-center gap-2",children:[d.jsx(F4,{className:"h-4 w-4"}),d.jsx("span",{children:"Utilities"})]}),d.jsxs(Ct,{value:"rent",className:"flex items-center gap-2",children:[d.jsx(O4,{className:"h-4 w-4"}),d.jsx("span",{children:"Rent & Mortgage"})]}),d.jsxs(Ct,{value:"transportation",className:"flex items-center gap-2",children:[d.jsx(k4,{className:"h-4 w-4"}),d.jsx("span",{children:"Transportation"})]}),d.jsxs(Ct,{value:"entertainment",className:"flex items-center gap-2",children:[d.jsx(R4,{className:"h-4 w-4"}),d.jsx("span",{children:"Entertainment"})]}),d.jsxs(Ct,{value:"personal",className:"flex items-center gap-2",children:[d.jsx(pu,{className:"h-4 w-4"}),d.jsx("span",{children:"Personal"})]}),d.jsxs(Ct,{value:"medical",className:"flex items-center gap-2",children:[d.jsx(M4,{className:"h-4 w-4"}),d.jsx("span",{children:"Medical"})]}),d.jsxs(Ct,{value:"other",className:"flex items-center gap-2",children:[d.jsx(j4,{className:"h-4 w-4"}),d.jsx("span",{children:"Other"})]})]})]})]})]}),d.jsxs(hc,{className:"flex justify-between sm:justify-between gap-2",children:[d.jsx(De,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(De,{onClick:q,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(ih,{className:"mr-2 h-4 w-4"}),"Send Payment"]})]})]})})]})},hOe=()=>{const t=Rs();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var pOe=Array.isArray,Po=pOe,mOe=typeof xm=="object"&&xm&&xm.Object===Object&&xm,qJ=mOe,gOe=qJ,vOe=typeof self=="object"&&self&&self.Object===Object&&self,yOe=gOe||vOe||Function("return this")(),_c=yOe,xOe=_c,wOe=xOe.Symbol,jx=wOe,C9=jx,WJ=Object.prototype,bOe=WJ.hasOwnProperty,_Oe=WJ.toString,j1=C9?C9.toStringTag:void 0;function SOe(t){var e=bOe.call(t,j1),r=t[j1];try{t[j1]=void 0;var n=!0}catch{}var i=_Oe.call(t);return n&&(e?t[j1]=r:delete t[j1]),i}var AOe=SOe,EOe=Object.prototype,COe=EOe.toString;function NOe(t){return COe.call(t)}var TOe=NOe,N9=jx,POe=AOe,IOe=TOe,OOe="[object Null]",kOe="[object Undefined]",T9=N9?N9.toStringTag:void 0;function jOe(t){return t==null?t===void 0?kOe:OOe:T9&&T9 in Object(t)?POe(t):IOe(t)}var Pu=jOe;function ROe(t){return t!=null&&typeof t=="object"}var Iu=ROe,DOe=Pu,MOe=Iu,LOe="[object Symbol]";function FOe(t){return typeof t=="symbol"||MOe(t)&&DOe(t)==LOe}var Dg=FOe,BOe=Po,$Oe=Dg,UOe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VOe=/^\w*$/;function zOe(t,e){if(BOe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||$Oe(t)?!0:VOe.test(t)||!UOe.test(t)||e!=null&&t in Object(e)}var A6=zOe;function HOe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jf=HOe;const Mg=Rr(jf);var qOe=Pu,WOe=jf,GOe="[object AsyncFunction]",KOe="[object Function]",YOe="[object GeneratorFunction]",XOe="[object Proxy]";function QOe(t){if(!WOe(t))return!1;var e=qOe(t);return e==KOe||e==YOe||e==GOe||e==XOe}var E6=QOe;const er=Rr(E6);var ZOe=_c,JOe=ZOe["__core-js_shared__"],eke=JOe,nC=eke,P9=function(){var t=/[^.]+$/.exec(nC&&nC.keys&&nC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tke(t){return!!P9&&P9 in t}var rke=tke,nke=Function.prototype,ike=nke.toString;function ake(t){if(t!=null){try{return ike.call(t)}catch{}try{return t+""}catch{}}return""}var GJ=ake,oke=E6,ske=rke,lke=jf,cke=GJ,uke=/[\\^$.*+?()[\]{}|]/g,dke=/^\[object .+?Constructor\]$/,fke=Function.prototype,hke=Object.prototype,pke=fke.toString,mke=hke.hasOwnProperty,gke=RegExp("^"+pke.call(mke).replace(uke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vke(t){if(!lke(t)||ske(t))return!1;var e=oke(t)?gke:dke;return e.test(cke(t))}var yke=vke;function xke(t,e){return t==null?void 0:t[e]}var wke=xke,bke=yke,_ke=wke;function Ske(t,e){var r=_ke(t,e);return bke(r)?r:void 0}var Ap=Ske,Ake=Ap,Eke=Ake(Object,"create"),tA=Eke,I9=tA;function Cke(){this.__data__=I9?I9(null):{},this.size=0}var Nke=Cke;function Tke(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pke=Tke,Ike=tA,Oke="__lodash_hash_undefined__",kke=Object.prototype,jke=kke.hasOwnProperty;function Rke(t){var e=this.__data__;if(Ike){var r=e[t];return r===Oke?void 0:r}return jke.call(e,t)?e[t]:void 0}var Dke=Rke,Mke=tA,Lke=Object.prototype,Fke=Lke.hasOwnProperty;function Bke(t){var e=this.__data__;return Mke?e[t]!==void 0:Fke.call(e,t)}var $ke=Bke,Uke=tA,Vke="__lodash_hash_undefined__";function zke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Uke&&e===void 0?Vke:e,this}var Hke=zke,qke=Nke,Wke=Pke,Gke=Dke,Kke=$ke,Yke=Hke;function Lg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lg.prototype.clear=qke;Lg.prototype.delete=Wke;Lg.prototype.get=Gke;Lg.prototype.has=Kke;Lg.prototype.set=Yke;var Xke=Lg;function Qke(){this.__data__=[],this.size=0}var Zke=Qke;function Jke(t,e){return t===e||t!==t&&e!==e}var C6=Jke,e6e=C6;function t6e(t,e){for(var r=t.length;r--;)if(e6e(t[r][0],e))return r;return-1}var rA=t6e,r6e=rA,n6e=Array.prototype,i6e=n6e.splice;function a6e(t){var e=this.__data__,r=r6e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():i6e.call(e,r,1),--this.size,!0}var o6e=a6e,s6e=rA;function l6e(t){var e=this.__data__,r=s6e(e,t);return r<0?void 0:e[r][1]}var c6e=l6e,u6e=rA;function d6e(t){return u6e(this.__data__,t)>-1}var f6e=d6e,h6e=rA;function p6e(t,e){var r=this.__data__,n=h6e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var m6e=p6e,g6e=Zke,v6e=o6e,y6e=c6e,x6e=f6e,w6e=m6e;function Fg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fg.prototype.clear=g6e;Fg.prototype.delete=v6e;Fg.prototype.get=y6e;Fg.prototype.has=x6e;Fg.prototype.set=w6e;var nA=Fg,b6e=Ap,_6e=_c,S6e=b6e(_6e,"Map"),N6=S6e,O9=Xke,A6e=nA,E6e=N6;function C6e(){this.size=0,this.__data__={hash:new O9,map:new(E6e||A6e),string:new O9}}var N6e=C6e;function T6e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var P6e=T6e,I6e=P6e;function O6e(t,e){var r=t.__data__;return I6e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var iA=O6e,k6e=iA;function j6e(t){var e=k6e(this,t).delete(t);return this.size-=e?1:0,e}var R6e=j6e,D6e=iA;function M6e(t){return D6e(this,t).get(t)}var L6e=M6e,F6e=iA;function B6e(t){return F6e(this,t).has(t)}var $6e=B6e,U6e=iA;function V6e(t,e){var r=U6e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var z6e=V6e,H6e=N6e,q6e=R6e,W6e=L6e,G6e=$6e,K6e=z6e;function Bg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bg.prototype.clear=H6e;Bg.prototype.delete=q6e;Bg.prototype.get=W6e;Bg.prototype.has=G6e;Bg.prototype.set=K6e;var T6=Bg,KJ=T6,Y6e="Expected a function";function P6(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Y6e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(P6.Cache||KJ),r}P6.Cache=KJ;var YJ=P6;const X6e=Rr(YJ);var Q6e=YJ,Z6e=500;function J6e(t){var e=Q6e(t,function(n){return r.size===Z6e&&r.clear(),n}),r=e.cache;return e}var e8e=J6e,t8e=e8e,r8e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n8e=/\\(\\)?/g,i8e=t8e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(r8e,function(r,n,i,a){e.push(i?a.replace(n8e,"$1"):n||r)}),e}),a8e=i8e;function o8e(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var I6=o8e,k9=jx,s8e=I6,l8e=Po,c8e=Dg,j9=k9?k9.prototype:void 0,R9=j9?j9.toString:void 0;function XJ(t){if(typeof t=="string")return t;if(l8e(t))return s8e(t,XJ)+"";if(c8e(t))return R9?R9.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var u8e=XJ,d8e=u8e;function f8e(t){return t==null?"":d8e(t)}var QJ=f8e,h8e=Po,p8e=A6,m8e=a8e,g8e=QJ;function v8e(t,e){return h8e(t)?t:p8e(t,e)?[t]:m8e(g8e(t))}var ZJ=v8e,y8e=Dg;function x8e(t){if(typeof t=="string"||y8e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var aA=x8e,w8e=ZJ,b8e=aA;function _8e(t,e){e=w8e(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[b8e(e[r++])];return r&&r==n?t:void 0}var O6=_8e,S8e=O6;function A8e(t,e,r){var n=t==null?void 0:S8e(t,e);return n===void 0?r:n}var JJ=A8e;const Ts=Rr(JJ);function E8e(t){return t==null}var C8e=E8e;const lr=Rr(C8e);var N8e=Pu,T8e=Po,P8e=Iu,I8e="[object String]";function O8e(t){return typeof t=="string"||!T8e(t)&&P8e(t)&&N8e(t)==I8e}var k8e=O8e;const ip=Rr(k8e);var eee={exports:{}},qr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k6=Symbol.for("react.element"),j6=Symbol.for("react.portal"),oA=Symbol.for("react.fragment"),sA=Symbol.for("react.strict_mode"),lA=Symbol.for("react.profiler"),cA=Symbol.for("react.provider"),uA=Symbol.for("react.context"),j8e=Symbol.for("react.server_context"),dA=Symbol.for("react.forward_ref"),fA=Symbol.for("react.suspense"),hA=Symbol.for("react.suspense_list"),pA=Symbol.for("react.memo"),mA=Symbol.for("react.lazy"),R8e=Symbol.for("react.offscreen"),tee;tee=Symbol.for("react.module.reference");function Ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k6:switch(t=t.type,t){case oA:case lA:case sA:case fA:case hA:return t;default:switch(t=t&&t.$$typeof,t){case j8e:case uA:case dA:case mA:case pA:case cA:return t;default:return e}}case j6:return e}}}qr.ContextConsumer=uA;qr.ContextProvider=cA;qr.Element=k6;qr.ForwardRef=dA;qr.Fragment=oA;qr.Lazy=mA;qr.Memo=pA;qr.Portal=j6;qr.Profiler=lA;qr.StrictMode=sA;qr.Suspense=fA;qr.SuspenseList=hA;qr.isAsyncMode=function(){return!1};qr.isConcurrentMode=function(){return!1};qr.isContextConsumer=function(t){return Ms(t)===uA};qr.isContextProvider=function(t){return Ms(t)===cA};qr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k6};qr.isForwardRef=function(t){return Ms(t)===dA};qr.isFragment=function(t){return Ms(t)===oA};qr.isLazy=function(t){return Ms(t)===mA};qr.isMemo=function(t){return Ms(t)===pA};qr.isPortal=function(t){return Ms(t)===j6};qr.isProfiler=function(t){return Ms(t)===lA};qr.isStrictMode=function(t){return Ms(t)===sA};qr.isSuspense=function(t){return Ms(t)===fA};qr.isSuspenseList=function(t){return Ms(t)===hA};qr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oA||t===lA||t===sA||t===fA||t===hA||t===R8e||typeof t=="object"&&t!==null&&(t.$$typeof===mA||t.$$typeof===pA||t.$$typeof===cA||t.$$typeof===uA||t.$$typeof===dA||t.$$typeof===tee||t.getModuleId!==void 0)};qr.typeOf=Ms;eee.exports=qr;var D8e=eee.exports,M8e=Pu,L8e=Iu,F8e="[object Number]";function B8e(t){return typeof t=="number"||L8e(t)&&M8e(t)==F8e}var ree=B8e;const $8e=Rr(ree);var U8e=ree;function V8e(t){return U8e(t)&&t!=+t}var z8e=V8e;const Rx=Rr(z8e);var vl=function(e){return e===0?0:e>0?1:-1},Ih=function(e){return ip(e)&&e.indexOf("%")===e.length-1},ut=function(e){return $8e(e)&&!Rx(e)},Ai=function(e){return ut(e)||ip(e)},H8e=0,Dx=function(e){var r=++H8e;return"".concat(e||"").concat(r)},ap=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(e)&&!ip(e))return n;var a;if(Ih(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Rx(a)&&(a=n),i&&a>r&&(a=r),a},Id=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},q8e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ul=function(e,r){return ut(e)&&ut(r)?function(n){return e+n*(r-e)}:function(){return r}};function T_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ts(n,e))===r})}var W8e=function(e,r){return ut(e)&&ut(r)?e-r:ip(e)&&ip(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function d0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ST(t){"@babel/helpers - typeof";return ST=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(t)}var G8e=["viewBox","children"],K8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],D9=["points","pathLength"],iC={svg:G8e,polygon:D9,polyline:D9},R6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],P_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!Mg(n))return null;var i={};return Object.keys(n).forEach(function(a){R6.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Y8e=function(e,r,n){return function(i){return e(r,n,i),null}},I_=function(e,r,n){if(!Mg(e)||ST(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];R6.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Y8e(o,r,n))}),i},X8e=["children"],Q8e=["children"];function M9(t,e){if(t==null)return{};var r=Z8e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AT(t){"@babel/helpers - typeof";return AT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AT(t)}var L9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ou=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},F9=null,aC=null,D6=function t(e){if(e===F9&&Array.isArray(aC))return aC;var r=[];return E.Children.forEach(e,function(n){lr(n)||(D8e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),aC=r,F9=e,r};function Ps(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ou(i)}):n=[ou(e)],D6(t).forEach(function(i){var a=Ts(i,"type.displayName")||Ts(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function zo(t,e){var r=Ps(t,e);return r&&r[0]}var B9=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ut(n)||n<=0||!ut(i)||i<=0)},J8e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eje=function(e){return e&&e.type&&ip(e.type)&&J8e.indexOf(e.type)>=0},tje=function(e){return e&&AT(e)==="object"&&"clipDot"in e},rje=function(e,r,n,i){var a,o=(a=iC==null?void 0:iC[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!er(e)&&(i&&o.includes(r)||K8e.includes(r))||n&&R6.includes(r)},cr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!Mg(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;rje((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},ET=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return $9(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$9(a,o))return!1}return!0},$9=function(e,r){if(lr(e)&&lr(r))return!0;if(!lr(e)&&!lr(r)){var n=e.props||{},i=n.children,a=M9(n,X8e),o=r.props||{},s=o.children,l=M9(o,Q8e);return i&&s?d0(a,l)&&ET(i,s):!i&&!s?d0(a,l):!1}return!1},U9=function(e,r){var n=[],i={};return D6(e).forEach(function(a,o){if(eje(a))n.push(a);else if(a){var s=ou(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},nje=function(e){var r=e&&e.type;return r&&L9[r]?L9[r]:null},ije=function(e,r){return D6(r).indexOf(e)},aje=["children","width","height","viewBox","className","style","title","desc"];function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function oje(t,e){if(t==null)return{};var r=sje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NT(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=oje(t,aje),u=i||{width:r,height:n,x:0,y:0},f=pr("recharts-surface",a);return he.createElement("svg",CT({},cr(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),he.createElement("title",null,s),he.createElement("desc",null,l),e)}var lje=["children","className"];function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TT.apply(this,arguments)}function cje(t,e){if(t==null)return{};var r=uje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yn=he.forwardRef(function(t,e){var r=t.children,n=t.className,i=cje(t,lje),a=pr("recharts-layer",n);return he.createElement("g",TT({className:a},cr(i,!0),{ref:e}),r)}),su=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function dje(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var fje=dje,hje=fje;function pje(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:hje(t,e,r)}var mje=pje,gje="\\ud800-\\udfff",vje="\\u0300-\\u036f",yje="\\ufe20-\\ufe2f",xje="\\u20d0-\\u20ff",wje=vje+yje+xje,bje="\\ufe0e\\ufe0f",_je="\\u200d",Sje=RegExp("["+_je+gje+wje+bje+"]");function Aje(t){return Sje.test(t)}var nee=Aje;function Eje(t){return t.split("")}var Cje=Eje,iee="\\ud800-\\udfff",Nje="\\u0300-\\u036f",Tje="\\ufe20-\\ufe2f",Pje="\\u20d0-\\u20ff",Ije=Nje+Tje+Pje,Oje="\\ufe0e\\ufe0f",kje="["+iee+"]",PT="["+Ije+"]",IT="\\ud83c[\\udffb-\\udfff]",jje="(?:"+PT+"|"+IT+")",aee="[^"+iee+"]",oee="(?:\\ud83c[\\udde6-\\uddff]){2}",see="[\\ud800-\\udbff][\\udc00-\\udfff]",Rje="\\u200d",lee=jje+"?",cee="["+Oje+"]?",Dje="(?:"+Rje+"(?:"+[aee,oee,see].join("|")+")"+cee+lee+")*",Mje=cee+lee+Dje,Lje="(?:"+[aee+PT+"?",PT,oee,see,kje].join("|")+")",Fje=RegExp(IT+"(?="+IT+")|"+Lje+Mje,"g");function Bje(t){return t.match(Fje)||[]}var $je=Bje,Uje=Cje,Vje=nee,zje=$je;function Hje(t){return Vje(t)?zje(t):Uje(t)}var qje=Hje,Wje=mje,Gje=nee,Kje=qje,Yje=QJ;function Xje(t){return function(e){e=Yje(e);var r=Gje(e)?Kje(e):void 0,n=r?r[0]:e.charAt(0),i=r?Wje(r,1).join(""):e.slice(1);return n[t]()+i}}var Qje=Xje,Zje=Qje,Jje=Zje("toUpperCase"),eRe=Jje;const gA=Rr(eRe);function nn(t){return function(){return t}}const uee=Math.cos,O_=Math.sin,Ol=Math.sqrt,k_=Math.PI,vA=2*k_,OT=Math.PI,kT=2*OT,xh=1e-6,tRe=kT-xh;function dee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rRe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dee;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class nRe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dee:rRe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>xh)if(!(Math.abs(f*l-c*u)>xh)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,x=p*p+m*m,v=Math.sqrt(g),y=Math.sqrt(h),w=a*Math.tan((OT-Math.acos((g+h-x)/(2*v*y)))/2),C=w/y,A=w/v;Math.abs(C-1)>xh&&this._append`L${e+C*u},${r+C*f}`,this._append`A${a},${a},0,0,${+(f*p>u*m)},${this._x1=e+A*l},${this._y1=r+A*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>xh||Math.abs(this._y1-u)>xh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%kT+kT),h>tRe?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>xh&&this._append`A${n},${n},0,${+(h>=OT)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function M6(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new nRe(e)}function L6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fee(t){this._context=t}fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yA(t){return new fee(t)}function hee(t){return t[0]}function pee(t){return t[1]}function mee(t,e){var r=nn(!0),n=null,i=yA,a=null,o=M6(s);t=typeof t=="function"?t:t===void 0?hee:nn(t),e=typeof e=="function"?e:e===void 0?pee:nn(e);function s(l){var c,u=(l=L6(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:nn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:nn(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:nn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function cw(t,e,r){var n=null,i=nn(!0),a=null,o=yA,s=null,l=M6(c);t=typeof t=="function"?t:t===void 0?hee:nn(+t),e=typeof e=="function"?e:nn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?pee:nn(+r);function c(f){var h,p,m,g=(f=L6(f)).length,x,v=!1,y,w=new Array(g),C=new Array(g);for(a==null&&(s=o(y=l())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],C[m]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+t(x,h,f),C[h]=+e(x,h,f),s.point(n?+n(x,h,f):w[h],r?+r(x,h,f):C[h]))}if(y)return s=null,y+""||null}function u(){return mee().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:nn(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:nn(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:nn(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:nn(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:nn(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:nn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:nn(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class gee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function iRe(t){return new gee(t,!0)}function aRe(t){return new gee(t,!1)}const F6={draw(t,e){const r=Ol(e/k_);t.moveTo(r,0),t.arc(0,0,r,0,vA)}},oRe={draw(t,e){const r=Ol(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},vee=Ol(1/3),sRe=vee*2,lRe={draw(t,e){const r=Ol(e/sRe),n=r*vee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},cRe={draw(t,e){const r=Ol(e),n=-r/2;t.rect(n,n,r,r)}},uRe=.8908130915292852,yee=O_(k_/10)/O_(7*k_/10),dRe=O_(vA/10)*yee,fRe=-uee(vA/10)*yee,hRe={draw(t,e){const r=Ol(e*uRe),n=dRe*r,i=fRe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=vA*a/5,s=uee(o),l=O_(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},oC=Ol(3),pRe={draw(t,e){const r=-Ol(e/(oC*3));t.moveTo(0,r*2),t.lineTo(-oC*r,-r),t.lineTo(oC*r,-r),t.closePath()}},ps=-.5,ms=Ol(3)/2,jT=1/Ol(12),mRe=(jT/2+1)*3,gRe={draw(t,e){const r=Ol(e/mRe),n=r/2,i=r*jT,a=n,o=r*jT+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ps*n-ms*i,ms*n+ps*i),t.lineTo(ps*a-ms*o,ms*a+ps*o),t.lineTo(ps*s-ms*l,ms*s+ps*l),t.lineTo(ps*n+ms*i,ps*i-ms*n),t.lineTo(ps*a+ms*o,ps*o-ms*a),t.lineTo(ps*s+ms*l,ps*l-ms*s),t.closePath()}};function vRe(t,e){let r=null,n=M6(i);t=typeof t=="function"?t:nn(t||F6),e=typeof e=="function"?e:nn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function j_(){}function R_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xee(t){this._context=t}xee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yRe(t){return new xee(t)}function wee(t){this._context=t}wee.prototype={areaStart:j_,areaEnd:j_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:R_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xRe(t){return new wee(t)}function bee(t){this._context=t}bee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:R_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wRe(t){return new bee(t)}function _ee(t){this._context=t}_ee.prototype={areaStart:j_,areaEnd:j_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bRe(t){return new _ee(t)}function V9(t){return t<0?-1:1}function z9(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(V9(a)+V9(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function H9(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function sC(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function D_(t){this._context=t}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sC(this,this._t0,H9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sC(this,H9(this,r=z9(this,t,e)),r);break;default:sC(this,this._t0,r=z9(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function See(t){this._context=new Aee(t)}(See.prototype=Object.create(D_.prototype)).point=function(t,e){D_.prototype.point.call(this,e,t)};function Aee(t){this._context=t}Aee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function _Re(t){return new D_(t)}function SRe(t){return new See(t)}function Eee(t){this._context=t}Eee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=q9(t),i=q9(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function q9(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ARe(t){return new Eee(t)}function xA(t,e){this._context=t,this._t=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ERe(t){return new xA(t,.5)}function CRe(t){return new xA(t,0)}function NRe(t){return new xA(t,1)}function V0(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function RT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function TRe(t,e){return t[e]}function PRe(t){const e=[];return e.key=t,e}function IRe(){var t=nn([]),e=RT,r=V0,n=TRe;function i(a){var o=Array.from(t.apply(this,arguments),PRe),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=L6(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:nn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?RT:typeof a=="function"?a:nn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??V0,i):r},i}function ORe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}V0(t,e)}}function kRe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}V0(t,e)}}function jRe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],x=g[n][1]||0,v=g[n-1][1]||0;p+=x-v}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,V0(t,e)}}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}var RRe=["type","size","sizeType"];function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DT.apply(this,arguments)}function W9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(r),!0).forEach(function(n){DRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DRe(t,e,r){return e=MRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MRe(t){var e=LRe(t,"string");return by(e)=="symbol"?e:e+""}function LRe(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FRe(t,e){if(t==null)return{};var r=BRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cee={symbolCircle:F6,symbolCross:oRe,symbolDiamond:lRe,symbolSquare:cRe,symbolStar:hRe,symbolTriangle:pRe,symbolWye:gRe},$Re=Math.PI/180,URe=function(e){var r="symbol".concat(gA(e));return Cee[r]||F6},VRe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$Re;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zRe=function(e,r){Cee["symbol".concat(gA(e))]=r},B6=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=FRe(e,RRe),c=G9(G9({},l),{},{type:n,size:a,sizeType:s}),u=function(){var x=URe(n),v=vRe().type(x).size(VRe(a,s,n));return v()},f=c.className,h=c.cx,p=c.cy,m=cr(c,!0);return h===+h&&p===+p&&a===+a?he.createElement("path",DT({},m,{className:pr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};B6.registerSymbol=zRe;function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MT.apply(this,arguments)}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){_y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tee(n.key),n)}}function GRe(t,e,r){return e&&WRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KRe(t,e,r){return e=M_(e),YRe(t,Nee()?Reflect.construct(e,r||[],M_(t).constructor):e.apply(t,r))}function YRe(t,e){if(e&&(z0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XRe(t)}function XRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!t})()}function M_(t){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M_(t)}function QRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LT(t,e)}function LT(t,e){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LT(t,e)}function _y(t,e,r){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tee(t){var e=ZRe(t,"string");return z0(e)=="symbol"?e:e+""}function ZRe(t,e){if(z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Js=32,$6=function(t){function e(){return qRe(this,e),KRe(this,e,arguments)}return QRe(e,t),GRe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Js/2,o=Js/6,s=Js/3,l=n.inactive?i:n.color;if(n.type==="plainline")return he.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Js,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return he.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Js,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return he.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(he.isValidElement(n.legendIcon)){var c=HRe({},n);return delete c.legendIcon,he.cloneElement(n.legendIcon,c)}return he.createElement(B6,{fill:l,cx:a,cy:a,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Js,height:Js},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,x=pr(_y(_y({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=er(p.value)?null:p.value;su(!er(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?c:p.color;return he.createElement("li",MT({className:x,style:f,key:"legend-item-".concat(m)},I_(n.props,p,m)),he.createElement(NT,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),he.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(v,p,m):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return he.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(E.PureComponent);_y($6,"displayName","Legend");_y($6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JRe=nA;function eDe(){this.__data__=new JRe,this.size=0}var tDe=eDe;function rDe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var nDe=rDe;function iDe(t){return this.__data__.get(t)}var aDe=iDe;function oDe(t){return this.__data__.has(t)}var sDe=oDe,lDe=nA,cDe=N6,uDe=T6,dDe=200;function fDe(t,e){var r=this.__data__;if(r instanceof lDe){var n=r.__data__;if(!cDe||n.length<dDe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uDe(n)}return r.set(t,e),this.size=r.size,this}var hDe=fDe,pDe=nA,mDe=tDe,gDe=nDe,vDe=aDe,yDe=sDe,xDe=hDe;function $g(t){var e=this.__data__=new pDe(t);this.size=e.size}$g.prototype.clear=mDe;$g.prototype.delete=gDe;$g.prototype.get=vDe;$g.prototype.has=yDe;$g.prototype.set=xDe;var Pee=$g,wDe="__lodash_hash_undefined__";function bDe(t){return this.__data__.set(t,wDe),this}var _De=bDe;function SDe(t){return this.__data__.has(t)}var ADe=SDe,EDe=T6,CDe=_De,NDe=ADe;function L_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new EDe;++e<r;)this.add(t[e])}L_.prototype.add=L_.prototype.push=CDe;L_.prototype.has=NDe;var Iee=L_;function TDe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Oee=TDe;function PDe(t,e){return t.has(e)}var kee=PDe,IDe=Iee,ODe=Oee,kDe=kee,jDe=1,RDe=2;function DDe(t,e,r,n,i,a){var o=r&jDe,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&RDe?new IDe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(n)var x=o?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!ODe(e,function(v,y){if(!kDe(p,y)&&(m===v||i(m,v,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var jee=DDe,MDe=_c,LDe=MDe.Uint8Array,FDe=LDe;function BDe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var $De=BDe;function UDe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var U6=UDe,Y9=jx,X9=FDe,VDe=C6,zDe=jee,HDe=$De,qDe=U6,WDe=1,GDe=2,KDe="[object Boolean]",YDe="[object Date]",XDe="[object Error]",QDe="[object Map]",ZDe="[object Number]",JDe="[object RegExp]",eMe="[object Set]",tMe="[object String]",rMe="[object Symbol]",nMe="[object ArrayBuffer]",iMe="[object DataView]",Q9=Y9?Y9.prototype:void 0,lC=Q9?Q9.valueOf:void 0;function aMe(t,e,r,n,i,a,o){switch(r){case iMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nMe:return!(t.byteLength!=e.byteLength||!a(new X9(t),new X9(e)));case KDe:case YDe:case ZDe:return VDe(+t,+e);case XDe:return t.name==e.name&&t.message==e.message;case JDe:case tMe:return t==e+"";case QDe:var s=HDe;case eMe:var l=n&WDe;if(s||(s=qDe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=GDe,o.set(t,e);var u=zDe(s(t),s(e),n,i,a,o);return o.delete(t),u;case rMe:if(lC)return lC.call(t)==lC.call(e)}return!1}var oMe=aMe;function sMe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Ree=sMe,lMe=Ree,cMe=Po;function uMe(t,e,r){var n=e(t);return cMe(t)?n:lMe(n,r(t))}var dMe=uMe;function fMe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var hMe=fMe;function pMe(){return[]}var mMe=pMe,gMe=hMe,vMe=mMe,yMe=Object.prototype,xMe=yMe.propertyIsEnumerable,Z9=Object.getOwnPropertySymbols,wMe=Z9?function(t){return t==null?[]:(t=Object(t),gMe(Z9(t),function(e){return xMe.call(t,e)}))}:vMe,bMe=wMe;function _Me(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var SMe=_Me,AMe=Pu,EMe=Iu,CMe="[object Arguments]";function NMe(t){return EMe(t)&&AMe(t)==CMe}var TMe=NMe,J9=TMe,PMe=Iu,Dee=Object.prototype,IMe=Dee.hasOwnProperty,OMe=Dee.propertyIsEnumerable,kMe=J9(function(){return arguments}())?J9:function(t){return PMe(t)&&IMe.call(t,"callee")&&!OMe.call(t,"callee")},V6=kMe,F_={exports:{}};function jMe(){return!1}var RMe=jMe;F_.exports;(function(t,e){var r=_c,n=RMe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(F_,F_.exports);var Mee=F_.exports,DMe=9007199254740991,MMe=/^(?:0|[1-9]\d*)$/;function LMe(t,e){var r=typeof t;return e=e??DMe,!!e&&(r=="number"||r!="symbol"&&MMe.test(t))&&t>-1&&t%1==0&&t<e}var z6=LMe,FMe=9007199254740991;function BMe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FMe}var H6=BMe,$Me=Pu,UMe=H6,VMe=Iu,zMe="[object Arguments]",HMe="[object Array]",qMe="[object Boolean]",WMe="[object Date]",GMe="[object Error]",KMe="[object Function]",YMe="[object Map]",XMe="[object Number]",QMe="[object Object]",ZMe="[object RegExp]",JMe="[object Set]",e7e="[object String]",t7e="[object WeakMap]",r7e="[object ArrayBuffer]",n7e="[object DataView]",i7e="[object Float32Array]",a7e="[object Float64Array]",o7e="[object Int8Array]",s7e="[object Int16Array]",l7e="[object Int32Array]",c7e="[object Uint8Array]",u7e="[object Uint8ClampedArray]",d7e="[object Uint16Array]",f7e="[object Uint32Array]",hn={};hn[i7e]=hn[a7e]=hn[o7e]=hn[s7e]=hn[l7e]=hn[c7e]=hn[u7e]=hn[d7e]=hn[f7e]=!0;hn[zMe]=hn[HMe]=hn[r7e]=hn[qMe]=hn[n7e]=hn[WMe]=hn[GMe]=hn[KMe]=hn[YMe]=hn[XMe]=hn[QMe]=hn[ZMe]=hn[JMe]=hn[e7e]=hn[t7e]=!1;function h7e(t){return VMe(t)&&UMe(t.length)&&!!hn[$Me(t)]}var p7e=h7e;function m7e(t){return function(e){return t(e)}}var Lee=m7e,B_={exports:{}};B_.exports;(function(t,e){var r=qJ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(B_,B_.exports);var g7e=B_.exports,v7e=p7e,y7e=Lee,eF=g7e,tF=eF&&eF.isTypedArray,x7e=tF?y7e(tF):v7e,Fee=x7e,w7e=SMe,b7e=V6,_7e=Po,S7e=Mee,A7e=z6,E7e=Fee,C7e=Object.prototype,N7e=C7e.hasOwnProperty;function T7e(t,e){var r=_7e(t),n=!r&&b7e(t),i=!r&&!n&&S7e(t),a=!r&&!n&&!i&&E7e(t),o=r||n||i||a,s=o?w7e(t.length,String):[],l=s.length;for(var c in t)(e||N7e.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||A7e(c,l)))&&s.push(c);return s}var P7e=T7e,I7e=Object.prototype;function O7e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||I7e;return t===r}var k7e=O7e;function j7e(t,e){return function(r){return t(e(r))}}var Bee=j7e,R7e=Bee,D7e=R7e(Object.keys,Object),M7e=D7e,L7e=k7e,F7e=M7e,B7e=Object.prototype,$7e=B7e.hasOwnProperty;function U7e(t){if(!L7e(t))return F7e(t);var e=[];for(var r in Object(t))$7e.call(t,r)&&r!="constructor"&&e.push(r);return e}var V7e=U7e,z7e=E6,H7e=H6;function q7e(t){return t!=null&&H7e(t.length)&&!z7e(t)}var Mx=q7e,W7e=P7e,G7e=V7e,K7e=Mx;function Y7e(t){return K7e(t)?W7e(t):G7e(t)}var wA=Y7e,X7e=dMe,Q7e=bMe,Z7e=wA;function J7e(t){return X7e(t,Z7e,Q7e)}var eLe=J7e,rF=eLe,tLe=1,rLe=Object.prototype,nLe=rLe.hasOwnProperty;function iLe(t,e,r,n,i,a){var o=r&tLe,s=rF(t),l=s.length,c=rF(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:nLe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){h=s[f];var v=t[h],y=e[h];if(n)var w=o?n(y,v,h,e,t,a):n(v,y,h,t,e,a);if(!(w===void 0?v===y||i(v,y,r,n,a):w)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var C=t.constructor,A=e.constructor;C!=A&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof A=="function"&&A instanceof A)&&(g=!1)}return a.delete(t),a.delete(e),g}var aLe=iLe,oLe=Ap,sLe=_c,lLe=oLe(sLe,"DataView"),cLe=lLe,uLe=Ap,dLe=_c,fLe=uLe(dLe,"Promise"),hLe=fLe,pLe=Ap,mLe=_c,gLe=pLe(mLe,"Set"),$ee=gLe,vLe=Ap,yLe=_c,xLe=vLe(yLe,"WeakMap"),wLe=xLe,FT=cLe,BT=N6,$T=hLe,UT=$ee,VT=wLe,Uee=Pu,Ug=GJ,nF="[object Map]",bLe="[object Object]",iF="[object Promise]",aF="[object Set]",oF="[object WeakMap]",sF="[object DataView]",_Le=Ug(FT),SLe=Ug(BT),ALe=Ug($T),ELe=Ug(UT),CLe=Ug(VT),wh=Uee;(FT&&wh(new FT(new ArrayBuffer(1)))!=sF||BT&&wh(new BT)!=nF||$T&&wh($T.resolve())!=iF||UT&&wh(new UT)!=aF||VT&&wh(new VT)!=oF)&&(wh=function(t){var e=Uee(t),r=e==bLe?t.constructor:void 0,n=r?Ug(r):"";if(n)switch(n){case _Le:return sF;case SLe:return nF;case ALe:return iF;case ELe:return aF;case CLe:return oF}return e});var NLe=wh,cC=Pee,TLe=jee,PLe=oMe,ILe=aLe,lF=NLe,cF=Po,uF=Mee,OLe=Fee,kLe=1,dF="[object Arguments]",fF="[object Array]",uw="[object Object]",jLe=Object.prototype,hF=jLe.hasOwnProperty;function RLe(t,e,r,n,i,a){var o=cF(t),s=cF(e),l=o?fF:lF(t),c=s?fF:lF(e);l=l==dF?uw:l,c=c==dF?uw:c;var u=l==uw,f=c==uw,h=l==c;if(h&&uF(t)){if(!uF(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new cC),o||OLe(t)?TLe(t,e,r,n,i,a):PLe(t,e,l,r,n,i,a);if(!(r&kLe)){var p=u&&hF.call(t,"__wrapped__"),m=f&&hF.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,x=m?e.value():e;return a||(a=new cC),i(g,x,r,n,a)}}return h?(a||(a=new cC),ILe(t,e,r,n,i,a)):!1}var DLe=RLe,MLe=DLe,pF=Iu;function Vee(t,e,r,n,i){return t===e?!0:t==null||e==null||!pF(t)&&!pF(e)?t!==t&&e!==e:MLe(t,e,r,n,Vee,i)}var q6=Vee,LLe=Pee,FLe=q6,BLe=1,$Le=2;function ULe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new LLe;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?FLe(u,c,BLe|$Le,n,f):h))return!1}}return!0}var VLe=ULe,zLe=jf;function HLe(t){return t===t&&!zLe(t)}var zee=HLe,qLe=zee,WLe=wA;function GLe(t){for(var e=WLe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,qLe(i)]}return e}var KLe=GLe;function YLe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Hee=YLe,XLe=VLe,QLe=KLe,ZLe=Hee;function JLe(t){var e=QLe(t);return e.length==1&&e[0][2]?ZLe(e[0][0],e[0][1]):function(r){return r===t||XLe(r,t,e)}}var e9e=JLe;function t9e(t,e){return t!=null&&e in Object(t)}var r9e=t9e,n9e=ZJ,i9e=V6,a9e=Po,o9e=z6,s9e=H6,l9e=aA;function c9e(t,e,r){e=n9e(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=l9e(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&s9e(i)&&o9e(o,i)&&(a9e(t)||i9e(t)))}var u9e=c9e,d9e=r9e,f9e=u9e;function h9e(t,e){return t!=null&&f9e(t,e,d9e)}var p9e=h9e,m9e=q6,g9e=JJ,v9e=p9e,y9e=A6,x9e=zee,w9e=Hee,b9e=aA,_9e=1,S9e=2;function A9e(t,e){return y9e(t)&&x9e(e)?w9e(b9e(t),e):function(r){var n=g9e(r,t);return n===void 0&&n===e?v9e(r,t):m9e(e,n,_9e|S9e)}}var E9e=A9e;function C9e(t){return t}var Vg=C9e;function N9e(t){return function(e){return e==null?void 0:e[t]}}var T9e=N9e,P9e=O6;function I9e(t){return function(e){return P9e(e,t)}}var O9e=I9e,k9e=T9e,j9e=O9e,R9e=A6,D9e=aA;function M9e(t){return R9e(t)?k9e(D9e(t)):j9e(t)}var L9e=M9e,F9e=e9e,B9e=E9e,$9e=Vg,U9e=Po,V9e=L9e;function z9e(t){return typeof t=="function"?t:t==null?$9e:typeof t=="object"?U9e(t)?B9e(t[0],t[1]):F9e(t):V9e(t)}var Rf=z9e;function H9e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var qee=H9e;function q9e(t){return t!==t}var W9e=q9e;function G9e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var K9e=G9e,Y9e=qee,X9e=W9e,Q9e=K9e;function Z9e(t,e,r){return e===e?Q9e(t,e,r):Y9e(t,X9e,r)}var J9e=Z9e,eFe=J9e;function tFe(t,e){var r=t==null?0:t.length;return!!r&&eFe(t,e,0)>-1}var rFe=tFe;function nFe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var iFe=nFe;function aFe(){}var oFe=aFe,uC=$ee,sFe=oFe,lFe=U6,cFe=1/0,uFe=uC&&1/lFe(new uC([,-0]))[1]==cFe?function(t){return new uC(t)}:sFe,dFe=uFe,fFe=Iee,hFe=rFe,pFe=iFe,mFe=kee,gFe=dFe,vFe=U6,yFe=200;function xFe(t,e,r){var n=-1,i=hFe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=pFe;else if(a>=yFe){var c=e?null:gFe(t);if(c)return vFe(c);o=!1,i=mFe,l=new fFe}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var wFe=xFe,bFe=Rf,_Fe=wFe;function SFe(t,e){return t&&t.length?_Fe(t,bFe(e)):[]}var AFe=SFe;const mF=Rr(AFe);function Wee(t,e,r){return e===!0?mF(t,r):er(e)?mF(t,e):t}function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}var EFe=["ref"];function gF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(r),!0).forEach(function(n){bA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kee(n.key),n)}}function NFe(t,e,r){return e&&vF(t.prototype,e),r&&vF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TFe(t,e,r){return e=$_(e),PFe(t,Gee()?Reflect.construct(e,r||[],$_(t).constructor):e.apply(t,r))}function PFe(t,e){if(e&&(H0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IFe(t)}function IFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function $_(t){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$_(t)}function OFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zT(t,e)}function zT(t,e){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zT(t,e)}function bA(t,e,r){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t){var e=kFe(t,"string");return H0(e)=="symbol"?e:e+""}function kFe(t,e){if(H0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jFe(t,e){if(t==null)return{};var r=RFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DFe(t){return t.value}function MFe(t,e){if(he.isValidElement(t))return he.cloneElement(t,e);if(typeof t=="function")return he.createElement(t,e);e.ref;var r=jFe(e,EFe);return he.createElement($6,r)}var yF=1,f0=function(t){function e(){var r;CFe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=TFe(this,e,[].concat(i)),bA(r,"lastBoundingBox",{width:-1,height:-1}),r}return OFe(e,t),NFe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yF||Math.abs(i.height-this.lastBoundingBox.height)>yF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zc(zc({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=zc(zc({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return he.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},MFe(a,zc(zc({},this.props),{},{payload:Wee(u,c,DFe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=zc(zc({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ut(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(E.PureComponent);bA(f0,"displayName","Legend");bA(f0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xF=jx,LFe=V6,FFe=Po,wF=xF?xF.isConcatSpreadable:void 0;function BFe(t){return FFe(t)||LFe(t)||!!(wF&&t&&t[wF])}var $Fe=BFe,UFe=Ree,VFe=$Fe;function Yee(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=VFe),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?Yee(s,e-1,r,n,i):UFe(i,s):n||(i[i.length]=s)}return i}var Xee=Yee;function zFe(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var HFe=zFe,qFe=HFe,WFe=qFe(),GFe=WFe,KFe=GFe,YFe=wA;function XFe(t,e){return t&&KFe(t,e,YFe)}var Qee=XFe,QFe=Mx;function ZFe(t,e){return function(r,n){if(r==null)return r;if(!QFe(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var JFe=ZFe,eBe=Qee,tBe=JFe,rBe=tBe(eBe),W6=rBe,nBe=W6,iBe=Mx;function aBe(t,e){var r=-1,n=iBe(t)?Array(t.length):[];return nBe(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var Zee=aBe;function oBe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var sBe=oBe,bF=Dg;function lBe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=bF(t),o=e!==void 0,s=e===null,l=e===e,c=bF(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var cBe=lBe,uBe=cBe;function dBe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=uBe(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var fBe=dBe,dC=I6,hBe=O6,pBe=Rf,mBe=Zee,gBe=sBe,vBe=Lee,yBe=fBe,xBe=Vg,wBe=Po;function bBe(t,e,r){e.length?e=dC(e,function(a){return wBe(a)?function(o){return hBe(o,a.length===1?a[0]:a)}:a}):e=[xBe];var n=-1;e=dC(e,vBe(pBe));var i=mBe(t,function(a,o,s){var l=dC(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return gBe(i,function(a,o){return yBe(a,o,r)})}var _Be=bBe;function SBe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var ABe=SBe,EBe=ABe,_F=Math.max;function CBe(t,e,r){return e=_F(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=_F(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),EBe(t,this,s)}}var NBe=CBe;function TBe(t){return function(){return t}}var PBe=TBe,IBe=Ap,OBe=function(){try{var t=IBe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Jee=OBe,kBe=PBe,SF=Jee,jBe=Vg,RBe=SF?function(t,e){return SF(t,"toString",{configurable:!0,enumerable:!1,value:kBe(e),writable:!0})}:jBe,DBe=RBe,MBe=800,LBe=16,FBe=Date.now;function BBe(t){var e=0,r=0;return function(){var n=FBe(),i=LBe-(n-r);if(r=n,i>0){if(++e>=MBe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $Be=BBe,UBe=DBe,VBe=$Be,zBe=VBe(UBe),HBe=zBe,qBe=Vg,WBe=NBe,GBe=HBe;function KBe(t,e){return GBe(WBe(t,e,qBe),t+"")}var YBe=KBe,XBe=C6,QBe=Mx,ZBe=z6,JBe=jf;function e$e(t,e,r){if(!JBe(r))return!1;var n=typeof e;return(n=="number"?QBe(r)&&ZBe(e,r.length):n=="string"&&e in r)?XBe(r[e],t):!1}var _A=e$e,t$e=Xee,r$e=_Be,n$e=YBe,AF=_A,i$e=n$e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&AF(t,e[0],e[1])?e=[]:r>2&&AF(e[0],e[1],e[2])&&(e=[e[0]]),r$e(t,t$e(e,1),[])}),a$e=i$e;const G6=Rr(a$e);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HT.apply(this,arguments)}function o$e(t,e){return u$e(t)||c$e(t,e)||l$e(t,e)||s$e()}function s$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$e(t,e){if(t){if(typeof t=="string")return EF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function u$e(t){if(Array.isArray(t))return t}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){d$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d$e(t,e,r){return e=f$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$e(t){var e=h$e(t,"string");return Sy(e)=="symbol"?e:e+""}function h$e(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$e(t){return Array.isArray(t)&&Ai(t[0])&&Ai(t[1])?t.join(" ~ "):t}var m$e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,x=e.labelFormatter,v=e.accessibilityLayer,y=v===void 0?!1:v,w=function(){if(u&&u.length){var k={padding:0,margin:0},D=(h?G6(u,h):u).map(function(z,J){if(z.type==="none")return null;var U=fC({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),K=z.formatter||f||p$e,$=z.value,H=z.name,te=$,ie=H;if(K&&te!=null&&ie!=null){var F=K($,H,z,J,u);if(Array.isArray(F)){var q=o$e(F,2);te=q[0],ie=q[1]}else te=F}return he.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:U},Ai(ie)?he.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Ai(ie)?he.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,he.createElement("span",{className:"recharts-tooltip-item-value"},te),he.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return he.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},C=fC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=fC({margin:0},c),O=!lr(g),N=O?g:"",S=pr("recharts-default-tooltip",p),P=pr("recharts-tooltip-label",m);O&&x&&u!==void 0&&u!==null&&(N=x(g,u));var R=y?{role:"status","aria-live":"assertive"}:{};return he.createElement("div",HT({className:S,style:C},R),he.createElement("p",{className:P,style:A},he.isValidElement(N)?N:"".concat(N)),w())};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function dw(t,e,r){return e=g$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$e(t){var e=v$e(t,"string");return Ay(e)=="symbol"?e:e+""}function v$e(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R1="recharts-tooltip-wrapper",y$e={visibility:"hidden"};function x$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pr(R1,dw(dw(dw(dw({},"".concat(R1,"-right"),ut(r)&&e&&ut(e.x)&&r>=e.x),"".concat(R1,"-left"),ut(r)&&e&&ut(e.x)&&r<e.x),"".concat(R1,"-bottom"),ut(n)&&e&&ut(e.y)&&n>=e.y),"".concat(R1,"-top"),ut(n)&&e&&ut(e.y)&&n<e.y))}function NF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ut(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+s,g=l[n]+c;return m>g?Math.max(u,l[n]):Math.max(f,l[n])}function w$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function b$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=NF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=NF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=w$e({translateX:u,translateY:f,useTranslate3d:s})):c=y$e,{cssProperties:c,cssClasses:x$e({translateX:u,translateY:f,coordinate:r})}}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){WT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tte(n.key),n)}}function A$e(t,e,r){return e&&S$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E$e(t,e,r){return e=U_(e),C$e(t,ete()?Reflect.construct(e,r||[],U_(t).constructor):e.apply(t,r))}function C$e(t,e){if(e&&(q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(t)}function N$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ete(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ete=function(){return!!t})()}function U_(t){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U_(t)}function T$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qT(t,e)}function WT(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=P$e(t,"string");return q0(e)=="symbol"?e:e+""}function P$e(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IF=1,I$e=function(t){function e(){var r;_$e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=E$e(this,e,[].concat(i)),WT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),WT(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return T$e(e,t),A$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IF||Math.abs(n.height-this.state.lastBoundingBox.height)>IF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,y=i.wrapperStyle,w=b$e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),C=w.cssClasses,A=w.cssProperties,O=PF(PF({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return he.createElement("div",{tabIndex:-1,className:C,style:O,ref:function(S){n.wrapperNode=S}},c)}}])}(E.PureComponent),O$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zg={isSsr:O$e()};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){K6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nte(n.key),n)}}function R$e(t,e,r){return e&&j$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D$e(t,e,r){return e=V_(e),M$e(t,rte()?Reflect.construct(e,r||[],V_(t).constructor):e.apply(t,r))}function M$e(t,e){if(e&&(W0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L$e(t)}function L$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rte=function(){return!!t})()}function V_(t){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V_(t)}function F$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GT(t,e)}function K6(t,e,r){return e=nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nte(t){var e=B$e(t,"string");return W0(e)=="symbol"?e:e+""}function B$e(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $$e(t){return t.dataKey}function U$e(t,e){return he.isValidElement(t)?he.cloneElement(t,e):typeof t=="function"?he.createElement(t,e):he.createElement(m$e,e)}var ol=function(t){function e(){return k$e(this,e),D$e(this,e,arguments)}return F$e(e,t),R$e(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,C=i.wrapperStyle,A=m??[];f&&A.length&&(A=Wee(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,$$e));var O=A.length>0;return he.createElement(I$e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:O,offset:p,position:x,reverseDirection:v,useTranslate3d:y,viewBox:w,wrapperStyle:C},U$e(c,kF(kF({},this.props),{},{payload:A})))}}])}(E.PureComponent);K6(ol,"displayName","Tooltip");K6(ol,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V$e=_c,z$e=function(){return V$e.Date.now()},H$e=z$e,q$e=/\s/;function W$e(t){for(var e=t.length;e--&&q$e.test(t.charAt(e)););return e}var G$e=W$e,K$e=G$e,Y$e=/^\s+/;function X$e(t){return t&&t.slice(0,K$e(t)+1).replace(Y$e,"")}var Q$e=X$e,Z$e=Q$e,jF=jf,J$e=Dg,RF=NaN,eUe=/^[-+]0x[0-9a-f]+$/i,tUe=/^0b[01]+$/i,rUe=/^0o[0-7]+$/i,nUe=parseInt;function iUe(t){if(typeof t=="number")return t;if(J$e(t))return RF;if(jF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Z$e(t);var r=tUe.test(t);return r||rUe.test(t)?nUe(t.slice(2),r?2:8):eUe.test(t)?RF:+t}var ite=iUe,aUe=jf,hC=H$e,DF=ite,oUe="Expected a function",sUe=Math.max,lUe=Math.min;function cUe(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(oUe);e=DF(e)||0,aUe(r)&&(u=!!r.leading,f="maxWait"in r,a=f?sUe(DF(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(O){var N=n,S=i;return n=i=void 0,c=O,o=t.apply(S,N),o}function m(O){return c=O,s=setTimeout(v,e),u?p(O):o}function g(O){var N=O-l,S=O-c,P=e-N;return f?lUe(P,a-S):P}function x(O){var N=O-l,S=O-c;return l===void 0||N>=e||N<0||f&&S>=a}function v(){var O=hC();if(x(O))return y(O);s=setTimeout(v,g(O))}function y(O){return s=void 0,h&&n?p(O):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function C(){return s===void 0?o:y(hC())}function A(){var O=hC(),N=x(O);if(n=arguments,i=this,l=O,N){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),o}return A.cancel=w,A.flush=C,A}var uUe=cUe,dUe=uUe,fUe=jf,hUe="Expected a function";function pUe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(hUe);return fUe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),dUe(t,e,{leading:n,maxWait:e,trailing:i})}var mUe=pUe;const ate=Rr(mUe);function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){gUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gUe(t,e,r){return e=vUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vUe(t){var e=yUe(t,"string");return Ey(e)=="symbol"?e:e+""}function yUe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xUe(t,e){return SUe(t)||_Ue(t,e)||bUe(t,e)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bUe(t,e){if(t){if(typeof t=="string")return LF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LF(t,e)}}function LF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Ue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function SUe(t){if(Array.isArray(t))return t}var FF=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,x=t.id,v=t.className,y=t.onResize,w=t.style,C=w===void 0?{}:w,A=E.useRef(null),O=E.useRef();O.current=y,E.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var N=E.useState({containerWidth:i.width,containerHeight:i.height}),S=xUe(N,2),P=S[0],R=S[1],I=E.useCallback(function(D,z){R(function(J){var U=Math.round(D),K=Math.round(z);return J.containerWidth===U&&J.containerHeight===K?J:{containerWidth:U,containerHeight:K}})},[]);E.useEffect(function(){var D=function(H){var te,ie=H[0].contentRect,F=ie.width,q=ie.height;I(F,q),(te=O.current)===null||te===void 0||te.call(O,F,q)};g>0&&(D=ate(D,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),J=A.current.getBoundingClientRect(),U=J.width,K=J.height;return I(U,K),z.observe(A.current),function(){z.disconnect()}},[I,g]);var k=E.useMemo(function(){var D=P.containerWidth,z=P.containerHeight;if(D<0||z<0)return null;su(Ih(o)||Ih(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),su(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Ih(o)?D:o,U=Ih(l)?z:l;r&&r>0&&(J?U=J/r:U&&(J=U*r),h&&U>h&&(U=h)),su(J>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,U,o,l,u,f,r);var K=!Array.isArray(p)&&ou(p.type).endsWith("Chart");return he.Children.map(p,function($){return he.isValidElement($)?E.cloneElement($,fw({width:J,height:U},K?{style:fw({height:"100%",width:"100%",maxHeight:U,maxWidth:J},$.props.style)}:{})):$})},[r,p,l,h,f,u,P,o]);return he.createElement("div",{id:x?"".concat(x):void 0,className:pr("recharts-responsive-container",v),style:fw(fw({},C),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:A},k)}),ote=function(e){return null};ote.displayName="Cell";function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){AUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AUe(t,e,r){return e=EUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EUe(t){var e=CUe(t,"string");return Cy(e)=="symbol"?e:e+""}function CUe(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lm={widthCache:{},cacheCount:0},NUe=2e3,TUe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$F="recharts_measurement_span";function PUe(t){var e=KT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Tv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zg.isSsr)return{width:0,height:0};var n=PUe(r),i=JSON.stringify({text:e,copyStyle:n});if(lm.widthCache[i])return lm.widthCache[i];try{var a=document.getElementById($F);a||(a=document.createElement("span"),a.setAttribute("id",$F),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=KT(KT({},TUe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return lm.widthCache[i]=l,++lm.cacheCount>NUe&&(lm.cacheCount=0,lm.widthCache={}),l}catch{return{width:0,height:0}}},IUe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function z_(t,e){return RUe(t)||jUe(t,e)||kUe(t,e)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kUe(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function RUe(t){if(Array.isArray(t))return t}function DUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LUe(n.key),n)}}function MUe(t,e,r){return e&&VF(t.prototype,e),r&&VF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LUe(t){var e=FUe(t,"string");return Ny(e)=="symbol"?e:e+""}function FUe(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BUe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Ue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ste={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UUe=Object.keys(ste),Um="NaN";function VUe(t,e){return t*ste[e]}var hw=function(){function t(e,r){DUe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!BUe.test(r)&&(this.num=NaN,this.unit=""),UUe.includes(r)&&(this.num=VUe(e,r),this.unit="px")}return MUe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$Ue.exec(r))!==null&&n!==void 0?n:[],a=z_(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function lte(t){if(t.includes(Um))return Um;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=zF.exec(e))!==null&&r!==void 0?r:[],i=z_(n,4),a=i[1],o=i[2],s=i[3],l=hw.parse(a??""),c=hw.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Um;e=e.replace(zF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=HF.exec(e))!==null&&f!==void 0?f:[],p=z_(h,4),m=p[1],g=p[2],x=p[3],v=hw.parse(m??""),y=hw.parse(x??""),w=g==="+"?v.add(y):v.subtract(y);if(w.isNaN())return Um;e=e.replace(HF,w.toString())}return e}var qF=/\(([^()]*)\)/;function zUe(t){for(var e=t;e.includes("(");){var r=qF.exec(e),n=z_(r,2),i=n[1];e=e.replace(qF,lte(i))}return e}function HUe(t){var e=t.replace(/\s+/g,"");return e=zUe(e),e=lte(e),e}function qUe(t){try{return HUe(t)}catch{return Um}}function pC(t){var e=qUe(t.slice(5,-1));return e===Um?"":e}var WUe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GUe=["dx","dy","angle","className","breakAll"];function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YT.apply(this,arguments)}function WF(t,e){if(t==null)return{};var r=KUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GF(t,e){return ZUe(t)||QUe(t,e)||XUe(t,e)||YUe()}function YUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XUe(t,e){if(t){if(typeof t=="string")return KF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KF(t,e)}}function KF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ZUe(t){if(Array.isArray(t))return t}var cte=/[ \f\n\r\t\v\u2028\u2029]+/,ute=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];lr(r)||(n?a=r.toString().split(""):a=r.toString().split(cte));var o=a.map(function(l){return{word:l,width:Tv(l,i).width}}),s=n?0:Tv(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},JUe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ut(o),f=s,h=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(U,K){var $=K.word,H=K.width,te=U[U.length-1];if(te&&(i==null||a||te.width+H+n<Number(i)))te.words.push($),te.width+=H+n;else{var ie={words:[$],width:H};U.push(ie)}return U},[])},p=h(r),m=function(J){return J.reduce(function(U,K){return U.width>K.width?U:K})};if(!u)return p;for(var g="…",x=function(J){var U=f.slice(0,J),K=ute({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,$=h(K),H=$.length>o||m($).width>Number(i);return[H,$]},v=0,y=f.length-1,w=0,C;v<=y&&w<=f.length-1;){var A=Math.floor((v+y)/2),O=A-1,N=x(O),S=GF(N,2),P=S[0],R=S[1],I=x(A),k=GF(I,1),D=k[0];if(!P&&!D&&(v=A+1),P&&D&&(y=A-1),!P&&D){C=R;break}w++}return C||p},YF=function(e){var r=lr(e)?[]:e.toString().split(cte);return[{words:r}]},eVe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!zg.isSsr){var l,c,u=ute({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return YF(i);return JUe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return YF(i)},XF="#808080",H_=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,x=e.fill,v=x===void 0?XF:x,y=WF(e,WUe),w=E.useMemo(function(){return eVe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),C=y.dx,A=y.dy,O=y.angle,N=y.className,S=y.breakAll,P=WF(y,GUe);if(!Ai(n)||!Ai(a))return null;var R=n+(ut(C)?C:0),I=a+(ut(A)?A:0),k;switch(g){case"start":k=pC("calc(".concat(c,")"));break;case"middle":k=pC("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=pC("calc(".concat(w.length-1," * -").concat(s,")"));break}var D=[];if(f){var z=w[0].width,J=y.width;D.push("scale(".concat((ut(J)?J/z:1)/z,")"))}return O&&D.push("rotate(".concat(O,", ").concat(R,", ").concat(I,")")),D.length&&(P.transform=D.join(" ")),he.createElement("text",YT({},cr(P,!0),{x:R,y:I,className:pr("recharts-text",N),textAnchor:p,fill:v.includes("url")?XF:v}),w.map(function(U,K){var $=U.words.join(S?"":" ");return he.createElement("tspan",{x:R,dy:K===0?k:s,key:"".concat($,"-").concat(K)},$)}))};function ef(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tVe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y6(t){let e,r,n;t.length!==2?(e=ef,r=(s,l)=>ef(t(s),l),n=(s,l)=>t(s)-l):(e=t===ef||t===tVe?t:rVe,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function rVe(){return 0}function dte(t){return t===null?NaN:+t}function*nVe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const iVe=Y6(ef),Lx=iVe.right;Y6(dte).center;class QF extends Map{constructor(e,r=sVe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(ZF(this,e))}has(e){return super.has(ZF(this,e))}set(e,r){return super.set(aVe(this,e),r)}delete(e){return super.delete(oVe(this,e))}}function ZF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function aVe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function oVe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function sVe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lVe(t=ef){if(t===ef)return fte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cVe=Math.sqrt(50),uVe=Math.sqrt(10),dVe=Math.sqrt(2);function q_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=cVe?10:a>=uVe?5:a>=dVe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?q_(t,e,r*2):[s,l,c]}function XT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?q_(e,t,r):q_(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function QT(t,e,r){return e=+e,t=+t,r=+r,q_(t,e,r)[2]}function ZT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?QT(e,t,r):QT(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function JF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eB(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hte(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fte:lVe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),m=Math.min(n,Math.floor(e+(l-c)*f/l+h));hte(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(D1(t,r,e),i(t[n],a)>0&&D1(t,r,n);o<s;){for(D1(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?D1(t,r,s):(++s,D1(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function D1(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function fVe(t,e,r){if(t=Float64Array.from(nVe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return eB(t);if(e>=1)return JF(t);var n,i=(n-1)*e,a=Math.floor(i),o=JF(hte(t,a).subarray(0,a+1)),s=eB(t.subarray(a+1));return o+(s-o)*(i-a)}}function hVe(t,e,r=dte){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function pVe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ou(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const JT=Symbol("implicit");function X6(){var t=new QF,e=[],r=[],n=JT;function i(a){let o=t.get(a);if(o===void 0){if(n!==JT)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new QF;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return X6(e,r).unknown(n)},Ls.apply(i,arguments),i}function Ty(){var t=X6().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var x=pVe(h).map(function(v){return m+a*v});return r(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Ty(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Ls.apply(f(),arguments)}function pte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pte(e())},t}function Pv(){return pte(Ty.apply(null,arguments).paddingInner(1))}function Q6(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mte(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Fx(){}var Py=.7,W_=1/Py,h0="\\s*([+-]?\\d+)\\s*",Iy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mVe=/^#([0-9a-f]{3,8})$/,gVe=new RegExp(`^rgb\\(${h0},${h0},${h0}\\)$`),vVe=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),yVe=new RegExp(`^rgba\\(${h0},${h0},${h0},${Iy}\\)$`),xVe=new RegExp(`^rgba\\(${cc},${cc},${cc},${Iy}\\)$`),wVe=new RegExp(`^hsl\\(${Iy},${cc},${cc}\\)$`),bVe=new RegExp(`^hsla\\(${Iy},${cc},${cc},${Iy}\\)$`),tB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q6(Fx,Oy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rB,formatHex:rB,formatHex8:_Ve,formatHsl:SVe,formatRgb:nB,toString:nB});function rB(){return this.rgb().formatHex()}function _Ve(){return this.rgb().formatHex8()}function SVe(){return gte(this).formatHsl()}function nB(){return this.rgb().formatRgb()}function Oy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=mVe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?iB(e):r===3?new vo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?pw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?pw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gVe.exec(t))?new vo(e[1],e[2],e[3],1):(e=vVe.exec(t))?new vo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yVe.exec(t))?pw(e[1],e[2],e[3],e[4]):(e=xVe.exec(t))?pw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wVe.exec(t))?sB(e[1],e[2]/100,e[3]/100,1):(e=bVe.exec(t))?sB(e[1],e[2]/100,e[3]/100,e[4]):tB.hasOwnProperty(t)?iB(tB[t]):t==="transparent"?new vo(NaN,NaN,NaN,0):null}function iB(t){return new vo(t>>16&255,t>>8&255,t&255,1)}function pw(t,e,r,n){return n<=0&&(t=e=r=NaN),new vo(t,e,r,n)}function AVe(t){return t instanceof Fx||(t=Oy(t)),t?(t=t.rgb(),new vo(t.r,t.g,t.b,t.opacity)):new vo}function eP(t,e,r,n){return arguments.length===1?AVe(t):new vo(t,e,r,n??1)}function vo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Q6(vo,eP,mte(Fx,{brighter(t){return t=t==null?W_:Math.pow(W_,t),new vo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new vo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vo(Vh(this.r),Vh(this.g),Vh(this.b),G_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aB,formatHex:aB,formatHex8:EVe,formatRgb:oB,toString:oB}));function aB(){return`#${Oh(this.r)}${Oh(this.g)}${Oh(this.b)}`}function EVe(){return`#${Oh(this.r)}${Oh(this.g)}${Oh(this.b)}${Oh((isNaN(this.opacity)?1:this.opacity)*255)}`}function oB(){const t=G_(this.opacity);return`${t===1?"rgb(":"rgba("}${Vh(this.r)}, ${Vh(this.g)}, ${Vh(this.b)}${t===1?")":`, ${t})`}`}function G_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oh(t){return t=Vh(t),(t<16?"0":"")+t.toString(16)}function sB(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pl(t,e,r,n)}function gte(t){if(t instanceof pl)return new pl(t.h,t.s,t.l,t.opacity);if(t instanceof Fx||(t=Oy(t)),!t)return new pl;if(t instanceof pl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new pl(o,s,l,t.opacity)}function CVe(t,e,r,n){return arguments.length===1?gte(t):new pl(t,e,r,n??1)}function pl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Q6(pl,CVe,mte(Fx,{brighter(t){return t=t==null?W_:Math.pow(W_,t),new pl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Py:Math.pow(Py,t),new pl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new vo(mC(t>=240?t-240:t+120,i,n),mC(t,i,n),mC(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pl(lB(this.h),mw(this.s),mw(this.l),G_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=G_(this.opacity);return`${t===1?"hsl(":"hsla("}${lB(this.h)}, ${mw(this.s)*100}%, ${mw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lB(t){return t=(t||0)%360,t<0?t+360:t}function mw(t){return Math.max(0,Math.min(1,t||0))}function mC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Z6=t=>()=>t;function NVe(t,e){return function(r){return t+r*e}}function TVe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function PVe(t){return(t=+t)==1?vte:function(e,r){return r-e?TVe(e,r,t):Z6(isNaN(e)?r:e)}}function vte(t,e){var r=e-t;return r?NVe(t,r):Z6(isNaN(t)?e:t)}const cB=function t(e){var r=PVe(e);function n(i,a){var o=r((i=eP(i)).r,(a=eP(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=vte(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function IVe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function OVe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kVe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Hg(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function jVe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function K_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function RVe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Hg(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var tP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gC=new RegExp(tP.source,"g");function DVe(t){return function(){return t}}function MVe(t){return function(e){return t(e)+""}}function LVe(t,e){var r=tP.lastIndex=gC.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=tP.exec(t))&&(i=gC.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:K_(n,i)})),r=gC.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?MVe(l[0].x):DVe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Hg(t,e){var r=typeof e,n;return e==null||r==="boolean"?Z6(e):(r==="number"?K_:r==="string"?(n=Oy(e))?(e=n,cB):LVe:e instanceof Oy?cB:e instanceof Date?jVe:OVe(e)?IVe:Array.isArray(e)?kVe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RVe:K_)(t,e)}function J6(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function FVe(t,e){e===void 0&&(e=t,t=Hg);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function BVe(t){return function(){return t}}function Y_(t){return+t}var uB=[0,1];function Qa(t){return t}function rP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:BVe(isNaN(e)?NaN:.5)}function $Ve(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function UVe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=rP(i,n),a=r(o,a)):(n=rP(n,i),a=r(a,o)),function(s){return a(n(s))}}function VVe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=rP(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Lx(t,s,1,n)-1;return a[l](i[l](s))}}function Bx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function SA(){var t=uB,e=uB,r=Hg,n,i,a,o=Qa,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Qa&&(o=$Ve(t[0],t[h-1])),s=h>2?VVe:UVe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),K_)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Y_),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=J6,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Qa,u()):o!==Qa},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function e8(){return SA()(Qa,Qa)}function zVe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function X_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function G0(t){return t=X_(Math.abs(t)),t?t[1]:NaN}function HVe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function qVe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var WVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ky(t){if(!(e=WVe.exec(t)))throw new Error("invalid format: "+t);var e;return new t8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ky.prototype=t8.prototype;function t8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GVe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yte;function KVe(t,e){var r=X_(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(yte=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+X_(t,Math.max(0,e+a-1))[0]}function dB(t,e){var r=X_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const fB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zVe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dB(t*100,e),r:dB,s:KVe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hB(t){return t}var pB=Array.prototype.map,mB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YVe(t){var e=t.grouping===void 0||t.thousands===void 0?hB:HVe(pB.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hB:qVe(pB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=ky(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,x=f.zero,v=f.width,y=f.comma,w=f.precision,C=f.trim,A=f.type;A==="n"?(y=!0,A="g"):fB[A]||(w===void 0&&(w=12),C=!0,A="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var O=g==="$"?r:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=g==="$"?n:/[%p]/.test(A)?o:"",S=fB[A],P=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(I){var k=O,D=N,z,J,U;if(A==="c")D=S(I)+D,I="";else{I=+I;var K=I<0||1/I<0;if(I=isNaN(I)?l:S(Math.abs(I),w),C&&(I=GVe(I)),K&&+I==0&&m!=="+"&&(K=!1),k=(K?m==="("?m:s:m==="-"||m==="("?"":m)+k,D=(A==="s"?mB[8+yte/3]:"")+D+(K&&m==="("?")":""),P){for(z=-1,J=I.length;++z<J;)if(U=I.charCodeAt(z),48>U||U>57){D=(U===46?i+I.slice(z+1):I.slice(z))+D,I=I.slice(0,z);break}}}y&&!x&&(I=e(I,1/0));var $=k.length+I.length+D.length,H=$<v?new Array(v-$+1).join(h):"";switch(y&&x&&(I=e(H+I,H.length?v-D.length:1/0),H=""),p){case"<":I=k+I+D+H;break;case"=":I=k+H+I+D;break;case"^":I=H.slice(0,$=H.length>>1)+k+I+D+H.slice($);break;default:I=H+k+I+D;break}return a(I)}return R.toString=function(){return f+""},R}function u(f,h){var p=c((f=ky(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(G0(h)/3)))*3,g=Math.pow(10,-m),x=mB[8+m/3];return function(v){return p(g*v)+x}}return{format:c,formatPrefix:u}}var gw,r8,xte;XVe({thousands:",",grouping:[3],currency:["$",""]});function XVe(t){return gw=YVe(t),r8=gw.format,xte=gw.formatPrefix,gw}function QVe(t){return Math.max(0,-G0(Math.abs(t)))}function ZVe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(G0(e)/3)))*3-G0(Math.abs(t)))}function JVe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,G0(e)-G0(t))+1}function wte(t,e,r,n){var i=ZT(t,e,r),a;switch(n=ky(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=ZVe(i,o))&&(n.precision=a),xte(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=JVe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=QVe(i))&&(n.precision=a-(n.type==="%")*2);break}}return r8(n)}function Df(t){var e=t.domain;return t.ticks=function(r){var n=e();return XT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return wte(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=QT(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Q_(){var t=e8();return t.copy=function(){return Bx(t,Q_())},Ls.apply(t,arguments),Df(t)}function bte(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Y_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return bte(t).unknown(e)},t=arguments.length?Array.from(t,Y_):[0,1],Df(r)}function _te(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function gB(t){return Math.log(t)}function vB(t){return Math.exp(t)}function eze(t){return-Math.log(-t)}function tze(t){return-Math.exp(-t)}function rze(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nze(t){return t===10?rze:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ize(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yB(t){return(e,r)=>-t(-e,r)}function n8(t){const e=t(gB,vB),r=e.domain;let n=10,i,a;function o(){return i=ize(n),a=nze(n),r()[0]<0?(i=yB(i),a=yB(a),t(eze,tze)):t(gB,vB),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const x=s==null?10:+s;let v=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}v.length*2<x&&(v=XT(c,u,x))}else v=XT(h,p,Math.min(p-h,x)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ky(l)).precision==null&&(l.trim=!0),l=r8(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(_te(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function Ste(){const t=n8(SA()).domain([1,10]);return t.copy=()=>Bx(t,Ste()).base(t.base()),Ls.apply(t,arguments),t}function xB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function i8(t){var e=1,r=t(xB(e),wB(e));return r.constant=function(n){return arguments.length?t(xB(e=+n),wB(e)):e},Df(r)}function Ate(){var t=i8(SA());return t.copy=function(){return Bx(t,Ate()).constant(t.constant())},Ls.apply(t,arguments)}function bB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aze(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oze(t){return t<0?-t*t:t*t}function a8(t){var e=t(Qa,Qa),r=1;function n(){return r===1?t(Qa,Qa):r===.5?t(aze,oze):t(bB(r),bB(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Df(e)}function o8(){var t=a8(SA());return t.copy=function(){return Bx(t,o8()).exponent(t.exponent())},Ls.apply(t,arguments),t}function sze(){return o8.apply(null,arguments).exponent(.5)}function _B(t){return Math.sign(t)*t*t}function lze(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ete(){var t=e8(),e=[0,1],r=!1,n;function i(a){var o=lze(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(_B(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Y_)).map(_B)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ete(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ls.apply(i,arguments),Df(i)}function Cte(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=hVe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Lx(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ef),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Cte().domain(t).range(e).unknown(n)},Ls.apply(a,arguments)}function Nte(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Lx(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Nte().domain([t,e]).range(i).unknown(a)},Ls.apply(Df(o),arguments)}function Tte(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Lx(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Tte().domain(t).range(e).unknown(r)},Ls.apply(i,arguments)}const vC=new Date,yC=new Date;function Pi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>Pi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(vC.setTime(+a),yC.setTime(+o),t(vC),t(yC),Math.floor(r(vC,yC))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Z_=Pi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Z_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Z_);Z_.range;const Jc=1e3,_s=Jc*60,eu=_s*60,_u=eu*24,s8=_u*7,SB=_u*30,xC=_u*365,kh=Pi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jc)},(t,e)=>(e-t)/Jc,t=>t.getUTCSeconds());kh.range;const l8=Pi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jc)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getMinutes());l8.range;const c8=Pi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCMinutes());c8.range;const u8=Pi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jc-t.getMinutes()*_s)},(t,e)=>{t.setTime(+t+e*eu)},(t,e)=>(e-t)/eu,t=>t.getHours());u8.range;const d8=Pi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*eu)},(t,e)=>(e-t)/eu,t=>t.getUTCHours());d8.range;const $x=Pi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_s)/_u,t=>t.getDate()-1);$x.range;const AA=Pi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_u,t=>t.getUTCDate()-1);AA.range;const Pte=Pi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_u,t=>Math.floor(t/_u));Pte.range;function Ep(t){return Pi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*_s)/s8)}const EA=Ep(0),J_=Ep(1),cze=Ep(2),uze=Ep(3),K0=Ep(4),dze=Ep(5),fze=Ep(6);EA.range;J_.range;cze.range;uze.range;K0.range;dze.range;fze.range;function Cp(t){return Pi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/s8)}const CA=Cp(0),e5=Cp(1),hze=Cp(2),pze=Cp(3),Y0=Cp(4),mze=Cp(5),gze=Cp(6);CA.range;e5.range;hze.range;pze.range;Y0.range;mze.range;gze.range;const f8=Pi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());f8.range;const h8=Pi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());h8.range;const Su=Pi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Su.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Su.range;const Au=Pi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Au.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Au.range;function Ite(t,e,r,n,i,a){const o=[[kh,1,Jc],[kh,5,5*Jc],[kh,15,15*Jc],[kh,30,30*Jc],[a,1,_s],[a,5,5*_s],[a,15,15*_s],[a,30,30*_s],[i,1,eu],[i,3,3*eu],[i,6,6*eu],[i,12,12*eu],[n,1,_u],[n,2,2*_u],[r,1,s8],[e,1,SB],[e,3,3*SB],[t,1,xC]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Y6(([,,x])=>x).right(o,h);if(p===o.length)return t.every(ZT(c/xC,u/xC,f));if(p===0)return Z_.every(Math.max(ZT(c,u,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[vze,yze]=Ite(Au,h8,CA,Pte,d8,c8),[xze,wze]=Ite(Su,f8,EA,$x,u8,l8);function wC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function M1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bze(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=L1(i),u=F1(i),f=L1(a),h=F1(a),p=L1(o),m=F1(o),g=L1(s),x=F1(s),v=L1(l),y=F1(l),w={a:K,A:$,b:H,B:te,c:null,d:PB,e:PB,f:Hze,g:eHe,G:rHe,H:Uze,I:Vze,j:zze,L:Ote,m:qze,M:Wze,p:ie,q:F,Q:kB,s:jB,S:Gze,u:Kze,U:Yze,V:Xze,w:Qze,W:Zze,x:null,X:null,y:Jze,Y:tHe,Z:nHe,"%":OB},C={a:q,A:Q,b:se,B:G,c:null,d:IB,e:IB,f:sHe,g:vHe,G:xHe,H:iHe,I:aHe,j:oHe,L:jte,m:lHe,M:cHe,p:le,q:de,Q:kB,s:jB,S:uHe,u:dHe,U:fHe,V:hHe,w:pHe,W:mHe,x:null,X:null,y:gHe,Y:yHe,Z:wHe,"%":OB},A={a:R,A:I,b:k,B:D,c:z,d:NB,e:NB,f:Lze,g:CB,G:EB,H:TB,I:TB,j:jze,L:Mze,m:kze,M:Rze,p:P,q:Oze,Q:Bze,s:$ze,S:Dze,u:Cze,U:Nze,V:Tze,w:Eze,W:Pze,x:J,X:U,y:CB,Y:EB,Z:Ize,"%":Fze};w.x=O(r,w),w.X=O(n,w),w.c=O(e,w),C.x=O(r,C),C.X=O(n,C),C.c=O(e,C);function O(ae,ye){return function(ge){var ve=[],Re=-1,Me=0,Se=ae.length,W,Pe,ce;for(ge instanceof Date||(ge=new Date(+ge));++Re<Se;)ae.charCodeAt(Re)===37&&(ve.push(ae.slice(Me,Re)),(Pe=AB[W=ae.charAt(++Re)])!=null?W=ae.charAt(++Re):Pe=W==="e"?" ":"0",(ce=ye[W])&&(W=ce(ge,Pe)),ve.push(W),Me=Re+1);return ve.push(ae.slice(Me,Re)),ve.join("")}}function N(ae,ye){return function(ge){var ve=M1(1900,void 0,1),Re=S(ve,ae,ge+="",0),Me,Se;if(Re!=ge.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(ye&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Me=bC(M1(ve.y,0,1)),Se=Me.getUTCDay(),Me=Se>4||Se===0?e5.ceil(Me):e5(Me),Me=AA.offset(Me,(ve.V-1)*7),ve.y=Me.getUTCFullYear(),ve.m=Me.getUTCMonth(),ve.d=Me.getUTCDate()+(ve.w+6)%7):(Me=wC(M1(ve.y,0,1)),Se=Me.getDay(),Me=Se>4||Se===0?J_.ceil(Me):J_(Me),Me=$x.offset(Me,(ve.V-1)*7),ve.y=Me.getFullYear(),ve.m=Me.getMonth(),ve.d=Me.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Se="Z"in ve?bC(M1(ve.y,0,1)).getUTCDay():wC(M1(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Se+5)%7:ve.w+ve.U*7-(Se+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,bC(ve)):wC(ve)}}function S(ae,ye,ge,ve){for(var Re=0,Me=ye.length,Se=ge.length,W,Pe;Re<Me;){if(ve>=Se)return-1;if(W=ye.charCodeAt(Re++),W===37){if(W=ye.charAt(Re++),Pe=A[W in AB?ye.charAt(Re++):W],!Pe||(ve=Pe(ae,ge,ve))<0)return-1}else if(W!=ge.charCodeAt(ve++))return-1}return ve}function P(ae,ye,ge){var ve=c.exec(ye.slice(ge));return ve?(ae.p=u.get(ve[0].toLowerCase()),ge+ve[0].length):-1}function R(ae,ye,ge){var ve=p.exec(ye.slice(ge));return ve?(ae.w=m.get(ve[0].toLowerCase()),ge+ve[0].length):-1}function I(ae,ye,ge){var ve=f.exec(ye.slice(ge));return ve?(ae.w=h.get(ve[0].toLowerCase()),ge+ve[0].length):-1}function k(ae,ye,ge){var ve=v.exec(ye.slice(ge));return ve?(ae.m=y.get(ve[0].toLowerCase()),ge+ve[0].length):-1}function D(ae,ye,ge){var ve=g.exec(ye.slice(ge));return ve?(ae.m=x.get(ve[0].toLowerCase()),ge+ve[0].length):-1}function z(ae,ye,ge){return S(ae,e,ye,ge)}function J(ae,ye,ge){return S(ae,r,ye,ge)}function U(ae,ye,ge){return S(ae,n,ye,ge)}function K(ae){return o[ae.getDay()]}function $(ae){return a[ae.getDay()]}function H(ae){return l[ae.getMonth()]}function te(ae){return s[ae.getMonth()]}function ie(ae){return i[+(ae.getHours()>=12)]}function F(ae){return 1+~~(ae.getMonth()/3)}function q(ae){return o[ae.getUTCDay()]}function Q(ae){return a[ae.getUTCDay()]}function se(ae){return l[ae.getUTCMonth()]}function G(ae){return s[ae.getUTCMonth()]}function le(ae){return i[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ye=O(ae+="",w);return ye.toString=function(){return ae},ye},parse:function(ae){var ye=N(ae+="",!1);return ye.toString=function(){return ae},ye},utcFormat:function(ae){var ye=O(ae+="",C);return ye.toString=function(){return ae},ye},utcParse:function(ae){var ye=N(ae+="",!0);return ye.toString=function(){return ae},ye}}}var AB={"-":"",_:" ",0:"0"},qi=/^\s*\d+/,_ze=/^%/,Sze=/[\\^$*+?|[\]().{}]/g;function Sr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Aze(t){return t.replace(Sze,"\\$&")}function L1(t){return new RegExp("^(?:"+t.map(Aze).join("|")+")","i")}function F1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Eze(t,e,r){var n=qi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Cze(t,e,r){var n=qi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Nze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Tze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Pze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function EB(t,e,r){var n=qi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function CB(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ize(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Oze(t,e,r){var n=qi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function kze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function NB(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function jze(t,e,r){var n=qi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function TB(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Rze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Dze(t,e,r){var n=qi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Mze(t,e,r){var n=qi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Lze(t,e,r){var n=qi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Fze(t,e,r){var n=_ze.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Bze(t,e,r){var n=qi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function $ze(t,e,r){var n=qi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function PB(t,e){return Sr(t.getDate(),e,2)}function Uze(t,e){return Sr(t.getHours(),e,2)}function Vze(t,e){return Sr(t.getHours()%12||12,e,2)}function zze(t,e){return Sr(1+$x.count(Su(t),t),e,3)}function Ote(t,e){return Sr(t.getMilliseconds(),e,3)}function Hze(t,e){return Ote(t,e)+"000"}function qze(t,e){return Sr(t.getMonth()+1,e,2)}function Wze(t,e){return Sr(t.getMinutes(),e,2)}function Gze(t,e){return Sr(t.getSeconds(),e,2)}function Kze(t){var e=t.getDay();return e===0?7:e}function Yze(t,e){return Sr(EA.count(Su(t)-1,t),e,2)}function kte(t){var e=t.getDay();return e>=4||e===0?K0(t):K0.ceil(t)}function Xze(t,e){return t=kte(t),Sr(K0.count(Su(t),t)+(Su(t).getDay()===4),e,2)}function Qze(t){return t.getDay()}function Zze(t,e){return Sr(J_.count(Su(t)-1,t),e,2)}function Jze(t,e){return Sr(t.getFullYear()%100,e,2)}function eHe(t,e){return t=kte(t),Sr(t.getFullYear()%100,e,2)}function tHe(t,e){return Sr(t.getFullYear()%1e4,e,4)}function rHe(t,e){var r=t.getDay();return t=r>=4||r===0?K0(t):K0.ceil(t),Sr(t.getFullYear()%1e4,e,4)}function nHe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Sr(e/60|0,"0",2)+Sr(e%60,"0",2)}function IB(t,e){return Sr(t.getUTCDate(),e,2)}function iHe(t,e){return Sr(t.getUTCHours(),e,2)}function aHe(t,e){return Sr(t.getUTCHours()%12||12,e,2)}function oHe(t,e){return Sr(1+AA.count(Au(t),t),e,3)}function jte(t,e){return Sr(t.getUTCMilliseconds(),e,3)}function sHe(t,e){return jte(t,e)+"000"}function lHe(t,e){return Sr(t.getUTCMonth()+1,e,2)}function cHe(t,e){return Sr(t.getUTCMinutes(),e,2)}function uHe(t,e){return Sr(t.getUTCSeconds(),e,2)}function dHe(t){var e=t.getUTCDay();return e===0?7:e}function fHe(t,e){return Sr(CA.count(Au(t)-1,t),e,2)}function Rte(t){var e=t.getUTCDay();return e>=4||e===0?Y0(t):Y0.ceil(t)}function hHe(t,e){return t=Rte(t),Sr(Y0.count(Au(t),t)+(Au(t).getUTCDay()===4),e,2)}function pHe(t){return t.getUTCDay()}function mHe(t,e){return Sr(e5.count(Au(t)-1,t),e,2)}function gHe(t,e){return Sr(t.getUTCFullYear()%100,e,2)}function vHe(t,e){return t=Rte(t),Sr(t.getUTCFullYear()%100,e,2)}function yHe(t,e){return Sr(t.getUTCFullYear()%1e4,e,4)}function xHe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Y0(t):Y0.ceil(t),Sr(t.getUTCFullYear()%1e4,e,4)}function wHe(){return"+0000"}function OB(){return"%"}function kB(t){return+t}function jB(t){return Math.floor(+t/1e3)}var cm,Dte,Mte;bHe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bHe(t){return cm=bze(t),Dte=cm.format,cm.parse,Mte=cm.utcFormat,cm.utcParse,cm}function _He(t){return new Date(t)}function SHe(t){return t instanceof Date?+t:+new Date(+t)}function p8(t,e,r,n,i,a,o,s,l,c){var u=e8(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),y=c("%b %d"),w=c("%B"),C=c("%Y");function A(O){return(l(O)<O?p:s(O)<O?m:o(O)<O?g:a(O)<O?x:n(O)<O?i(O)<O?v:y:r(O)<O?w:C)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?h(Array.from(O,SHe)):h().map(_He)},u.ticks=function(O){var N=h();return t(N[0],N[N.length-1],O??10)},u.tickFormat=function(O,N){return N==null?A:c(N)},u.nice=function(O){var N=h();return(!O||typeof O.range!="function")&&(O=e(N[0],N[N.length-1],O??10)),O?h(_te(N,O)):u},u.copy=function(){return Bx(u,p8(t,e,r,n,i,a,o,s,l,c))},u}function AHe(){return Ls.apply(p8(xze,wze,Su,f8,EA,$x,u8,l8,kh,Dte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EHe(){return Ls.apply(p8(vze,yze,Au,h8,CA,AA,d8,c8,kh,Mte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function NA(){var t=0,e=1,r,n,i,a,o=Qa,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=u(Hg),c.rangeRound=u(J6),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Mf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Lte(){var t=Df(NA()(Qa));return t.copy=function(){return Mf(t,Lte())},Ou.apply(t,arguments)}function Fte(){var t=n8(NA()).domain([1,10]);return t.copy=function(){return Mf(t,Fte()).base(t.base())},Ou.apply(t,arguments)}function Bte(){var t=i8(NA());return t.copy=function(){return Mf(t,Bte()).constant(t.constant())},Ou.apply(t,arguments)}function m8(){var t=a8(NA());return t.copy=function(){return Mf(t,m8()).exponent(t.exponent())},Ou.apply(t,arguments)}function CHe(){return m8.apply(null,arguments).exponent(.5)}function $te(){var t=[],e=Qa;function r(n){if(n!=null&&!isNaN(n=+n))return e((Lx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ef),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>fVe(t,a/n))},r.copy=function(){return $te(e).domain(t)},Ou.apply(r,arguments)}function TA(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=Qa,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(n*g<n*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(x){var v,y,w;return arguments.length?([v,y,w]=x,c=FVe(g,[v,y,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(Hg),p.rangeRound=m(J6),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Ute(){var t=Df(TA()(Qa));return t.copy=function(){return Mf(t,Ute())},Ou.apply(t,arguments)}function Vte(){var t=n8(TA()).domain([.1,1,10]);return t.copy=function(){return Mf(t,Vte()).base(t.base())},Ou.apply(t,arguments)}function zte(){var t=i8(TA());return t.copy=function(){return Mf(t,zte()).constant(t.constant())},Ou.apply(t,arguments)}function g8(){var t=a8(TA());return t.copy=function(){return Mf(t,g8()).exponent(t.exponent())},Ou.apply(t,arguments)}function NHe(){return g8.apply(null,arguments).exponent(.5)}const RB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ty,scaleDiverging:Ute,scaleDivergingLog:Vte,scaleDivergingPow:g8,scaleDivergingSqrt:NHe,scaleDivergingSymlog:zte,scaleIdentity:bte,scaleImplicit:JT,scaleLinear:Q_,scaleLog:Ste,scaleOrdinal:X6,scalePoint:Pv,scalePow:o8,scaleQuantile:Cte,scaleQuantize:Nte,scaleRadial:Ete,scaleSequential:Lte,scaleSequentialLog:Fte,scaleSequentialPow:m8,scaleSequentialQuantile:$te,scaleSequentialSqrt:CHe,scaleSequentialSymlog:Bte,scaleSqrt:sze,scaleSymlog:Ate,scaleThreshold:Tte,scaleTime:AHe,scaleUtc:EHe,tickFormat:wte},Symbol.toStringTag,{value:"Module"}));var THe=Dg;function PHe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!THe(o):r(o,s)))var s=o,l=a}return l}var Hte=PHe;function IHe(t,e){return t>e}var OHe=IHe,kHe=Hte,jHe=OHe,RHe=Vg;function DHe(t){return t&&t.length?kHe(t,RHe,jHe):void 0}var MHe=DHe;const PA=Rr(MHe);function LHe(t,e){return t<e}var FHe=LHe,BHe=Hte,$He=FHe,UHe=Vg;function VHe(t){return t&&t.length?BHe(t,UHe,$He):void 0}var zHe=VHe;const IA=Rr(zHe);var HHe=I6,qHe=Rf,WHe=Zee,GHe=Po;function KHe(t,e){var r=GHe(t)?HHe:WHe;return r(t,qHe(e))}var YHe=KHe,XHe=Xee,QHe=YHe;function ZHe(t,e){return XHe(QHe(t,e),1)}var JHe=ZHe;const eqe=Rr(JHe);var tqe=q6;function rqe(t,e){return tqe(t,e)}var nqe=rqe;const OA=Rr(nqe);var qg=1e9,iqe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y8,bn=!0,js="[DecimalError] ",zh=js+"Invalid argument: ",v8=js+"Exponent out of range: ",Wg=Math.floor,bh=Math.pow,aqe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qo,Mi=1e7,mn=7,qte=9007199254740991,t5=Wg(qte/mn),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*mn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};bt.dividedBy=bt.div=function(t){return lu(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,r=e.constructor;return en(lu(e,new r(t),0,1),r.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return ui(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(qo))throw Error(js+"NaN");if(r.s<1)throw Error(js+(r.s?"NaN":"-Infinity"));return r.eq(qo)?new n(0):(bn=!1,e=lu(jy(r,a),jy(t,a),a),bn=!0,en(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kte(e,t):Wte(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(js+"NaN");return r.s?(bn=!1,e=lu(r,t,0,1).times(t),bn=!0,r.minus(e)):en(new n(r),i)};bt.naturalExponential=bt.exp=function(){return Gte(this)};bt.naturalLogarithm=bt.ln=function(){return jy(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wte(e,t):Kte(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zh+t);if(e=ui(i)+1,n=i.d.length-1,r=n*mn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};bt.squareRoot=bt.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(js+"NaN")}for(t=ui(s),bn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=tc(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(lu(s,a,o+2)).times(.5),tc(a.d).slice(0,o)===(e=tc(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(en(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return bn=!0,en(n,r)};bt.times=bt.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%Mi|0,e=s/Mi|0;a[i]=(a[i]+e)%Mi|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,bn?en(t,f.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vc(t,0,qg),e===void 0?e=n.rounding:vc(e,0,8),en(r,t+ui(r)+1,e))};bt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=op(n,!0):(vc(t,0,qg),e===void 0?e=i.rounding:vc(e,0,8),n=en(new i(n),t+1,e),r=op(n,!0,t+1)),r};bt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?op(i):(vc(t,0,qg),e===void 0?e=a.rounding:vc(e,0,8),n=en(new a(i),t+ui(i)+1,e),r=op(n.abs(),!1,t+ui(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return en(new e(t),ui(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(qo);if(s=new l(s),!s.s){if(t.s<1)throw Error(js+"Infinity");return s}if(s.eq(qo))return s;if(n=l.precision,t.eq(qo))return en(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=qte){for(i=new l(qo),e=Math.ceil(n/mn+4),bn=!1;r%2&&(i=i.times(s),MB(i.d,e)),r=Wg(r/2),r!==0;)s=s.times(s),MB(s.d,e);return bn=!0,t.s<0?new l(qo).div(i):en(i,n)}}else if(a<0)throw Error(js+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,bn=!1,i=t.times(jy(s,n+c)),bn=!0,i=Gte(i),i.s=a,i};bt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ui(i),n=op(i,r<=a.toExpNeg||r>=a.toExpPos)):(vc(t,1,qg),e===void 0?e=a.rounding:vc(e,0,8),i=en(new a(i),t,e),r=ui(i),n=op(i,t<=r||r<=a.toExpNeg,t)),n};bt.toSignificantDigits=bt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vc(t,1,qg),e===void 0?e=n.rounding:vc(e,0,8)),en(new n(r),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ui(t),r=t.constructor;return op(t,e<=r.toExpNeg||e>=r.toExpPos)};function Wte(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),bn?en(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/mn),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Mi|0,l[a]%=Mi;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,bn?en(e,f):e}function vc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zh+t)}function tc(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=mn-n.length,r&&(a+=Sd(r)),a+=n;o=t[e],n=o+"",r=mn-n.length,r&&(a+=Sd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var lu=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Mi|0,o=a/Mi|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Mi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,m,g,x,v,y,w,C,A,O,N,S,P=n.constructor,R=n.s==i.s?1:-1,I=n.d,k=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(js+"Division by zero");for(l=n.e-i.e,N=k.length,A=I.length,p=new P(R),m=p.d=[],c=0;k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--l,a==null?y=a=P.precision:o?y=a+(ui(n)-ui(i))+1:y=a,y<0)return new P(0);if(y=y/mn+2|0,c=0,N==1)for(u=0,k=k[0],y++;(c<A||u)&&y--;c++)w=u*Mi+(I[c]||0),m[c]=w/k|0,u=w%k|0;else{for(u=Mi/(k[0]+1)|0,u>1&&(k=t(k,u),I=t(I,u),N=k.length,A=I.length),C=N,g=I.slice(0,N),x=g.length;x<N;)g[x++]=0;S=k.slice(),S.unshift(0),O=k[0],k[1]>=Mi/2&&++O;do u=0,s=e(k,g,N,x),s<0?(v=g[0],N!=x&&(v=v*Mi+(g[1]||0)),u=v/O|0,u>1?(u>=Mi&&(u=Mi-1),f=t(k,u),h=f.length,x=g.length,s=e(f,g,h,x),s==1&&(u--,r(f,N<h?S:k,h))):(u==0&&(s=u=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(g,f,x),s==-1&&(x=g.length,s=e(k,g,N,x),s<1&&(u++,r(g,N<x?S:k,x))),x=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[x++]=I[C]||0:(g=[I[C]],x=1);while((C++<A||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,en(p,o?a+ui(p)+1:a)}}();function Gte(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(ui(t)>16)throw Error(v8+ui(t));if(!t.s)return new u(qo);for(bn=!1,s=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(bh(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(qo),u.precision=s;;){if(i=en(i.times(t),s),r=r.times(++l),o=a.plus(lu(i,r,s)),tc(o.d).slice(0,s)===tc(a.d).slice(0,s)){for(;c--;)a=en(a.times(a),s);return u.precision=f,e==null?(bn=!0,en(a,f)):a}a=o}}function ui(t){for(var e=t.e*mn,r=t.d[0];r>=10;r/=10)e++;return e}function _C(t,e,r){if(e>t.LN10.sd())throw bn=!0,r&&(t.precision=r),Error(js+"LN10 precision limit exceeded");return en(new t(t.LN10),e)}function Sd(t){for(var e="";t--;)e+="0";return e}function jy(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(js+(p.s?"NaN":"-Infinity"));if(p.eq(qo))return new g(0);if(e==null?(bn=!1,c=x):c=e,p.eq(10))return e==null&&(bn=!0),_C(g,c);if(c+=h,g.precision=c,r=tc(m),n=r.charAt(0),a=ui(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=tc(p.d),n=r.charAt(0),f++;a=ui(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=_C(g,c+2,x).times(a+""),p=jy(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=x,e==null?(bn=!0,en(p,x)):p;for(s=o=p=lu(p.minus(qo),p.plus(qo),c),u=en(p.times(p),c),i=3;;){if(o=en(o.times(u),c),l=s.plus(lu(o,new g(i),c)),tc(l.d).slice(0,c)===tc(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(_C(g,c+2,x).times(a+""))),s=lu(s,new g(f),c),g.precision=x,e==null?(bn=!0,en(s,x)):s;s=l,i+=2}}function DB(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Wg(r/mn),t.d=[],n=(r+1)%mn,r<0&&(n+=mn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=mn;n<i;)t.d.push(+e.slice(n,n+=mn));e=e.slice(n),n=mn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),bn&&(t.e>t5||t.e<-t5))throw Error(v8+r)}else t.s=0,t.e=0,t.d=[0];return t}function en(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=mn,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/mn),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=mn,i=n-mn+o}if(r!==void 0&&(a=bh(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/bh(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=ui(t),f.length=1,e=e-a-1,f[0]=bh(10,(mn-e%mn)%mn),t.e=Wg(-e/mn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=bh(10,mn-n),f[u]=i>0?(c/bh(10,o-i)%bh(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Mi&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=Mi)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(bn&&(t.e>t5||t.e<-t5))throw Error(v8+ui(t));return t}function Kte(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),bn?en(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/mn),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Mi-1;--l[a],l[i]+=Mi}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,bn?en(e,p):e):new h(0)}function op(t,e,r){var n,i=ui(t),a=tc(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Sd(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Sd(-i-1)+a,r&&(n=r-o)>0&&(a+=Sd(n))):i>=o?(a+=Sd(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Sd(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Sd(n))),t.s<0?"-"+a:a}function MB(t,e){if(t.length>e)return t.length=e,!0}function Yte(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return DB(o,a.toString())}else if(typeof a!="string")throw Error(zh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,aqe.test(a))DB(o,a);else throw Error(zh+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yte,i.config=i.set=oqe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function oqe(t){if(!t||typeof t!="object")throw Error(js+"Object expected");var e,r,n,i=["precision",1,qg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Wg(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zh+r+": "+n);return this}var y8=Yte(iqe);qo=new y8(1);const Yr=y8;function sqe(t){return dqe(t)||uqe(t)||cqe(t)||lqe()}function lqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cqe(t,e){if(t){if(typeof t=="string")return nP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(t,e)}}function uqe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dqe(t){if(Array.isArray(t))return nP(t)}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fqe=function(e){return e},Xte={},Qte=function(e){return e===Xte},LB=function(e){return function r(){return arguments.length===0||arguments.length===1&&Qte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hqe=function t(e,r){return e===1?r:LB(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Xte}).length;return o>=e?r.apply(void 0,i):t(e-o,LB(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return Qte(f)?l.shift():f});return r.apply(void 0,sqe(u).concat(l))}))})},kA=function(e){return hqe(e.length,e)},iP=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},pqe=kA(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),mqe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return fqe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},aP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Zte=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function gqe(t){var e;return t===0?e=1:e=Math.floor(new Yr(t).abs().log(10).toNumber())+1,e}function vqe(t,e,r){for(var n=new Yr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var yqe=kA(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xqe=kA(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),wqe=kA(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jA={rangeStep:vqe,getDigitCount:gqe,interpolateNumber:yqe,uninterpolateNumber:xqe,uninterpolateTruncation:wqe};function oP(t){return Sqe(t)||_qe(t)||Jte(t)||bqe()}function bqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _qe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sqe(t){if(Array.isArray(t))return sP(t)}function Ry(t,e){return Cqe(t)||Eqe(t,e)||Jte(t,e)||Aqe()}function Aqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return sP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sP(t,e)}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eqe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Cqe(t){if(Array.isArray(t))return t}function ere(t){var e=Ry(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function tre(t,e,r){if(t.lte(0))return new Yr(0);var n=jA.getDigitCount(t.toNumber()),i=new Yr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Yr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Yr(Math.ceil(l))}function Nqe(t,e,r){var n=1,i=new Yr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Yr(10).pow(jA.getDigitCount(t)-1),i=new Yr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Yr(Math.floor(t)))}else t===0?i=new Yr(Math.floor((e-1)/2)):r||(i=new Yr(Math.floor(t)));var o=Math.floor((e-1)/2),s=mqe(pqe(function(l){return i.add(new Yr(l-o).mul(n)).toNumber()}),iP);return s(0,e)}function rre(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Yr(0),tickMin:new Yr(0),tickMax:new Yr(0)};var a=tre(new Yr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Yr(0):(o=new Yr(t).add(e).div(2),o=o.sub(new Yr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Yr(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?rre(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new Yr(s).mul(a)),tickMax:o.add(new Yr(l).mul(a))})}function Tqe(t){var e=Ry(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=ere([r,n]),l=Ry(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(oP(iP(0,i-1).map(function(){return 1/0}))):[].concat(oP(iP(0,i-1).map(function(){return-1/0})),[u]);return r>n?aP(f):f}if(c===u)return Nqe(c,i,a);var h=rre(c,u,o,a),p=h.step,m=h.tickMin,g=h.tickMax,x=jA.rangeStep(m,g.add(new Yr(.1).mul(p)),p);return r>n?aP(x):x}function Pqe(t,e){var r=Ry(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ere([n,i]),s=Ry(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=tre(new Yr(c).sub(l).div(u-1),a,0),h=[].concat(oP(jA.rangeStep(new Yr(l),new Yr(c).sub(new Yr(.99).mul(f)),f)),[c]);return n>i?aP(h):h}var Iqe=Zte(Tqe),Oqe=Zte(Pqe),kqe="Invariant failed";function sp(t,e){throw new Error(kqe)}var jqe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r5.apply(this,arguments)}function Rqe(t,e){return Fqe(t)||Lqe(t,e)||Mqe(t,e)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mqe(t,e){if(t){if(typeof t=="string")return FB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FB(t,e)}}function FB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Fqe(t){if(Array.isArray(t))return t}function Bqe(t,e){if(t==null)return{};var r=$qe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $qe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,are(n.key),n)}}function zqe(t,e,r){return e&&Vqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hqe(t,e,r){return e=n5(e),qqe(t,nre()?Reflect.construct(e,r||[],n5(t).constructor):e.apply(t,r))}function qqe(t,e){if(e&&(X0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wqe(t)}function Wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!t})()}function n5(t){return n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n5(t)}function Gqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lP(t,e)}function ire(t,e,r){return e=are(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function are(t){var e=Kqe(t,"string");return X0(e)=="symbol"?e:e+""}function Kqe(t,e){if(X0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ux=function(t){function e(){return Uqe(this,e),Hqe(this,e,arguments)}return Gqe(e,t),zqe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Bqe(n,jqe),p=cr(h,!1);this.props.direction==="x"&&u.type!=="number"&&sp();var m=l.map(function(g){var x=c(g,s),v=x.x,y=x.y,w=x.value,C=x.errorVal;if(!C)return null;var A=[],O,N;if(Array.isArray(C)){var S=Rqe(C,2);O=S[0],N=S[1]}else O=N=C;if(a==="vertical"){var P=u.scale,R=y+i,I=R+o,k=R-o,D=P(w-O),z=P(w+N);A.push({x1:z,y1:I,x2:z,y2:k}),A.push({x1:D,y1:R,x2:z,y2:R}),A.push({x1:D,y1:I,x2:D,y2:k})}else if(a==="horizontal"){var J=f.scale,U=v+i,K=U-o,$=U+o,H=J(w-O),te=J(w+N);A.push({x1:K,y1:te,x2:$,y2:te}),A.push({x1:U,y1:H,x2:U,y2:te}),A.push({x1:K,y1:H,x2:$,y2:H})}return he.createElement(Yn,r5({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),A.map(function(ie){return he.createElement("line",r5({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return he.createElement(Yn,{className:"recharts-errorBars"},m)}}])}(he.Component);ire(Ux,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ire(Ux,"displayName","ErrorBar");function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function BB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(r),!0).forEach(function(n){Yqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yqe(t,e,r){return e=Xqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xqe(t){var e=Qqe(t,"string");return Dy(e)=="symbol"?e:e+""}function Qqe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ore=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=zo(r,f0);if(!o)return null;var s=f0.defaultProps,l=s!==void 0?ch(ch({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?ch(ch({},h),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||x||"square",color:x8(f),value:g||m,payload:p}}),ch(ch(ch({},l),f0.getWithHeight(o,i)),{},{payload:c,item:o})};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function $B(t){return tWe(t)||eWe(t)||Jqe(t)||Zqe()}function Zqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jqe(t,e){if(t){if(typeof t=="string")return cP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(t,e)}}function eWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tWe(t){if(Array.isArray(t))return cP(t)}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){p0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p0(t,e,r){return e=rWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rWe(t){var e=nWe(t,"string");return My(e)=="symbol"?e:e+""}function nWe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(t,e,r){return lr(t)||lr(e)?r:Ai(e)?Ts(t,e,r):er(e)?e(t):r}function Iv(t,e,r,n){var i=eqe(t,function(s){return ts(s,e)});if(r==="number"){var a=i.filter(function(s){return ut(s)||parseFloat(s)});return a.length?[IA(a),PA(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!lr(s)}):i;return o.map(function(s){return Ai(s)||s instanceof Date?s:""})}var iWe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(vl(f-u)!==vl(h-f)){var m=[];if(vl(h-f)===vl(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var x=h+l[1]-l[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var y=Math.min(u,h),w=Math.max(u,h);if(e>(y+f)/2&&e<=(w+f)/2){o=i[c].index;break}}}else for(var C=0;C<s;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<s-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===s-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},x8=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},aWe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],g=m.items,x=m.cateAxisId,v=g.filter(function(N){return ou(N.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,w=y!==void 0?Ln(Ln({},y),v[0].props):v[0].props,C=w.barSize,A=w[x];o[A]||(o[A]=[]);var O=lr(C)?r:C;o[A].push({item:v[0],stackList:v.slice(1),barSize:lr(O)?void 0:ap(O,n,0)})}}return o},oWe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=ap(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(C,A){return C+A.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,x={offset:g-c,size:0};u=o.reduce(function(C,A){var O={item:A.item,position:{offset:x.offset+x.size+c,size:h?p:A.barSize}},N=[].concat($B(C),[O]);return x=N[N.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){N.push({item:S,position:x})}),N},f)}else{var v=ap(n,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var y=(i-2*v-(l-1)*c)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;u=o.reduce(function(C,A,O){var N=[].concat($B(C),[{item:A.item,position:{offset:v+(y+c)*O+(y-w)/2,size:w}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},f)}return u},sWe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=ore({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ut(e[p]))return Ln(Ln({},e),{},p0({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ut(e[m]))return Ln(Ln({},e),{},p0({},m,e[m]+(h||0)))}return e},lWe=function(e,r,n){return lr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},sre=function(e,r,n,i,a){var o=r.props.children,s=Ps(o,Ux).filter(function(c){return lWe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=ts(u,n);if(lr(f))return c;var h=Array.isArray(f)?[IA(f),PA(f)]:[f,f],p=l.reduce(function(m,g){var x=ts(u,g,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},cWe=function(e,r,n,i,a){var o=r.map(function(s){return sre(e,s,n,a,i)}).filter(function(s){return!lr(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},lre=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&sre(e,l,c,i)||Iv(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},cre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ure=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},tu=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?vl(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Rx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},SC=new WeakMap,vw=function(e,r){if(typeof r!="function")return e;SC.has(e)||SC.set(e,new WeakMap);var n=SC.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},uWe=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Ty(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Q_(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Pv(),realScaleType:"point"}:a==="category"?{scale:Ty(),realScaleType:"band"}:{scale:Q_(),realScaleType:"linear"};if(ip(i)){var l="scale".concat(gA(i));return{scale:(RB[l]||Pv)(),realScaleType:RB[l]?l:"point"}}return er(i)?{scale:i}:{scale:Pv(),realScaleType:"point"}},VB=1e-4,dWe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-VB,o=Math.max(i[0],i[1])+VB,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},fWe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},hWe=function(e,r){if(!r||r.length!==2||!ut(r[0])||!ut(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ut(e[0])||e[0]<n)&&(a[0]=n),(!ut(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},pWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Rx(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},mWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Rx(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},gWe={sign:pWe,expand:ORe,none:V0,silhouette:kRe,wiggle:jRe,positive:mWe},vWe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=gWe[n],o=IRe().keys(i).value(function(s,l){return+ts(s,l,0)}).order(RT).offset(a);return o(e)},yWe=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ln(Ln({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var v=m[n],y=f[v]||{hasStack:!1,stackGroups:{}};if(Ai(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[Dx("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ln(Ln({},f),{},p0({},v,y))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var v=p.stackGroups[x];return Ln(Ln({},g),{},p0({},x,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:vWe(e,v.items,a)}))},m)}return Ln(Ln({},f),{},p0({},h,p))},u)},xWe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Iqe(c,a,s);return e.domain([IA(u),PA(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=Oqe(f,a,s);return{niceTicks:h}}return null};function zB(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lr(i[e.dataKey])){var s=T_(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ts(i,lr(o)?e.dataKey:o);return lr(l)?null:e.scale(l)}var HB=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ts(o,r.dataKey,r.domain[s]);return lr(l)?null:r.scale(l)-a/2+i},wWe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},bWe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ai(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},_We=function(e){return e.reduce(function(r,n){return[IA(n.concat([r[0]]).filter(ut)),PA(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},dre=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=_We(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uP=function(e,r,n){if(er(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ut(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(qB.test(e[0])){var a=+qB.exec(e[0])[1];i[0]=r[0]-a}else er(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ut(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(WB.test(e[1])){var o=+WB.exec(e[1])[1];i[1]=r[1]+o}else er(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},i5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=G6(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},GB=function(e,r,n){return!e||!e.length||OA(e,Ts(n,"type.defaultProps.domain"))?r:e},fre=function(e,r){var n=e.type.defaultProps?Ln(Ln({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Ln(Ln({},cr(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:x8(e),value:ts(r,i),type:l,payload:r,chartType:c,hide:u})};function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function KB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(r),!0).forEach(function(n){SWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SWe(t,e,r){return e=AWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AWe(t){var e=EWe(t,"string");return Ly(e)=="symbol"?e:e+""}function EWe(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a5=Math.PI/180,CWe=function(e){return e*180/Math.PI},na=function(e,r,n,i){return{x:e+Math.cos(-a5*i)*n,y:r+Math.sin(-a5*i)*n}},NWe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},TWe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=NWe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:CWe(c),angleInRadian:c}},PWe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},IWe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},XB=function(e,r){var n=e.x,i=e.y,a=TWe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=PWe(r),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?YB(YB({},r),{},{radius:o,angle:IWe(p,r)}):null};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}var OWe=["offset"];function kWe(t){return MWe(t)||DWe(t)||RWe(t)||jWe()}function jWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RWe(t,e){if(t){if(typeof t=="string")return dP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dP(t,e)}}function DWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MWe(t){if(Array.isArray(t))return dP(t)}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LWe(t,e){if(t==null)return{};var r=FWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(r),!0).forEach(function(n){BWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BWe(t,e,r){return e=$We(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $We(t){var e=UWe(t,"string");return Fy(e)=="symbol"?e:e+""}function UWe(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},By.apply(this,arguments)}var VWe=function(e){var r=e.value,n=e.formatter,i=lr(e.children)?r:e.children;return er(n)?n(i):i},zWe=function(e,r){var n=vl(r-e),i=Math.min(Math.abs(r-e),360);return n*i},HWe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,x=(f+h)/2,v=zWe(p,m),y=v>=0?1:-1,w,C;i==="insideStart"?(w=p+y*o,C=g):i==="insideEnd"?(w=m-y*o,C=!g):i==="end"&&(w=m+y*o,C=g),C=v<=0?C:!C;var A=na(c,u,x,w),O=na(c,u,x,w+(C?1:-1)*359),N="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(O.x,",").concat(O.y),S=lr(e.id)?Dx("recharts-radial-line-"):e.id;return he.createElement("text",By({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",s)}),he.createElement("defs",null,he.createElement("path",{id:S,d:N})),he.createElement("textPath",{xlinkHref:"#".concat(S)},r))},qWe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=na(o,s,c+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,v=na(o,s,x,h),y=v.x,w=v.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},WWe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,x=g*i,v=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return hi(hi({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var C={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return hi(hi({},C),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var A={x:s-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return hi(hi({},A),n?{width:Math.max(A.x-n.x,0),height:u}:{})}if(a==="right"){var O={x:s+c+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return hi(hi({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:u}:{})}var N=n?{width:c,height:u}:{};return a==="insideLeft"?hi({x:s+x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideRight"?hi({x:s+c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},N):a==="insideTop"?hi({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},N):a==="insideBottom"?hi({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},N):a==="insideTopLeft"?hi({x:s+x,y:l+h,textAnchor:y,verticalAnchor:m},N):a==="insideTopRight"?hi({x:s+c-x,y:l+h,textAnchor:v,verticalAnchor:m},N):a==="insideBottomLeft"?hi({x:s+x,y:l+u-h,textAnchor:y,verticalAnchor:p},N):a==="insideBottomRight"?hi({x:s+c-x,y:l+u-h,textAnchor:v,verticalAnchor:p},N):Mg(a)&&(ut(a.x)||Ih(a.x))&&(ut(a.y)||Ih(a.y))?hi({x:s+ap(a.x,c),y:l+ap(a.y,u),textAnchor:"end",verticalAnchor:"end"},N):hi({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},GWe=function(e){return"cx"in e&&ut(e.cx)};function Ta(t){var e=t.offset,r=e===void 0?5:e,n=LWe(t,OWe),i=hi({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||lr(s)&&lr(l)&&!E.isValidElement(c)&&!er(c))return null;if(E.isValidElement(c))return E.cloneElement(c,i);var p;if(er(c)){if(p=E.createElement(c,i),E.isValidElement(p))return p}else p=VWe(i);var m=GWe(a),g=cr(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return HWe(i,p,g);var x=m?qWe(i):WWe(i);return he.createElement(H_,By({className:pr("recharts-label",f)},g,x,{breakAll:h}),p)}Ta.displayName="Label";var hre=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,x=e.height,v=e.clockWise,y=e.labelViewBox;if(y)return y;if(ut(g)&&ut(x)){if(ut(f)&&ut(h))return{x:f,y:h,width:g,height:x};if(ut(p)&&ut(m))return{x:p,y:m,width:g,height:x}}return ut(f)&&ut(h)?{x:f,y:h,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},KWe=function(e,r){return e?e===!0?he.createElement(Ta,{key:"label-implicit",viewBox:r}):Ai(e)?he.createElement(Ta,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===Ta?E.cloneElement(e,{key:"label-implicit",viewBox:r}):he.createElement(Ta,{key:"label-implicit",content:e,viewBox:r}):er(e)?he.createElement(Ta,{key:"label-implicit",content:e,viewBox:r}):Mg(e)?he.createElement(Ta,By({viewBox:r},e,{key:"label-implicit"})):null:null},YWe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=hre(e),o=Ps(i,Ta).map(function(l,c){return E.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=KWe(e.label,r||a);return[s].concat(kWe(o))};Ta.parseViewBox=hre;Ta.renderCallByParent=YWe;function XWe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var QWe=XWe;const ZWe=Rr(QWe);function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}var JWe=["valueAccessor"],eGe=["data","dataKey","clockWise","id","textBreakAll"];function tGe(t){return aGe(t)||iGe(t)||nGe(t)||rGe()}function rGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nGe(t,e){if(t){if(typeof t=="string")return fP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(t,e)}}function iGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aGe(t){if(Array.isArray(t))return fP(t)}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o5.apply(this,arguments)}function ZB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(r),!0).forEach(function(n){oGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oGe(t,e,r){return e=sGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sGe(t){var e=lGe(t,"string");return $y(e)=="symbol"?e:e+""}function lGe(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e$(t,e){if(t==null)return{};var r=cGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uGe=function(e){return Array.isArray(e.value)?ZWe(e.value):e.value};function tf(t){var e=t.valueAccessor,r=e===void 0?uGe:e,n=e$(t,JWe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=e$(n,eGe);return!i||!i.length?null:he.createElement(Yn,{className:"recharts-label-list"},i.map(function(u,f){var h=lr(a)?r(u,f):ts(u&&u.payload,a),p=lr(s)?{}:{id:"".concat(s,"-").concat(f)};return he.createElement(Ta,o5({},cr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ta.parseViewBox(lr(o)?u:JB(JB({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}tf.displayName="LabelList";function dGe(t,e){return t?t===!0?he.createElement(tf,{key:"labelList-implicit",data:e}):he.isValidElement(t)||er(t)?he.createElement(tf,{key:"labelList-implicit",data:e,content:t}):Mg(t)?he.createElement(tf,o5({data:e},t,{key:"labelList-implicit"})):null:null}function fGe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ps(n,tf).map(function(o,s){return E.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=dGe(t.label,e);return[a].concat(tGe(i))}tf.renderCallByParent=fGe;function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hP.apply(this,arguments)}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){hGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hGe(t,e,r){return e=pGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pGe(t){var e=mGe(t,"string");return Uy(e)=="symbol"?e:e+""}function mGe(t,e){if(Uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gGe=function(e,r){var n=vl(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},yw=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/a5,h=c?a:a+o*f,p=na(r,n,u,h),m=na(r,n,i,h),g=c?a-o*f:a,x=na(r,n,u*Math.cos(f*a5),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},pre=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=gGe(o,s),c=o+l,u=na(r,n,a,o),f=na(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=na(r,n,i,o),m=na(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},vGe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=vl(u-c),h=yw({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,x=yw({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=x.circleTangency,y=x.lineTangency,w=x.theta,C=l?Math.abs(c-u):Math.abs(c-u)-g-w;if(C<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pre({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var O=yw({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),N=O.circleTangency,S=O.lineTangency,P=O.theta,R=yw({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=R.circleTangency,k=R.lineTangency,D=R.theta,z=l?Math.abs(c-u):Math.abs(c-u)-P-D;if(z<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},yGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mre=function(e){var r=r$(r$({},yGe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=pr("recharts-sector",h),m=o-a,g=ap(s,m,0,!0),x;return g>0&&Math.abs(u-f)<360?x=vGe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=pre({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),he.createElement("path",hP({},cr(r,!0),{className:p,d:x,role:"img"}))};function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function pP(){return pP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pP.apply(this,arguments)}function n$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(r),!0).forEach(function(n){xGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xGe(t,e,r){return e=wGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wGe(t){var e=bGe(t,"string");return Vy(e)=="symbol"?e:e+""}function bGe(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a$={curveBasisClosed:xRe,curveBasisOpen:wRe,curveBasis:yRe,curveBumpX:iRe,curveBumpY:aRe,curveLinearClosed:bRe,curveLinear:yA,curveMonotoneX:_Re,curveMonotoneY:SRe,curveNatural:ARe,curveStep:ERe,curveStepAfter:NRe,curveStepBefore:CRe},xw=function(e){return e.x===+e.x&&e.y===+e.y},B1=function(e){return e.x},$1=function(e){return e.y},_Ge=function(e,r){if(er(e))return e;var n="curve".concat(gA(e));return(n==="curveMonotone"||n==="curveBump")&&r?a$["".concat(n).concat(r==="vertical"?"Y":"X")]:a$[n]||yA},SGe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=_Ge(n,s),f=c?a.filter(function(g){return xw(g)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(g){return xw(g)}):o,m=f.map(function(g,x){return i$(i$({},g),{},{base:p[x]})});return s==="vertical"?h=cw().y($1).x1(B1).x0(function(g){return g.base.x}):h=cw().x(B1).y1($1).y0(function(g){return g.base.y}),h.defined(xw).curve(u),h(m)}return s==="vertical"&&ut(o)?h=cw().y($1).x1(B1).x0(o):ut(o)?h=cw().x(B1).y1($1).y0(o):h=mee().x(B1).y($1),h.defined(xw).curve(u),h(f)},mP=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?SGe(e):i;return he.createElement("path",pP({},cr(e,!1),P_(e),{className:pr("recharts-curve",r),d:o,ref:a}))},gre={exports:{}},AGe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EGe=AGe,CGe=EGe;function vre(){}function yre(){}yre.resetWarningCache=vre;var NGe=function(){function t(n,i,a,o,s,l){if(l!==CGe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yre,resetWarningCache:vre};return r.PropTypes=r,r};gre.exports=NGe();var TGe=gre.exports;const kr=Rr(TGe);var PGe=Object.getOwnPropertyNames,IGe=Object.getOwnPropertySymbols,OGe=Object.prototype.hasOwnProperty;function o$(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function ww(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function s$(t){return PGe(t).concat(IGe(t))}var kGe=Object.hasOwn||function(t,e){return OGe.call(t,e)};function Np(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jGe="__v",RGe="__o",DGe="_owner",l$=Object.getOwnPropertyDescriptor,c$=Object.keys;function MGe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function LGe(t,e){return Np(t.getTime(),e.getTime())}function FGe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function BGe(t,e){return t===e}function u$(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var $Ge=Np;function UGe(t,e,r){var n=c$(t),i=n.length;if(c$(e).length!==i)return!1;for(;i-- >0;)if(!xre(t,e,r,n[i]))return!1;return!0}function U1(t,e,r){var n=s$(t),i=n.length;if(s$(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!xre(t,e,r,a)||(o=l$(t,a),s=l$(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function VGe(t,e){return Np(t.valueOf(),e.valueOf())}function zGe(t,e){return t.source===e.source&&t.flags===e.flags}function d$(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function HGe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function qGe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xre(t,e,r,n){return(n===DGe||n===RGe||n===jGe)&&(t.$$typeof||e.$$typeof)?!0:kGe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var WGe="[object Arguments]",GGe="[object Boolean]",KGe="[object Date]",YGe="[object Error]",XGe="[object Map]",QGe="[object Number]",ZGe="[object Object]",JGe="[object RegExp]",eKe="[object Set]",tKe="[object String]",rKe="[object URL]",nKe=Array.isArray,f$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,h$=Object.assign,iKe=Object.prototype.toString.call.bind(Object.prototype.toString);function aKe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,x){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(m,g,x):v==="function"?i(m,g,x):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(m,g,x);if(nKe(m))return e(m,g,x);if(f$!=null&&f$(m))return f(m,g,x);if(y===Date)return r(m,g,x);if(y===RegExp)return c(m,g,x);if(y===Map)return a(m,g,x);if(y===Set)return u(m,g,x);var w=iKe(m);return w===KGe?r(m,g,x):w===JGe?c(m,g,x):w===XGe?a(m,g,x):w===eKe?u(m,g,x):w===ZGe?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,x):w===rKe?h(m,g,x):w===YGe?n(m,g,x):w===WGe?s(m,g,x):w===GGe||w===QGe||w===tKe?l(m,g,x):!1}}function oKe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?U1:MGe,areDatesEqual:LGe,areErrorsEqual:FGe,areFunctionsEqual:BGe,areMapsEqual:n?o$(u$,U1):u$,areNumbersEqual:$Ge,areObjectsEqual:n?U1:UGe,arePrimitiveWrappersEqual:VGe,areRegExpsEqual:zGe,areSetsEqual:n?o$(d$,U1):d$,areTypedArraysEqual:n?U1:HGe,areUrlsEqual:qGe};if(r&&(i=h$({},i,r(i))),e){var a=ww(i.areArraysEqual),o=ww(i.areMapsEqual),s=ww(i.areObjectsEqual),l=ww(i.areSetsEqual);i=h$({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function sKe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function lKe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var cKe=Lf();Lf({strict:!0});Lf({circular:!0});Lf({circular:!0,strict:!0});Lf({createInternalComparator:function(){return Np}});Lf({strict:!0,createInternalComparator:function(){return Np}});Lf({circular:!0,createInternalComparator:function(){return Np}});Lf({circular:!0,createInternalComparator:function(){return Np},strict:!0});function Lf(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=oKe(t),l=aKe(s),c=n?n(l):sKe(l);return lKe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function uKe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function p$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):uKe(i)};requestAnimationFrame(n)}function gP(t){"@babel/helpers - typeof";return gP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gP(t)}function dKe(t){return mKe(t)||pKe(t)||hKe(t)||fKe()}function fKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hKe(t,e){if(t){if(typeof t=="string")return m$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m$(t,e)}}function m$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mKe(t){if(Array.isArray(t))return t}function gKe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=dKe(o),l=s[0],c=s.slice(1);if(typeof l=="number"){p$(i.bind(null,c),l);return}i(l),p$(i.bind(null,c));return}gP(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function g$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(r),!0).forEach(function(n){wre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wre(t,e,r){return e=vKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vKe(t){var e=yKe(t,"string");return zy(e)==="symbol"?e:String(e)}function yKe(t,e){if(zy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xKe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},wKe=function(e){return e},bKe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ov=function(e,r){return Object.keys(r).reduce(function(n,i){return v$(v$({},n),{},wre({},i,e(i,r[i])))},{})},y$=function(e,r,n){return e.map(function(i){return"".concat(bKe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function _Ke(t,e){return EKe(t)||AKe(t,e)||bre(t,e)||SKe()}function SKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function EKe(t){if(Array.isArray(t))return t}function CKe(t){return PKe(t)||TKe(t)||bre(t)||NKe()}function NKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bre(t,e){if(t){if(typeof t=="string")return vP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(t,e)}}function TKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PKe(t){if(Array.isArray(t))return vP(t)}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s5=1e-4,_re=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Sre=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},x$=function(e,r){return function(n){var i=_re(e,r);return Sre(i,n)}},IKe=function(e,r){return function(n){var i=_re(e,r),a=[].concat(CKe(i.map(function(o,s){return o*s}).slice(1)),[0]);return Sre(a,n)}},w$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=_Ke(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=x$(i,o),h=x$(a,s),p=IKe(i,o),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var y=v>1?1:v,w=y,C=0;C<8;++C){var A=f(w)-y,O=p(w);if(Math.abs(A-y)<s5||O<s5)return h(w);w=m(w-A/O)}return h(w)};return g.isStepper=!1,g},OKe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,m=h*a,g=h+(p-m)*s/1e3,x=h*s/1e3+u;return Math.abs(x-f)<s5&&Math.abs(g)<s5?[f,0]:[x,g]};return l.isStepper=!0,l.dt=s,l},kKe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w$(i);case"spring":return OKe();default:if(i.split("(")[0]==="cubic-bezier")return w$(i)}return typeof i=="function"?i:null};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function b$(t){return DKe(t)||RKe(t)||Are(t)||jKe()}function jKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DKe(t){if(Array.isArray(t))return xP(t)}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){yP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yP(t,e,r){return e=MKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MKe(t){var e=LKe(t,"string");return Hy(e)==="symbol"?e:String(e)}function LKe(t,e){if(Hy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FKe(t,e){return UKe(t)||$Ke(t,e)||Are(t,e)||BKe()}function BKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return xP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Ke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function UKe(t){if(Array.isArray(t))return t}var l5=function(e,r,n){return e+(r-e)*n},wP=function(e){var r=e.from,n=e.to;return r!==n},VKe=function t(e,r,n){var i=Ov(function(a,o){if(wP(o)){var s=e(o.from,o.to,o.velocity),l=FKe(s,2),c=l[0],u=l[1];return Zi(Zi({},o),{},{from:c,velocity:u})}return o},r);return n<1?Ov(function(a,o){return wP(o)?Zi(Zi({},o),{},{velocity:l5(o.velocity,i[a].velocity,n),from:l5(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const zKe=function(t,e,r,n,i){var a=xKe(t,e),o=a.reduce(function(x,v){return Zi(Zi({},x),{},yP({},v,[t[v],e[v]]))},{}),s=a.reduce(function(x,v){return Zi(Zi({},x),{},yP({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Ov(function(v,y){return y.from},s)},p=function(){return!Object.values(s).filter(wP).length},m=function(v){c||(c=v);var y=v-c,w=y/r.dt;s=VKe(r,s,w),i(Zi(Zi(Zi({},t),e),h())),c=v,p()||(l=requestAnimationFrame(f))},g=function(v){u||(u=v);var y=(v-u)/n,w=Ov(function(A,O){return l5.apply(void 0,b$(O).concat([r(y)]))},o);if(i(Zi(Zi(Zi({},t),e),w)),y<1)l=requestAnimationFrame(f);else{var C=Ov(function(A,O){return l5.apply(void 0,b$(O).concat([r(1)]))},o);i(Zi(Zi(Zi({},t),e),C))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}var HKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qKe(t,e){if(t==null)return{};var r=WKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WKe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function AC(t){return XKe(t)||YKe(t)||KKe(t)||GKe()}function GKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KKe(t,e){if(t){if(typeof t=="string")return bP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bP(t,e)}}function YKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XKe(t){if(Array.isArray(t))return bP(t)}function bP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(r),!0).forEach(function(n){nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nv(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ere(n.key),n)}}function JKe(t,e,r){return e&&ZKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ere(t){var e=eYe(t,"string");return Q0(e)==="symbol"?e:String(e)}function eYe(t,e){if(Q0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_P(t,e)}function _P(t,e){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_P(t,e)}function rYe(t){var e=nYe();return function(){var n=c5(t),i;if(e){var a=c5(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return SP(this,i)}}function SP(t,e){if(e&&(Q0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AP(t)}function AP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nYe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c5(t){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c5(t)}var Eu=function(t){tYe(r,t);var e=rYe(r);function r(n,i){var a;QKe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(AP(a)),a.changeStyle=a.changeStyle.bind(AP(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),SP(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},SP(a);a.state={style:l?nv({},l,c):c}}else a.state={style:{}};return a}return JKe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?nv({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(cKe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var x={style:l?nv({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(x)}this.runAnimation(el(el({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=zKe(o,s,kKe(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,x,v){if(v===0)return g;var y=x.duration,w=x.easing,C=w===void 0?"ease":w,A=x.style,O=x.properties,N=x.onAnimationEnd,S=v>0?o[v-1]:x,P=O||Object.keys(A);if(typeof C=="function"||C==="spring")return[].concat(AC(g),[a.runJSAnimation.bind(a,{from:S.style,to:A,duration:y,easing:C}),y]);var R=y$(P,y,C),I=el(el(el({},S.style),A),{},{transition:R});return[].concat(AC(g),[I,y,N]).filter(wKe)};return this.manager.start([l].concat(AC(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gKe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?nv({},s,l):l,x=y$(Object.keys(g),o,c);m.start([u,a,el(el({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=qKe(i,HKe),c=E.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,v=m.className,y=E.cloneElement(p,el(el({},l),{},{style:el(el({},x),u),className:v}));return y};return c===1?f(E.Children.only(a)):he.createElement("div",null,E.Children.map(a,function(h){return f(h)}))}}]),r}(E.PureComponent);Eu.displayName="Animate";Eu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Eu.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function u5(){return u5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u5.apply(this,arguments)}function iYe(t,e){return lYe(t)||sYe(t,e)||oYe(t,e)||aYe()}function aYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oYe(t,e){if(t){if(typeof t=="string")return A$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A$(t,e)}}function A$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function lYe(t){if(Array.isArray(t))return t}function E$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(r),!0).forEach(function(n){cYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cYe(t,e,r){return e=uYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uYe(t){var e=dYe(t,"string");return qy(e)=="symbol"?e:e+""}function dYe(t,e){if(qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N$=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);u="M ".concat(e,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*m,`
            L `).concat(e+n,",").concat(r+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},fYe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},hYe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w8=function(e){var r=C$(C$({},hYe),e),n=E.useRef(),i=E.useState(-1),a=iYe(i,2),o=a[0],s=a[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=pr("recharts-rectangle",p);return y?he.createElement(Eu,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(C){var A=C.width,O=C.height,N=C.x,S=C.y;return he.createElement(Eu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:v,easing:m},he.createElement("path",u5({},cr(r,!0),{className:w,d:N$(N,S,A,O,h),ref:n})))}):he.createElement("path",u5({},cr(r,!0),{className:w,d:N$(l,c,u,f,h)}))};function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EP.apply(this,arguments)}var b8=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=pr("recharts-dot",a);return r===+r&&n===+n&&i===+i?he.createElement("circle",EP({},cr(e,!1),P_(e),{className:o,cx:r,cy:n,r:i})):null};function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}var pYe=["x","y","top","left","width","height","className"];function CP(){return CP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CP.apply(this,arguments)}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mYe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){gYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gYe(t,e,r){return e=vYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vYe(t){var e=yYe(t,"string");return Wy(e)=="symbol"?e:e+""}function yYe(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xYe(t,e){if(t==null)return{};var r=wYe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bYe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},_Ye=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,m=e.className,g=xYe(e,pYe),x=mYe({x:n,y:a,top:s,left:c,width:f,height:p},g);return!ut(n)||!ut(a)||!ut(f)||!ut(p)||!ut(s)||!ut(c)?null:he.createElement("path",CP({},cr(x,!0),{className:pr("recharts-cross",m),d:bYe(n,a,f,p,s,c)}))},SYe=Bee,AYe=SYe(Object.getPrototypeOf,Object),EYe=AYe,CYe=Pu,NYe=EYe,TYe=Iu,PYe="[object Object]",IYe=Function.prototype,OYe=Object.prototype,Cre=IYe.toString,kYe=OYe.hasOwnProperty,jYe=Cre.call(Object);function RYe(t){if(!TYe(t)||CYe(t)!=PYe)return!1;var e=NYe(t);if(e===null)return!0;var r=kYe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Cre.call(r)==jYe}var DYe=RYe;const MYe=Rr(DYe);var LYe=Pu,FYe=Iu,BYe="[object Boolean]";function $Ye(t){return t===!0||t===!1||FYe(t)&&LYe(t)==BYe}var UYe=$Ye;const VYe=Rr(UYe);function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function d5(){return d5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d5.apply(this,arguments)}function zYe(t,e){return GYe(t)||WYe(t,e)||qYe(t,e)||HYe()}function HYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qYe(t,e){if(t){if(typeof t=="string")return P$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P$(t,e)}}function P$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function GYe(t){if(Array.isArray(t))return t}function I$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(r),!0).forEach(function(n){KYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KYe(t,e,r){return e=YYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YYe(t){var e=XYe(t,"string");return Gy(e)=="symbol"?e:e+""}function XYe(t,e){if(Gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k$=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},QYe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZYe=function(e){var r=O$(O$({},QYe),e),n=E.useRef(),i=E.useState(-1),a=zYe(i,2),o=a[0],s=a[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=pr("recharts-trapezoid",p);return v?he.createElement(Eu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(w){var C=w.upperWidth,A=w.lowerWidth,O=w.height,N=w.x,S=w.y;return he.createElement(Eu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},he.createElement("path",d5({},cr(r,!0),{className:y,d:k$(N,S,C,A,O),ref:n})))}):he.createElement("g",null,he.createElement("path",d5({},cr(r,!0),{className:y,d:k$(l,c,u,f,h)})))},JYe=["option","shapeType","propTransformer","activeClassName","isActive"];function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function eXe(t,e){if(t==null)return{};var r=tXe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(r),!0).forEach(function(n){rXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rXe(t,e,r){return e=nXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nXe(t){var e=iXe(t,"string");return Ky(e)=="symbol"?e:e+""}function iXe(t,e){if(Ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aXe(t,e){return f5(f5({},e),t)}function oXe(t,e){return t==="symbols"}function R$(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return he.createElement(w8,r);case"trapezoid":return he.createElement(ZYe,r);case"sector":return he.createElement(mre,r);case"symbols":if(oXe(e))return he.createElement(B6,r);break;default:return null}}function sXe(t){return E.isValidElement(t)?t.props:t}function lXe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?aXe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=eXe(t,JYe),c;if(E.isValidElement(e))c=E.cloneElement(e,f5(f5({},l),sXe(e)));else if(er(e))c=e(l);else if(MYe(e)&&!VYe(e)){var u=i(e,l);c=he.createElement(R$,{shapeType:r,elementProps:u})}else{var f=l;c=he.createElement(R$,{shapeType:r,elementProps:f})}return s?he.createElement(Yn,{className:o},c):c}function RA(t,e){return e!=null&&"trapezoids"in t.props}function DA(t,e){return e!=null&&"sectors"in t.props}function Yy(t,e){return e!=null&&"points"in t.props}function cXe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function uXe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function dXe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function fXe(t,e){var r;return RA(t,e)?r=cXe:DA(t,e)?r=uXe:Yy(t,e)&&(r=dXe),r}function hXe(t,e){var r;return RA(t,e)?r="trapezoids":DA(t,e)?r="sectors":Yy(t,e)&&(r="points"),r}function pXe(t,e){if(RA(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(DA(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yy(t,e)?e.payload:{}}function mXe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=hXe(r,e),a=pXe(r,e),o=n.filter(function(l,c){var u=OA(a,l),f=r.props[i].filter(function(m){var g=fXe(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var gXe=Math.ceil,vXe=Math.max;function yXe(t,e,r,n){for(var i=-1,a=vXe(gXe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var xXe=yXe,wXe=ite,bXe=1/0,_Xe=17976931348623157e292;function SXe(t){if(!t)return t===0?t:0;if(t=wXe(t),t===bXe||t===-1/0){var e=t<0?-1:1;return e*_Xe}return t===t?t:0}var Nre=SXe,AXe=xXe,EXe=_A,EC=Nre;function CXe(t){return function(e,r,n){return n&&typeof n!="number"&&EXe(e,r,n)&&(r=n=void 0),e=EC(e),r===void 0?(r=e,e=0):r=EC(r),n=n===void 0?e<r?1:-1:EC(n),AXe(e,r,n,t)}}var NXe=CXe,TXe=NXe,PXe=TXe(),IXe=PXe;const h5=Rr(IXe);function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function D$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(r),!0).forEach(function(n){Tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tre(t,e,r){return e=OXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OXe(t){var e=kXe(t,"string");return Xy(e)=="symbol"?e:e+""}function kXe(t,e){if(Xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jXe=["Webkit","Moz","O","ms"],RXe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=jXe.reduce(function(a,o){return M$(M$({},a),{},Tre({},o+n,r))},{});return i[e]=r,i};function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function p5(){return p5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p5.apply(this,arguments)}function L$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(r),!0).forEach(function(n){$o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ire(n.key),n)}}function MXe(t,e,r){return e&&F$(t.prototype,e),r&&F$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LXe(t,e,r){return e=m5(e),FXe(t,Pre()?Reflect.construct(e,r||[],m5(t).constructor):e.apply(t,r))}function FXe(t,e){if(e&&(Z0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BXe(t)}function BXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pre=function(){return!!t})()}function m5(t){return m5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m5(t)}function $Xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NP(t,e)}function NP(t,e){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NP(t,e)}function $o(t,e,r){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ire(t){var e=UXe(t,"string");return Z0(e)=="symbol"?e:e+""}function UXe(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VXe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Pv().domain(h5(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},B$=function(e){return e.changedTouches&&!!e.changedTouches.length},J0=function(t){function e(r){var n;return DXe(this,e),n=LXe(this,e,[r]),$o(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$o(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$o(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),$o(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$o(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$o(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$o(n,"handleSlideDragStart",function(i){var a=B$(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $Xe(e,t),MXe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ts(a[n],s,n);return er(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-s,c+u-f-o):g<0&&(g=Math.max(g,c-o,c-s));var x=this.getIndex({startX:o+g,endX:s+g});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=B$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,g=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-c):y<0&&(y=Math.max(y,f-c)),v[o]=c+y;var w=this.getIndex(v),C=w.startIndex,A=w.endIndex,O=function(){var S=x.length-1;return o==="startX"&&(s>l?C%g===0:A%g===0)||s<l&&A===S||o==="endX"&&(s>l?A%g===0:C%g===0)||s>l&&A===S};this.setState($o($o({},o,c+y),"brushMoveStartX",n.pageX),function(){m&&O()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState($o({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return he.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=E.Children.only(c);return f?he.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,x=l.endIndex,v=Math.max(n,this.props.x),y=CC(CC({},cr(this.props,!1)),{},{x:v,y:c,width:u,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[x])===null||o===void 0?void 0:o.name);return he.createElement(Yn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return he.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return he.createElement(Yn,{className:"recharts-brush-texts"},he.createElement(H_,p5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),he.createElement(H_,p5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ut(s)||!ut(l)||!ut(c)||!ut(u)||c<=0||u<=0)return null;var w=pr("recharts-brush",a),C=he.Children.count(o)===1,A=RXe("userSelect","none");return he.createElement(Yn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||v||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return he.createElement(he.Fragment,null,he.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),he.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),he.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return he.isValidElement(n)?a=he.cloneElement(n,i):er(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return CC({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?VXe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(E.PureComponent);$o(J0,"displayName","Brush");$o(J0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zXe=W6;function HXe(t,e){var r;return zXe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var qXe=HXe,WXe=Oee,GXe=Rf,KXe=qXe,YXe=Po,XXe=_A;function QXe(t,e,r){var n=YXe(t)?WXe:KXe;return r&&XXe(t,e,r)&&(e=void 0),n(t,GXe(e))}var ZXe=QXe;const JXe=Rr(ZXe);var uc=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},$$=Jee;function eQe(t,e,r){e=="__proto__"&&$$?$$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var tQe=eQe,rQe=tQe,nQe=Qee,iQe=Rf;function aQe(t,e){var r={};return e=iQe(e),nQe(t,function(n,i,a){rQe(r,i,e(n,i,a))}),r}var oQe=aQe;const sQe=Rr(oQe);function lQe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var cQe=lQe,uQe=W6;function dQe(t,e){var r=!0;return uQe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var fQe=dQe,hQe=cQe,pQe=fQe,mQe=Rf,gQe=Po,vQe=_A;function yQe(t,e,r){var n=gQe(t)?hQe:pQe;return r&&vQe(t,e,r)&&(e=void 0),n(t,mQe(e))}var xQe=yQe;const Ore=Rr(xQe);var wQe=["x","y"];function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function TP(){return TP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TP.apply(this,arguments)}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){bQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bQe(t,e,r){return e=_Qe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Qe(t){var e=SQe(t,"string");return Qy(e)=="symbol"?e:e+""}function SQe(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQe(t,e){if(t==null)return{};var r=EQe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CQe(t,e){var r=t.x,n=t.y,i=AQe(t,wQe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return V1(V1(V1(V1(V1({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function V$(t){return he.createElement(lXe,TP({shapeType:"rectangle",propTransformer:CQe,activeClassName:"recharts-active-bar"},t))}var NQe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||sp(),r)}},TQe=["value","background"],kre;function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function PQe(t,e){if(t==null)return{};var r=IQe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g5(){return g5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g5.apply(this,arguments)}function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){Ld(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function kQe(t,e,r){return e&&H$(t.prototype,e),r&&H$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jQe(t,e,r){return e=v5(e),RQe(t,jre()?Reflect.construct(e,r||[],v5(t).constructor):e.apply(t,r))}function RQe(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DQe(t)}function DQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jre=function(){return!!t})()}function v5(t){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(t)}function MQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PP(t,e)}function PP(t,e){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PP(t,e)}function Ld(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=LQe(t,"string");return eg(e)=="symbol"?e:e+""}function LQe(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tp=function(t){function e(){var r;OQe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jQe(this,e,[].concat(i)),Ld(r,"state",{isAnimationFinished:!1}),Ld(r,"id",Dx("recharts-bar-")),Ld(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ld(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return MQe(e,t),kQe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=cr(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:o,g=ai(ai(ai({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return he.createElement(Yn,g5({className:"recharts-bar-rectangle"},I_(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),he.createElement(V$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return he.createElement(Eu,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(x,v){var y=h&&h[v];if(y){var w=ul(y.x,x.x),C=ul(y.y,x.y),A=ul(y.width,x.width),O=ul(y.height,x.height);return ai(ai({},x),{},{x:w(m),y:C(m),width:A(m),height:O(m)})}if(o==="horizontal"){var N=ul(0,x.height),S=N(m);return ai(ai({},x),{},{y:x.y+x.height-S,height:S})}var P=ul(0,x.width),R=P(m);return ai(ai({},x),{},{width:R})});return he.createElement(Yn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!OA(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=cr(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=PQe(c,TQe);if(!f)return null;var p=ai(ai(ai(ai(ai({},h),{},{fill:"#eee"},f),l),I_(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return he.createElement(V$,g5({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ps(u,Ux);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(x,v){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:ts(x,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return he.createElement(Yn,m,f.map(function(g){return he.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=pr("recharts-bar",o),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,C=y||w,A=lr(g)?this.id:g;return he.createElement(Yn,{className:v},y||w?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(A)},he.createElement("rect",{x:y?c:c-f/2,y:w?u:u-h/2,width:y?f:f*2,height:w?h:h*2}))):null,he.createElement(Yn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,A),(!p||x)&&tf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(E.PureComponent);kre=Tp;Ld(Tp,"displayName","Bar");Ld(Tp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zg.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ld(Tp,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=fWe(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,x=g!==void 0?ai(ai({},g),r.props):r.props,v=x.dataKey,y=x.children,w=x.minPointSize,C=m==="horizontal"?o:a,A=c?C.scale.domain():null,O=wWe({numericAxis:C}),N=Ps(y,ote),S=f.map(function(P,R){var I,k,D,z,J,U;c?I=hWe(c[u+R],A):(I=ts(P,v),Array.isArray(I)||(I=[O,I]));var K=NQe(w,kre.defaultProps.minPointSize)(I[1],R);if(m==="horizontal"){var $,H=[o.scale(I[0]),o.scale(I[1])],te=H[0],ie=H[1];k=HB({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:R}),D=($=ie??te)!==null&&$!==void 0?$:void 0,z=p.size;var F=te-ie;if(J=Number.isNaN(F)?0:F,U={x:k,y:o.y,width:z,height:o.height},Math.abs(K)>0&&Math.abs(J)<Math.abs(K)){var q=vl(J||K)*(Math.abs(K)-Math.abs(J));D-=q,J+=q}}else{var Q=[a.scale(I[0]),a.scale(I[1])],se=Q[0],G=Q[1];if(k=se,D=HB({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:R}),z=G-se,J=p.size,U={x:a.x,y:D,width:a.width,height:J},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var le=vl(z||K)*(Math.abs(K)-Math.abs(z));z+=le}}return ai(ai(ai({},P),{},{x:k,y:D,width:z,height:J,value:c?I:I[1],payload:P,background:U},N&&N[R]&&N[R].props),{},{tooltipPayload:[fre(r,P)],tooltipPosition:{x:k+z/2,y:D+J/2}})});return ai({data:S,layout:m},h)});function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function FQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dre(n.key),n)}}function BQe(t,e,r){return e&&q$(t.prototype,e),r&&q$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){MA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MA(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=$Qe(t,"string");return Zy(e)=="symbol"?e:e+""}function $Qe(t,e){if(Zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mre=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!zo(c,Tp);return u.reduce(function(p,m){var g=r[m],x=g.orientation,v=g.domain,y=g.padding,w=y===void 0?{}:y,C=g.mirror,A=g.reversed,O="".concat(x).concat(C?"Mirror":""),N,S,P,R,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=v[1]-v[0],D=1/0,z=g.categoricalDomain.sort(W8e);if(z.forEach(function(Q,se){se>0&&(D=Math.min((Q||0)-(z[se-1]||0),D))}),Number.isFinite(D)){var J=D/k,U=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(N=J*U/2),g.padding==="no-gap"){var K=ap(e.barCategoryGap,J*U),$=J*U/2;N=$-K-($-K)/U*K}}}i==="xAxis"?S=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:i==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:S=g.range,A&&(S=[S[1],S[0]]);var H=uWe(g,a,h),te=H.scale,ie=H.realScaleType;te.domain(v).range(S),dWe(te);var F=xWe(te,sl(sl({},g),{},{realScaleType:ie}));i==="xAxis"?(I=x==="top"&&!C||x==="bottom"&&C,P=n.left,R=f[O]-I*g.height):i==="yAxis"&&(I=x==="left"&&!C||x==="right"&&C,P=f[O]-I*g.width,R=n.top);var q=sl(sl(sl({},g),F),{},{realScaleType:ie,x:P,y:R,scale:te,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return q.bandSize=i5(q,F),!g.hide&&i==="xAxis"?f[O]+=(I?-1:1)*q.height:g.hide||(f[O]+=(I?-1:1)*q.width),sl(sl({},p),{},MA({},m,q))},{})},Lre=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},UQe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Lre({x:r,y:n},{x:i,y:a})},Fre=function(){function t(e){FQe(this,t),this.scale=e}return BQe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();MA(Fre,"EPS",1e-4);var _8=function(e){var r=Object.keys(e).reduce(function(n,i){return sl(sl({},n),{},MA({},i,Fre.create(e[i])))},{});return sl(sl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return sQe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Ore(i,function(a,o){return r[o].isInRange(a)})}})};function VQe(t){return(t%180+180)%180}var zQe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=VQe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},HQe=Rf,qQe=Mx,WQe=wA;function GQe(t){return function(e,r,n){var i=Object(e);if(!qQe(e)){var a=HQe(r);e=WQe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var KQe=GQe,YQe=Nre;function XQe(t){var e=YQe(t),r=e%1;return e===e?r?e-r:e:0}var QQe=XQe,ZQe=qee,JQe=Rf,eZe=QQe,tZe=Math.max;function rZe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:eZe(r);return i<0&&(i=tZe(n+i,0)),ZQe(t,JQe(e),i)}var nZe=rZe,iZe=KQe,aZe=nZe,oZe=iZe(aZe),sZe=oZe;const lZe=Rr(sZe);var cZe=X6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),S8=E.createContext(void 0),A8=E.createContext(void 0),Bre=E.createContext(void 0),$re=E.createContext({}),Ure=E.createContext(void 0),Vre=E.createContext(0),zre=E.createContext(0),G$=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=cZe(a);return he.createElement(S8.Provider,{value:n},he.createElement(A8.Provider,{value:i},he.createElement($re.Provider,{value:a},he.createElement(Bre.Provider,{value:u},he.createElement(Ure.Provider,{value:o},he.createElement(Vre.Provider,{value:c},he.createElement(zre.Provider,{value:l},s)))))))},uZe=function(){return E.useContext(Ure)},Hre=function(e){var r=E.useContext(S8);r==null&&sp();var n=r[e];return n==null&&sp(),n},dZe=function(){var e=E.useContext(S8);return Id(e)},fZe=function(){var e=E.useContext(A8),r=lZe(e,function(n){return Ore(n.domain,Number.isFinite)});return r||Id(e)},qre=function(e){var r=E.useContext(A8);r==null&&sp();var n=r[e];return n==null&&sp(),n},hZe=function(){var e=E.useContext(Bre);return e},pZe=function(){return E.useContext($re)},E8=function(){return E.useContext(zre)},C8=function(){return E.useContext(Vre)};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function mZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gre(n.key),n)}}function vZe(t,e,r){return e&&gZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yZe(t,e,r){return e=y5(e),xZe(t,Wre()?Reflect.construct(e,r||[],y5(t).constructor):e.apply(t,r))}function xZe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZe(t)}function wZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wre=function(){return!!t})()}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y5(t)}function bZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IP(t,e)}function IP(t,e){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IP(t,e)}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){N8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N8(t,e,r){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=_Ze(t,"string");return tg(e)=="symbol"?e:e+""}function _Ze(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SZe(t,e){return NZe(t)||CZe(t,e)||EZe(t,e)||AZe()}function AZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZe(t,e){if(t){if(typeof t=="string")return X$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X$(t,e)}}function X$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function NZe(t){if(Array.isArray(t))return t}function OP(){return OP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OP.apply(this,arguments)}var TZe=function(e,r){var n;return he.isValidElement(e)?n=he.cloneElement(e,r):er(e)?n=e(r):n=he.createElement("line",OP({},r,{className:"recharts-reference-line-line"})),n},PZe=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=c.y,g=e.y.apply(m,{position:o});if(uc(c,"discard")&&!e.y.isInRange(g))return null;var x=[{x:u+h,y:g},{x:u,y:g}];return l==="left"?x.reverse():x}if(r){var v=c.x,y=e.x.apply(v,{position:o});if(uc(c,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?w.reverse():w}if(i){var C=c.segment,A=C.map(function(O){return e.apply(O,{position:o})});return uc(c,"discard")&&JXe(A,function(O){return!e.isInRange(O)})?null:A}return null};function IZe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=uZe(),u=Hre(i),f=qre(a),h=hZe();if(!c||!h)return null;su(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=_8({x:u.scale,y:f.scale}),m=Ai(e),g=Ai(r),x=n&&n.length===2,v=PZe(p,m,g,x,h,t.position,u.orientation,f.orientation,t);if(!v)return null;var y=SZe(v,2),w=y[0],C=w.x,A=w.y,O=y[1],N=O.x,S=O.y,P=uc(t,"hidden")?"url(#".concat(c,")"):void 0,R=Y$(Y$({clipPath:P},cr(t,!0)),{},{x1:C,y1:A,x2:N,y2:S});return he.createElement(Yn,{className:pr("recharts-reference-line",s)},TZe(o,R),Ta.renderCallByParent(t,UQe({x1:C,y1:A,x2:N,y2:S})))}var T8=function(t){function e(){return mZe(this,e),yZe(this,e,arguments)}return bZe(e,t),vZe(e,[{key:"render",value:function(){return he.createElement(IZe,this.props)}}])}(he.Component);N8(T8,"displayName","ReferenceLine");N8(T8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kP(){return kP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kP.apply(this,arguments)}function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function Q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(r),!0).forEach(function(n){LA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yre(n.key),n)}}function jZe(t,e,r){return e&&kZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZe(t,e,r){return e=x5(e),DZe(t,Kre()?Reflect.construct(e,r||[],x5(t).constructor):e.apply(t,r))}function DZe(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZe(t)}function MZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kre=function(){return!!t})()}function x5(t){return x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x5(t)}function LZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}function jP(t,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jP(t,e)}function LA(t,e,r){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yre(t){var e=FZe(t,"string");return rg(e)=="symbol"?e:e+""}function FZe(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BZe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=_8({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return uc(e,"discard")&&!o.isInRange(s)?null:s},FA=function(t){function e(){return OZe(this,e),RZe(this,e,arguments)}return LZe(e,t),jZe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=Ai(i),u=Ai(a);if(su(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=BZe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,v=uc(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=Z$(Z$({clipPath:v},cr(this.props,!0)),{},{cx:h,cy:p});return he.createElement(Yn,{className:pr("recharts-reference-dot",x)},e.renderDot(g,y),Ta.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(he.Component);LA(FA,"displayName","ReferenceDot");LA(FA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});LA(FA,"renderDot",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):er(t)?r=t(e):r=he.createElement(b8,kP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function RP(){return RP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RP.apply(this,arguments)}function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function J$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(r),!0).forEach(function(n){BA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qre(n.key),n)}}function VZe(t,e,r){return e&&UZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zZe(t,e,r){return e=w5(e),HZe(t,Xre()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function HZe(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZe(t)}function qZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xre=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function WZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DP(t,e)}function DP(t,e){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DP(t,e)}function BA(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=GZe(t,"string");return ng(e)=="symbol"?e:e+""}function GZe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KZe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=_8({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return uc(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Lre(p,m)},$A=function(t){function e(){return $Ze(this,e),zZe(this,e,arguments)}return WZe(e,t),VZe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;su(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ai(i),h=Ai(a),p=Ai(o),m=Ai(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var x=KZe(f,h,p,m,this.props);if(!x&&!g)return null;var v=uc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return he.createElement(Yn,{className:pr("recharts-reference-area",l)},e.renderRect(g,eU(eU({clipPath:v},cr(this.props,!0)),x)),Ta.renderCallByParent(this.props,x))}}])}(he.Component);BA($A,"displayName","ReferenceArea");BA($A,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});BA($A,"renderRect",function(t,e){var r;return he.isValidElement(t)?r=he.cloneElement(t,e):er(t)?r=t(e):r=he.createElement(w8,RP({},e,{className:"recharts-reference-area-rect"})),r});function Zre(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function YZe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return zQe(n,r)}function XZe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function b5(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function QZe(t,e){return Zre(t,e+1)}function ZZe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Zre(n,c)};var g=l,x,v=function(){return x===void 0&&(x=r(m,g)),x},y=m.coordinate,w=l===0||b5(t,y,v,u,s);w||(l=0,u=o,c+=1),w&&(u=y+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){JZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JZe(t,e,r){return e=eJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJe(t){var e=tJe(t,"string");return Jy(e)=="symbol"?e:e+""}function tJe(t,e){if(Jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var x=t*(p.coordinate+t*g()/2-l);a[h]=p=_a(_a({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=_a(_a({},p),{},{tickCoord:p.coordinate});var v=b5(t,p.tickCoord,g,s,l);v&&(l=p.tickCoord-t*(g()/2+i),a[h]=_a(_a({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function nJe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=_a(_a({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=b5(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=_a(_a({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(y){var w=o[y],C,A=function(){return C===void 0&&(C=r(w,y)),C};if(y===0){var O=t*(w.coordinate-t*A()/2-l);o[y]=w=_a(_a({},w),{},{tickCoord:O<0?w.coordinate-O*t:w.coordinate})}else o[y]=w=_a(_a({},w),{},{tickCoord:w.coordinate});var N=b5(t,w.tickCoord,A,l,c);N&&(l=w.tickCoord+t*(A()/2+i),o[y]=_a(_a({},w),{},{isShow:!0}))},x=0;x<m;x++)g(x);return o}function P8(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ut(l)||zg.isSsr)return QZe(i,typeof l=="number"&&ut(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Tv(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,C){var A=er(c)?c(w.value,C):w.value;return p==="width"?YZe(Tv(A,{fontSize:e,letterSpacing:r}),m,f):Tv(A,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?vl(i[1].coordinate-i[0].coordinate):1,v=XZe(a,x,p);return l==="equidistantPreserveStart"?ZZe(x,v,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=nJe(x,v,g,i,o,l==="preserveStartEnd"):h=rJe(x,v,g,i,o),h.filter(function(y){return y.isShow}))}var iJe=["viewBox"],aJe=["viewBox"],oJe=["ticks"];function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}function rU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(r),!0).forEach(function(n){I8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NC(t,e){if(t==null)return{};var r=sJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ene(n.key),n)}}function cJe(t,e,r){return e&&nU(t.prototype,e),r&&nU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJe(t,e,r){return e=_5(e),dJe(t,Jre()?Reflect.construct(e,r||[],_5(t).constructor):e.apply(t,r))}function dJe(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJe(t)}function fJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jre=function(){return!!t})()}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_5(t)}function hJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MP(t,e)}function MP(t,e){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MP(t,e)}function I8(t,e,r){return e=ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=pJe(t,"string");return ig(e)=="symbol"?e:e+""}function pJe(t,e){if(ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gg=function(t){function e(r){var n;return lJe(this,e),n=uJe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return hJe(e,t),cJe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=NC(n,iJe),s=this.props,l=s.viewBox,c=NC(s,aJe);return!d0(a,l)||!d0(o,c)||!d0(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,x,v,y,w=f?-1:1,C=n.tickSize||u,A=ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,x=o+ +!f*l,g=x-w*C,y=g-w*h,v=A;break;case"left":g=x=n.coordinate,m=a+ +!f*s,p=m-w*C,v=p-w*h,y=A;break;case"right":g=x=n.coordinate,m=a+ +f*s,p=m+w*C,v=p+w*h,y=A;break;default:p=m=n.coordinate,x=o+ +f*l,g=x+w*C,y=g+w*h,v=A;break}return{line:{x1:p,y1:g,x2:m,y2:x},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Ha(Ha(Ha({},cr(this.props,!1)),cr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Ha(Ha({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Ha(Ha({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return he.createElement("line",Vm({},f,{className:pr("recharts-cartesian-axis-line",Ts(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=P8(Ha(Ha({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=cr(this.props,!1),v=cr(u,!1),y=Ha(Ha({},x),{},{fill:"none"},cr(l,!1)),w=p.map(function(C,A){var O=o.getTickLineCoord(C),N=O.line,S=O.tick,P=Ha(Ha(Ha(Ha({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:c},v),S),{},{index:A,payload:C,visibleTicksCount:p.length,tickFormatter:f});return he.createElement(Yn,Vm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},I_(o.props,C,A)),l&&he.createElement("line",Vm({},y,N,{className:pr("recharts-cartesian-axis-tick-line",Ts(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(er(f)?f(C.value,A):C.value).concat(h||"")))});return he.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=NC(f,oJe),m=h;return er(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:he.createElement(Yn,{className:pr("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Ta.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return he.isValidElement(n)?o=he.cloneElement(n,i):er(n)?o=n(i):o=he.createElement(H_,Vm({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(E.Component);I8(Gg,"displayName","CartesianAxis");I8(Gg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mJe=["x1","y1","x2","y2","key"],gJe=["offset"];function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){vJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vJe(t,e,r){return e=yJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJe(t){var e=xJe(t,"string");return lp(e)=="symbol"?e:e+""}function xJe(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jh.apply(this,arguments)}function aU(t,e){if(t==null)return{};var r=wJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bJe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return he.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tne(t,e){var r;if(he.isValidElement(t))r=he.cloneElement(t,e);else if(er(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=aU(e,mJe),c=cr(l,!1);c.offset;var u=aU(c,gJe);r=he.createElement("line",jh({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function _Je(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Pa(Pa({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return tne(i,c)});return he.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function SJe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Pa(Pa({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return tne(i,c)});return he.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function AJe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],g=m?i+o-h:u[p+1]-h;if(g<=0)return null;var x=p%e.length;return he.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function EJe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],g=m?a+s-h:u[p+1]-h;if(g<=0)return null;var x=p%n.length;return he.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return he.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var CJe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return ure(P8(Pa(Pa(Pa({},Gg.defaultProps),n),{},{ticks:tu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},NJe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return ure(P8(Pa(Pa(Pa({},Gg.defaultProps),n),{},{ticks:tu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},um={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function LP(t){var e,r,n,i,a,o,s=E8(),l=C8(),c=pZe(),u=Pa(Pa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:um.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:um.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:um.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:um.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:um.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:um.verticalFill,x:ut(t.x)?t.x:c.left,y:ut(t.y)?t.y:c.top,width:ut(t.width)?t.width:c.width,height:ut(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,g=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,y=dZe(),w=fZe();if(!ut(p)||p<=0||!ut(m)||m<=0||!ut(f)||f!==+f||!ut(h)||h!==+h)return null;var C=u.verticalCoordinatesGenerator||CJe,A=u.horizontalCoordinatesGenerator||NJe,O=u.horizontalPoints,N=u.verticalPoints;if((!O||!O.length)&&er(A)){var S=x&&x.length,P=A({yAxis:w?Pa(Pa({},w),{},{ticks:S?x:w.ticks}):void 0,width:s,height:l,offset:c},S?!0:g);su(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lp(P),"]")),Array.isArray(P)&&(O=P)}if((!N||!N.length)&&er(C)){var R=v&&v.length,I=C({xAxis:y?Pa(Pa({},y),{},{ticks:R?v:y.ticks}):void 0,width:s,height:l,offset:c},R?!0:g);su(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lp(I),"]")),Array.isArray(I)&&(N=I)}return he.createElement("g",{className:"recharts-cartesian-grid"},he.createElement(bJe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),he.createElement(_Je,jh({},u,{offset:c,horizontalPoints:O,xAxis:y,yAxis:w})),he.createElement(SJe,jh({},u,{offset:c,verticalPoints:N,xAxis:y,yAxis:w})),he.createElement(AJe,jh({},u,{horizontalPoints:O})),he.createElement(EJe,jh({},u,{verticalPoints:N})))}LP.displayName="CartesianGrid";var TJe=["type","layout","connectNulls","ref"],PJe=["key"];function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function oU(t,e){if(t==null)return{};var r=IJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){ll(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dm(t){return RJe(t)||jJe(t)||kJe(t)||OJe()}function OJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJe(t,e){if(t){if(typeof t=="string")return FP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(t,e)}}function jJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJe(t){if(Array.isArray(t))return FP(t)}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nne(n.key),n)}}function MJe(t,e,r){return e&&lU(t.prototype,e),r&&lU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LJe(t,e,r){return e=S5(e),FJe(t,rne()?Reflect.construct(e,r||[],S5(t).constructor):e.apply(t,r))}function FJe(t,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BJe(t)}function BJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rne=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(t)}function $Je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}function BP(t,e){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BP(t,e)}function ll(t,e,r){return e=nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nne(t){var e=UJe(t,"string");return ag(e)=="symbol"?e:e+""}function UJe(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vx=function(t){function e(){var r;DJe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=LJe(this,e,[].concat(i)),ll(r,"state",{isAnimationFinished:!0,totalLength:0}),ll(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ll(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(v,y){return v+y});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),f=o%c,h=s-o,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(dm(l.slice(0,m)),[f-g]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(dm(e.repeat(l,u)),dm(p),x).map(function(v){return"".concat(v,"px")}).join(", ")}),ll(r,"id",Dx("recharts-line-")),ll(r,"pathRef",function(o){r.mainCurve=o}),ll(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ll(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $Je(e,t),MJe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ps(u,Ux);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:ts(g.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return he.createElement(Yn,p,f.map(function(m){return he.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=cr(this.props,!1),h=cr(l,!0),p=c.map(function(g,x){var v=Bo(Bo(Bo({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,v)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return he.createElement(Yn,kv({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=oU(s,TJe),h=Bo(Bo(Bo({},cr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return he.createElement(mP,kv({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,x=o.height,v=this.state,y=v.prevPoints,w=v.totalLength;return he.createElement(Eu,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var A=C.t;if(y){var O=y.length/s.length,N=s.map(function(k,D){var z=Math.floor(D*O);if(y[z]){var J=y[z],U=ul(J.x,k.x),K=ul(J.y,k.y);return Bo(Bo({},k),{},{x:U(A),y:K(A)})}if(m){var $=ul(g*2,k.x),H=ul(x/2,k.y);return Bo(Bo({},k),{},{x:$(A),y:H(A)})}return Bo(Bo({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(N,n,i)}var S=ul(0,w),P=S(A),R;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});R=a.getStrokeDasharray(P,w,I)}else R=a.generateSimpleStrokeDasharray(w,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!OA(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=s.length===1,w=pr("recharts-line",l),C=c&&c.allowDataOverflow,A=u&&u.allowDataOverflow,O=C||A,N=lr(x)?this.id:x,S=(n=cr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=S.r,R=P===void 0?3:P,I=S.strokeWidth,k=I===void 0?2:I,D=tje(o)?o:{},z=D.clipDot,J=z===void 0?!0:z,U=R*2+k;return he.createElement(Yn,{className:w},C||A?he.createElement("defs",null,he.createElement("clipPath",{id:"clipPath-".concat(N)},he.createElement("rect",{x:C?h:h-p/2,y:A?f:f-m/2,width:C?p:p*2,height:A?m:m*2})),!J&&he.createElement("clipPath",{id:"clipPath-dots-".concat(N)},he.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!y&&this.renderCurve(O,N),this.renderErrorBar(O,N),(y||o)&&this.renderDots(O,J,N),(!g||v)&&tf.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(dm(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(dm(o),dm(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(he.isValidElement(n))a=he.cloneElement(n,i);else if(er(n))a=n(i);else{var o=i.key,s=oU(i,PJe),l=pr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=he.createElement(b8,kv({key:o},s,{className:l}))}return a}}])}(E.PureComponent);ll(Vx,"displayName","Line");ll(Vx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zg.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ll(Vx,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(h,p){var m=ts(h,o);return u==="horizontal"?{x:zB({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:lr(m)?null:n.scale(m),value:m,payload:h}:{x:lr(m)?null:r.scale(m),y:zB({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:m,payload:h}});return Bo({points:f,layout:u},c)});function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function VJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zJe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,one(n.key),n)}}function HJe(t,e,r){return e&&zJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qJe(t,e,r){return e=A5(e),WJe(t,ine()?Reflect.construct(e,r||[],A5(t).constructor):e.apply(t,r))}function WJe(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GJe(t)}function GJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ine(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ine=function(){return!!t})()}function A5(t){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A5(t)}function KJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}function $P(t,e){return $P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$P(t,e)}function ane(t,e,r){return e=one(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function one(t){var e=YJe(t,"string");return og(e)=="symbol"?e:e+""}function YJe(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UP(){return UP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UP.apply(this,arguments)}function XJe(t){var e=t.xAxisId,r=E8(),n=C8(),i=Hre(e);return i==null?null:he.createElement(Gg,UP({},i,{className:pr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return tu(o,!0)}}))}var sg=function(t){function e(){return VJe(this,e),qJe(this,e,arguments)}return KJe(e,t),HJe(e,[{key:"render",value:function(){return he.createElement(XJe,this.props)}}])}(he.Component);ane(sg,"displayName","XAxis");ane(sg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function QJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZJe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cne(n.key),n)}}function JJe(t,e,r){return e&&ZJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eet(t,e,r){return e=E5(e),tet(t,sne()?Reflect.construct(e,r||[],E5(t).constructor):e.apply(t,r))}function tet(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ret(t)}function ret(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sne=function(){return!!t})()}function E5(t){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E5(t)}function net(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VP(t,e)}function lne(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=iet(t,"string");return lg(e)=="symbol"?e:e+""}function iet(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zP.apply(this,arguments)}var aet=function(e){var r=e.yAxisId,n=E8(),i=C8(),a=qre(r);return a==null?null:he.createElement(Gg,zP({},a,{className:pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return tu(s,!0)}}))},cg=function(t){function e(){return QJe(this,e),eet(this,e,arguments)}return net(e,t),JJe(e,[{key:"render",value:function(){return he.createElement(aet,this.props)}}])}(he.Component);lne(cg,"displayName","YAxis");lne(cg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cU(t){return uet(t)||cet(t)||set(t)||oet()}function oet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function set(t,e){if(t){if(typeof t=="string")return HP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(t,e)}}function cet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uet(t){if(Array.isArray(t))return HP(t)}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qP=function(e,r,n,i,a){var o=Ps(e,T8),s=Ps(e,FA),l=[].concat(cU(o),cU(s)),c=Ps(e,$A),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,x){if(x.props[u]===n&&uc(x.props,"extendDomain")&&ut(x.props[f])){var v=x.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,x){if(x.props[u]===n&&uc(x.props,"extendDomain")&&ut(x.props[p])&&ut(x.props[m])){var v=x.props[p],y=x.props[m];return[Math.min(g[0],v,y),Math.max(g[1],v,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,x){return ut(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},une={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var x=this._events[g],v=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,h),!0;case 5:return x.fn.call(x.context,u,f,h,p),!0;case 6:return x.fn.call(x.context,u,f,h,p,m),!0}for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var C=x.length,A;for(w=0;w<C;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),v){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,u);break;case 3:x[w].fn.call(x[w].context,u,f);break;case 4:x[w].fn.call(x[w].context,u,f,h);break;default:if(!y)for(A=1,y=new Array(v-1);A<v;A++)y[A-1]=arguments[A];x[w].fn.apply(x[w].context,y)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,x=[],v=m.length;g<v;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(une);var det=une.exports;const fet=Rr(det);var TC=new fet,PC="recharts.syncMouseEvents";function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function het(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dne(n.key),n)}}function met(t,e,r){return e&&pet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IC(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dne(t){var e=get(t,"string");return ex(e)=="symbol"?e:e+""}function get(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vet=function(){function t(){het(this,t),IC(this,"activeIndex",0),IC(this,"coordinateList",[]),IC(this,"layout","horizontal")}return met(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function yet(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ut(n)&&ut(i))return!0}return!1}function xet(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function fne(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=na(e,r,n,i),s=na(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function wet(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=na(s,l,c,f),p=na(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return fne(e);return[{x:n,y:i},{x:a,y:o}]}function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){bet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bet(t,e,r){return e=_et(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _et(t){var e=Aet(t,"string");return tx(e)=="symbol"?e:e+""}function Aet(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eet(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=mP;if(h==="ScatterChart")m=o,g=_Ye;else if(h==="BarChart")m=xet(f,o,l,u),g=w8;else if(f==="radial"){var x=fne(o),v=x.cx,y=x.cy,w=x.radius,C=x.startAngle,A=x.endAngle;m={cx:v,cy:y,startAngle:C,endAngle:A,innerRadius:w,outerRadius:w},g=mre}else m={points:wet(f,o,l)},g=mP;var O=bw(bw(bw(bw({stroke:"#ccc",pointerEvents:"none"},l),m),cr(p,!1)),{},{payload:s,payloadIndex:c,className:pr("recharts-tooltip-cursor",p.className)});return E.isValidElement(p)?E.cloneElement(p,O):E.createElement(g,O)}var Cet=["item"],Net=["children","className","width","height","style","compact","title","desc"];function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zm.apply(this,arguments)}function dU(t,e){return Iet(t)||Pet(t,e)||pne(t,e)||Tet()}function Tet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pet(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Iet(t){if(Array.isArray(t))return t}function fU(t,e){if(t==null)return{};var r=Oet(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ket(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mne(n.key),n)}}function Ret(t,e,r){return e&&jet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Det(t,e,r){return e=C5(e),Met(t,hne()?Reflect.construct(e,r||[],C5(t).constructor):e.apply(t,r))}function Met(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Let(t)}function Let(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hne=function(){return!!t})()}function C5(t){return C5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C5(t)}function Fet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WP(t,e)}function dg(t){return Uet(t)||$et(t)||pne(t)||Bet()}function Bet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return GP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(t,e)}}function $et(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uet(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(r),!0).forEach(function(n){Rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rt(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=Vet(t,"string");return ug(e)=="symbol"?e:e+""}function Vet(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zet={xAxis:["bottom","top"],yAxis:["left","right"]},Het={width:"100%",height:"100%"},gne={x:0,y:0};function _w(t){return t}var qet=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Wet=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ve(Ve(Ve({},i),na(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return Ve(Ve(Ve({},i),na(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return gne},UA=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(dg(s),dg(c)):s},[]);return o.length>0?o:e&&e.length&&ut(i)&&ut(a)?e.slice(i,a+1):[]};function vne(t){return t==="number"?[0,"auto"]:void 0}var KP=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=UA(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=T_(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(dg(l),[fre(c,h)]):l},[])},pU=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=qet(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=iWe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=KP(e,r,u,f),p=Wet(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Get=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=cre(u,a);return n.reduce(function(m,g){var x,v=g.type.defaultProps!==void 0?Ve(Ve({},g.type.defaultProps),g.props):g.props,y=v.type,w=v.dataKey,C=v.allowDataOverflow,A=v.allowDuplicatedCategory,O=v.scale,N=v.ticks,S=v.includeHidden,P=v[o];if(m[P])return m;var R=UA(e.data,{graphicalItems:i.filter(function(F){var q,Q=o in F.props?F.props[o]:(q=F.type.defaultProps)===null||q===void 0?void 0:q[o];return Q===P}),dataStartIndex:l,dataEndIndex:c}),I=R.length,k,D,z;yet(v.domain,C,y)&&(k=uP(v.domain,null,C),p&&(y==="number"||O!=="auto")&&(z=Iv(R,w,"category")));var J=vne(y);if(!k||k.length===0){var U,K=(U=v.domain)!==null&&U!==void 0?U:J;if(w){if(k=Iv(R,w,y),y==="category"&&p){var $=q8e(k);A&&$?(D=k,k=h5(0,I)):A||(k=GB(K,k,g).reduce(function(F,q){return F.indexOf(q)>=0?F:[].concat(dg(F),[q])},[]))}else if(y==="category")A?k=k.filter(function(F){return F!==""&&!lr(F)}):k=GB(K,k,g).reduce(function(F,q){return F.indexOf(q)>=0||q===""||lr(q)?F:[].concat(dg(F),[q])},[]);else if(y==="number"){var H=cWe(R,i.filter(function(F){var q,Q,se=o in F.props?F.props[o]:(q=F.type.defaultProps)===null||q===void 0?void 0:q[o],G="hide"in F.props?F.props.hide:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return se===P&&(S||!G)}),w,a,u);H&&(k=H)}p&&(y==="number"||O!=="auto")&&(z=Iv(R,w,"category"))}else p?k=h5(0,I):s&&s[P]&&s[P].hasStack&&y==="number"?k=h==="expand"?[0,1]:dre(s[P].stackGroups,l,c):k=lre(R,i.filter(function(F){var q=o in F.props?F.props[o]:F.type.defaultProps[o],Q="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return q===P&&(S||!Q)}),y,u,!0);if(y==="number")k=qP(f,k,P,a,N),K&&(k=uP(K,k,C));else if(y==="category"&&K){var te=K,ie=k.every(function(F){return te.indexOf(F)>=0});ie&&(k=te)}}return Ve(Ve({},m),{},Rt({},P,Ve(Ve({},v),{},{axisType:a,domain:k,categoricalDomain:z,duplicateDomain:D,originalDomain:(x=v.domain)!==null&&x!==void 0?x:J,isCategorical:p,layout:u})))},{})},Ket=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=UA(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=cre(u,a),g=-1;return n.reduce(function(x,v){var y=v.type.defaultProps!==void 0?Ve(Ve({},v.type.defaultProps),v.props):v.props,w=y[o],C=vne("number");if(!x[w]){g++;var A;return m?A=h5(0,p):s&&s[w]&&s[w].hasStack?(A=dre(s[w].stackGroups,l,c),A=qP(f,A,w,a)):(A=uP(C,lre(h,n.filter(function(O){var N,S,P=o in O.props?O.props[o]:(N=O.type.defaultProps)===null||N===void 0?void 0:N[o],R="hide"in O.props?O.props.hide:(S=O.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===w&&!R}),"number",u),i.defaultProps.allowDataOverflow),A=qP(f,A,w,a)),Ve(Ve({},x),{},Rt({},w,Ve(Ve({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ts(zet,"".concat(a,".").concat(g%2),null),domain:A,originalDomain:C,isCategorical:m,layout:u})))}return x},{})},Yet=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=Ps(u,a),p={};return h&&h.length?p=Get(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Ket(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Xet=function(e){var r=Id(e),n=tu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:G6(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:i5(r,n)}},mU=function(e){var r=e.children,n=e.defaultShowTooltip,i=zo(r,J0),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Qet=function(e){return!e||!e.length?!1:e.some(function(r){var n=ou(r&&r.type);return n&&n.indexOf("Bar")>=0})},gU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zet=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=zo(f,J0),m=zo(f,f0),g=Object.keys(l).reduce(function(A,O){var N=l[O],S=N.orientation;return!N.mirror&&!N.hide?Ve(Ve({},A),{},Rt({},S,A[S]+N.width)):A},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(A,O){var N=o[O],S=N.orientation;return!N.mirror&&!N.hide?Ve(Ve({},A),{},Rt({},S,Ts(A,"".concat(S))+N.height)):A},{top:h.top||0,bottom:h.bottom||0}),v=Ve(Ve({},x),g),y=v.bottom;p&&(v.bottom+=p.props.height||J0.defaultProps.height),m&&r&&(v=sWe(v,i,n,r));var w=c-v.left-v.right,C=u-v.top-v.bottom;return Ve(Ve({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(C,0)})},Jet=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},yne=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(v,y){var w=y.graphicalItems,C=y.stackGroups,A=y.offset,O=y.updateId,N=y.dataStartIndex,S=y.dataEndIndex,P=v.barSize,R=v.layout,I=v.barGap,k=v.barCategoryGap,D=v.maxBarSize,z=gU(R),J=z.numericAxisName,U=z.cateAxisName,K=Qet(w),$=[];return w.forEach(function(H,te){var ie=UA(v.data,{graphicalItems:[H],dataStartIndex:N,dataEndIndex:S}),F=H.type.defaultProps!==void 0?Ve(Ve({},H.type.defaultProps),H.props):H.props,q=F.dataKey,Q=F.maxBarSize,se=F["".concat(J,"Id")],G=F["".concat(U,"Id")],le={},de=l.reduce(function(Ue,ze){var et=y["".concat(ze.axisType,"Map")],at=F["".concat(ze.axisType,"Id")];et&&et[at]||ze.axisType==="zAxis"||sp();var Te=et[at];return Ve(Ve({},Ue),{},Rt(Rt({},ze.axisType,Te),"".concat(ze.axisType,"Ticks"),tu(Te)))},le),ae=de[U],ye=de["".concat(U,"Ticks")],ge=C&&C[se]&&C[se].hasStack&&bWe(H,C[se].stackGroups),ve=ou(H.type).indexOf("Bar")>=0,Re=i5(ae,ye),Me=[],Se=K&&aWe({barSize:P,stackGroups:C,totalSize:Jet(de,U)});if(ve){var W,Pe,ce=lr(Q)?D:Q,me=(W=(Pe=i5(ae,ye,!0))!==null&&Pe!==void 0?Pe:ce)!==null&&W!==void 0?W:0;Me=oWe({barGap:I,barCategoryGap:k,bandSize:me!==Re?me:Re,sizeList:Se[G],maxBarSize:ce}),me!==Re&&(Me=Me.map(function(Ue){return Ve(Ve({},Ue),{},{position:Ve(Ve({},Ue.position),{},{offset:Ue.position.offset-me/2})})}))}var we=H&&H.type&&H.type.getComposedData;we&&$.push({props:Ve(Ve({},we(Ve(Ve({},de),{},{displayedData:ie,props:v,dataKey:q,item:H,bandSize:Re,barPosition:Me,offset:A,stackedData:ge,layout:R,dataStartIndex:N,dataEndIndex:S}))),{},Rt(Rt(Rt({key:H.key||"item-".concat(te)},J,de[J]),U,de[U]),"animationId",O)),childIndex:ije(H,v.children),item:H})}),$},p=function(v,y){var w=v.props,C=v.dataStartIndex,A=v.dataEndIndex,O=v.updateId;if(!B9({props:w}))return null;var N=w.children,S=w.layout,P=w.stackOffset,R=w.data,I=w.reverseStackOrder,k=gU(S),D=k.numericAxisName,z=k.cateAxisName,J=Ps(N,n),U=yWe(R,J,"".concat(D,"Id"),"".concat(z,"Id"),P,I),K=l.reduce(function(F,q){var Q="".concat(q.axisType,"Map");return Ve(Ve({},F),{},Rt({},Q,Yet(w,Ve(Ve({},q),{},{graphicalItems:J,stackGroups:q.axisType===D&&U,dataStartIndex:C,dataEndIndex:A}))))},{}),$=Zet(Ve(Ve({},K),{},{props:w,graphicalItems:J}),y==null?void 0:y.legendBBox);Object.keys(K).forEach(function(F){K[F]=u(w,K[F],$,F.replace("Map",""),r)});var H=K["".concat(z,"Map")],te=Xet(H),ie=h(w,Ve(Ve({},K),{},{dataStartIndex:C,dataEndIndex:A,updateId:O,graphicalItems:J,stackGroups:U,offset:$}));return Ve(Ve({formattedGraphicalItems:ie,graphicalItems:J,offset:$,stackGroups:U},te),K)},m=function(x){function v(y){var w,C,A;return ket(this,v),A=Det(this,v,[y]),Rt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rt(A,"accessibilityManager",new vet),Rt(A,"handleLegendBBoxUpdate",function(O){if(O){var N=A.state,S=N.dataStartIndex,P=N.dataEndIndex,R=N.updateId;A.setState(Ve({legendBBox:O},p({props:A.props,dataStartIndex:S,dataEndIndex:P,updateId:R},Ve(Ve({},A.state),{},{legendBBox:O}))))}}),Rt(A,"handleReceiveSyncEvent",function(O,N,S){if(A.props.syncId===O){if(S===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(N)}}),Rt(A,"handleBrushChange",function(O){var N=O.startIndex,S=O.endIndex;if(N!==A.state.dataStartIndex||S!==A.state.dataEndIndex){var P=A.state.updateId;A.setState(function(){return Ve({dataStartIndex:N,dataEndIndex:S},p({props:A.props,dataStartIndex:N,dataEndIndex:S,updateId:P},A.state))}),A.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),Rt(A,"handleMouseEnter",function(O){var N=A.getMouseInfo(O);if(N){var S=Ve(Ve({},N),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var P=A.props.onMouseEnter;er(P)&&P(S,O)}}),Rt(A,"triggeredAfterMouseMove",function(O){var N=A.getMouseInfo(O),S=N?Ve(Ve({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var P=A.props.onMouseMove;er(P)&&P(S,O)}),Rt(A,"handleItemMouseEnter",function(O){A.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Rt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Rt(A,"handleMouseMove",function(O){O.persist(),A.throttleTriggeredAfterMouseMove(O)}),Rt(A,"handleMouseLeave",function(O){A.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};A.setState(N),A.triggerSyncEvent(N);var S=A.props.onMouseLeave;er(S)&&S(N,O)}),Rt(A,"handleOuterEvent",function(O){var N=nje(O),S=Ts(A.props,"".concat(N));if(N&&er(S)){var P,R;/.*touch.*/i.test(N)?R=A.getMouseInfo(O.changedTouches[0]):R=A.getMouseInfo(O),S((P=R)!==null&&P!==void 0?P:{},O)}}),Rt(A,"handleClick",function(O){var N=A.getMouseInfo(O);if(N){var S=Ve(Ve({},N),{},{isTooltipActive:!0});A.setState(S),A.triggerSyncEvent(S);var P=A.props.onClick;er(P)&&P(S,O)}}),Rt(A,"handleMouseDown",function(O){var N=A.props.onMouseDown;if(er(N)){var S=A.getMouseInfo(O);N(S,O)}}),Rt(A,"handleMouseUp",function(O){var N=A.props.onMouseUp;if(er(N)){var S=A.getMouseInfo(O);N(S,O)}}),Rt(A,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Rt(A,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseDown(O.changedTouches[0])}),Rt(A,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseUp(O.changedTouches[0])}),Rt(A,"handleDoubleClick",function(O){var N=A.props.onDoubleClick;if(er(N)){var S=A.getMouseInfo(O);N(S,O)}}),Rt(A,"handleContextMenu",function(O){var N=A.props.onContextMenu;if(er(N)){var S=A.getMouseInfo(O);N(S,O)}}),Rt(A,"triggerSyncEvent",function(O){A.props.syncId!==void 0&&TC.emit(PC,A.props.syncId,O,A.eventEmitterSymbol)}),Rt(A,"applySyncEvent",function(O){var N=A.props,S=N.layout,P=N.syncMethod,R=A.state.updateId,I=O.dataStartIndex,k=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)A.setState(Ve({dataStartIndex:I,dataEndIndex:k},p({props:A.props,dataStartIndex:I,dataEndIndex:k,updateId:R},A.state)));else if(O.activeTooltipIndex!==void 0){var D=O.chartX,z=O.chartY,J=O.activeTooltipIndex,U=A.state,K=U.offset,$=U.tooltipTicks;if(!K)return;if(typeof P=="function")J=P($,O);else if(P==="value"){J=-1;for(var H=0;H<$.length;H++)if($[H].value===O.activeLabel){J=H;break}}var te=Ve(Ve({},K),{},{x:K.left,y:K.top}),ie=Math.min(D,te.x+te.width),F=Math.min(z,te.y+te.height),q=$[J]&&$[J].value,Q=KP(A.state,A.props.data,J),se=$[J]?{x:S==="horizontal"?$[J].coordinate:ie,y:S==="horizontal"?F:$[J].coordinate}:gne;A.setState(Ve(Ve({},O),{},{activeLabel:q,activeCoordinate:se,activePayload:Q,activeTooltipIndex:J}))}else A.setState(O)}),Rt(A,"renderCursor",function(O){var N,S=A.state,P=S.isTooltipActive,R=S.activeCoordinate,I=S.activePayload,k=S.offset,D=S.activeTooltipIndex,z=S.tooltipAxisBandSize,J=A.getTooltipEventType(),U=(N=O.props.active)!==null&&N!==void 0?N:P,K=A.props.layout,$=O.key||"_recharts-cursor";return he.createElement(Eet,{key:$,activeCoordinate:R,activePayload:I,activeTooltipIndex:D,chartName:r,element:O,isActive:U,layout:K,offset:k,tooltipAxisBandSize:z,tooltipEventType:J})}),Rt(A,"renderPolarAxis",function(O,N,S){var P=Ts(O,"type.axisType"),R=Ts(A.state,"".concat(P,"Map")),I=O.type.defaultProps,k=I!==void 0?Ve(Ve({},I),O.props):O.props,D=R&&R[k["".concat(P,"Id")]];return E.cloneElement(O,Ve(Ve({},D),{},{className:pr(P,D.className),key:O.key||"".concat(N,"-").concat(S),ticks:tu(D,!0)}))}),Rt(A,"renderPolarGrid",function(O){var N=O.props,S=N.radialLines,P=N.polarAngles,R=N.polarRadius,I=A.state,k=I.radiusAxisMap,D=I.angleAxisMap,z=Id(k),J=Id(D),U=J.cx,K=J.cy,$=J.innerRadius,H=J.outerRadius;return E.cloneElement(O,{polarAngles:Array.isArray(P)?P:tu(J,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(R)?R:tu(z,!0).map(function(te){return te.coordinate}),cx:U,cy:K,innerRadius:$,outerRadius:H,key:O.key||"polar-grid",radialLines:S})}),Rt(A,"renderLegend",function(){var O=A.state.formattedGraphicalItems,N=A.props,S=N.children,P=N.width,R=N.height,I=A.props.margin||{},k=P-(I.left||0)-(I.right||0),D=ore({children:S,formattedGraphicalItems:O,legendWidth:k,legendContent:c});if(!D)return null;var z=D.item,J=fU(D,Cet);return E.cloneElement(z,Ve(Ve({},J),{},{chartWidth:P,chartHeight:R,margin:I,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Rt(A,"renderTooltip",function(){var O,N=A.props,S=N.children,P=N.accessibilityLayer,R=zo(S,ol);if(!R)return null;var I=A.state,k=I.isTooltipActive,D=I.activeCoordinate,z=I.activePayload,J=I.activeLabel,U=I.offset,K=(O=R.props.active)!==null&&O!==void 0?O:k;return E.cloneElement(R,{viewBox:Ve(Ve({},U),{},{x:U.left,y:U.top}),active:K,label:J,payload:K?z:[],coordinate:D,accessibilityLayer:P})}),Rt(A,"renderBrush",function(O){var N=A.props,S=N.margin,P=N.data,R=A.state,I=R.offset,k=R.dataStartIndex,D=R.dataEndIndex,z=R.updateId;return E.cloneElement(O,{key:O.key||"_recharts-brush",onChange:vw(A.handleBrushChange,O.props.onChange),data:P,x:ut(O.props.x)?O.props.x:I.left,y:ut(O.props.y)?O.props.y:I.top+I.height+I.brushBottom-(S.bottom||0),width:ut(O.props.width)?O.props.width:I.width,startIndex:k,endIndex:D,updateId:"brush-".concat(z)})}),Rt(A,"renderReferenceElement",function(O,N,S){if(!O)return null;var P=A,R=P.clipPathId,I=A.state,k=I.xAxisMap,D=I.yAxisMap,z=I.offset,J=O.type.defaultProps||{},U=O.props,K=U.xAxisId,$=K===void 0?J.xAxisId:K,H=U.yAxisId,te=H===void 0?J.yAxisId:H;return E.cloneElement(O,{key:O.key||"".concat(N,"-").concat(S),xAxis:k[$],yAxis:D[te],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:R})}),Rt(A,"renderActivePoints",function(O){var N=O.item,S=O.activePoint,P=O.basePoint,R=O.childIndex,I=O.isRange,k=[],D=N.props.key,z=N.item.type.defaultProps!==void 0?Ve(Ve({},N.item.type.defaultProps),N.item.props):N.item.props,J=z.activeDot,U=z.dataKey,K=Ve(Ve({index:R,dataKey:U,cx:S.x,cy:S.y,r:4,fill:x8(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},cr(J,!1)),P_(J));return k.push(v.renderActiveDot(J,K,"".concat(D,"-activePoint-").concat(R))),P?k.push(v.renderActiveDot(J,Ve(Ve({},K),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(R))):I&&k.push(null),k}),Rt(A,"renderGraphicChild",function(O,N,S){var P=A.filterFormatItem(O,N,S);if(!P)return null;var R=A.getTooltipEventType(),I=A.state,k=I.isTooltipActive,D=I.tooltipAxis,z=I.activeTooltipIndex,J=I.activeLabel,U=A.props.children,K=zo(U,ol),$=P.props,H=$.points,te=$.isRange,ie=$.baseLine,F=P.item.type.defaultProps!==void 0?Ve(Ve({},P.item.type.defaultProps),P.item.props):P.item.props,q=F.activeDot,Q=F.hide,se=F.activeBar,G=F.activeShape,le=!!(!Q&&k&&K&&(q||se||G)),de={};R!=="axis"&&K&&K.props.trigger==="click"?de={onClick:vw(A.handleItemMouseEnter,O.props.onClick)}:R!=="axis"&&(de={onMouseLeave:vw(A.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:vw(A.handleItemMouseEnter,O.props.onMouseEnter)});var ae=E.cloneElement(O,Ve(Ve({},P.props),de));function ye(ze){return typeof D.dataKey=="function"?D.dataKey(ze.payload):null}if(le)if(z>=0){var ge,ve;if(D.dataKey&&!D.allowDuplicatedCategory){var Re=typeof D.dataKey=="function"?ye:"payload.".concat(D.dataKey.toString());ge=T_(H,Re,J),ve=te&&ie&&T_(ie,Re,J)}else ge=H==null?void 0:H[z],ve=te&&ie&&ie[z];if(G||se){var Me=O.props.activeIndex!==void 0?O.props.activeIndex:z;return[E.cloneElement(O,Ve(Ve(Ve({},P.props),de),{},{activeIndex:Me})),null,null]}if(!lr(ge))return[ae].concat(dg(A.renderActivePoints({item:P,activePoint:ge,basePoint:ve,childIndex:z,isRange:te})))}else{var Se,W=(Se=A.getItemByXY(A.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:ae},Pe=W.graphicalItem,ce=Pe.item,me=ce===void 0?O:ce,we=Pe.childIndex,Ue=Ve(Ve(Ve({},P.props),de),{},{activeIndex:we});return[E.cloneElement(me,Ue),null,null]}return te?[ae,null,null]:[ae,null]}),Rt(A,"renderCustomized",function(O,N,S){return E.cloneElement(O,Ve(Ve({key:"recharts-customized-".concat(S)},A.props),A.state))}),Rt(A,"renderMap",{CartesianGrid:{handler:_w,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:_w},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:_w},YAxis:{handler:_w},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Dx("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=ate(A.triggeredAfterMouseMove,(C=y.throttleDelay)!==null&&C!==void 0?C:1e3/60),A.state={},A}return Fet(v,x),Ret(v,[{key:"componentDidMount",value:function(){var w,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,C=w.children,A=w.data,O=w.height,N=w.layout,S=zo(C,ol);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=KP(this.state,A,P,R),k=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+O)/2,z=N==="horizontal",J=z?{x:k,y:D}:{y:k,x:D},U=this.state.formattedGraphicalItems.find(function($){var H=$.item;return H.type.name==="Scatter"});U&&(J=Ve(Ve({},J),U.props.points[P].tooltipPosition),I=U.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:J};this.setState(K),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var A,O;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(w){ET([zo(w.children,ol)],[zo(this.props.children,ol)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=zo(this.props.children,ol);if(w&&typeof w.props.shared=="boolean"){var C=w.props.shared?"axis":"item";return s.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var C=this.container,A=C.getBoundingClientRect(),O=IUe(A),N={chartX:Math.round(w.pageX-O.left),chartY:Math.round(w.pageY-O.top)},S=A.width/C.offsetWidth||1,P=this.inRange(N.chartX,N.chartY,S);if(!P)return null;var R=this.state,I=R.xAxisMap,k=R.yAxisMap,D=this.getTooltipEventType(),z=pU(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&I&&k){var J=Id(I).scale,U=Id(k).scale,K=J&&J.invert?J.invert(N.chartX):null,$=U&&U.invert?U.invert(N.chartY):null;return Ve(Ve({},N),{},{xValue:K,yValue:$},z)}return z?Ve(Ve({},N),z):null}},{key:"inRange",value:function(w,C){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,N=w/A,S=C/A;if(O==="horizontal"||O==="vertical"){var P=this.state.offset,R=N>=P.left&&N<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return R?{x:N,y:S}:null}var I=this.state,k=I.angleAxisMap,D=I.radiusAxisMap;if(k&&D){var z=Id(k);return XB({x:N,y:S},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,C=this.getTooltipEventType(),A=zo(w,ol),O={};A&&C==="axis"&&(A.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=P_(this.props,this.handleOuterEvent);return Ve(Ve({},N),O)}},{key:"addListener",value:function(){TC.on(PC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){TC.removeListener(PC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,C,A){for(var O=this.state.formattedGraphicalItems,N=0,S=O.length;N<S;N++){var P=O[N];if(P.item===w||P.props.key===w.key||C===ou(P.item.type)&&A===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,C=this.state.offset,A=C.left,O=C.top,N=C.height,S=C.width;return he.createElement("defs",null,he.createElement("clipPath",{id:w},he.createElement("rect",{x:A,y:O,height:N,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(C,A){var O=dU(A,2),N=O[0],S=O[1];return Ve(Ve({},C),{},Rt({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(C,A){var O=dU(A,2),N=O[0],S=O[1];return Ve(Ve({},C),{},Rt({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(w){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(w){var C=this.state,A=C.formattedGraphicalItems,O=C.activeItem;if(A&&A.length)for(var N=0,S=A.length;N<S;N++){var P=A[N],R=P.props,I=P.item,k=I.type.defaultProps!==void 0?Ve(Ve({},I.type.defaultProps),I.props):I.props,D=ou(I.type);if(D==="Bar"){var z=(R.data||[]).find(function($){return fYe(w,$)});if(z)return{graphicalItem:P,payload:z}}else if(D==="RadialBar"){var J=(R.data||[]).find(function($){return XB(w,$)});if(J)return{graphicalItem:P,payload:J}}else if(RA(P,O)||DA(P,O)||Yy(P,O)){var U=mXe({graphicalItem:P,activeTooltipItem:O,itemData:k.data}),K=k.activeIndex===void 0?U:k.activeIndex;return{graphicalItem:Ve(Ve({},P),{},{childIndex:K}),payload:Yy(P,O)?k.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var w=this;if(!B9(this))return null;var C=this.props,A=C.children,O=C.className,N=C.width,S=C.height,P=C.style,R=C.compact,I=C.title,k=C.desc,D=fU(C,Net),z=cr(D,!1);if(R)return he.createElement(G$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement(NT,zm({},z,{width:N,height:S,title:I,desc:k}),this.renderClipPath(),U9(A,this.renderMap)));if(this.props.accessibilityLayer){var J,U;z.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,z.role=(U=this.props.role)!==null&&U!==void 0?U:"application",z.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},z.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return he.createElement(G$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},he.createElement("div",zm({className:pr("recharts-wrapper",O),style:Ve({position:"relative",cursor:"default",width:N,height:S},P)},K,{ref:function(H){w.container=H}}),he.createElement(NT,zm({},z,{width:N,height:S,title:I,desc:k,style:Het}),this.renderClipPath(),U9(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);Rt(m,"displayName",r),Rt(m,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Rt(m,"getDerivedStateFromProps",function(x,v){var y=x.dataKey,w=x.data,C=x.children,A=x.width,O=x.height,N=x.layout,S=x.stackOffset,P=x.margin,R=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var k=mU(x);return Ve(Ve(Ve({},k),{},{updateId:0},p(Ve(Ve({props:x},k),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:w,prevWidth:A,prevHeight:O,prevLayout:N,prevStackOffset:S,prevMargin:P,prevChildren:C})}if(y!==v.prevDataKey||w!==v.prevData||A!==v.prevWidth||O!==v.prevHeight||N!==v.prevLayout||S!==v.prevStackOffset||!d0(P,v.prevMargin)){var D=mU(x),z={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},J=Ve(Ve({},pU(v,w,N)),{},{updateId:v.updateId+1}),U=Ve(Ve(Ve({},D),z),J);return Ve(Ve(Ve({},U),p(Ve({props:x},U),v)),{},{prevDataKey:y,prevData:w,prevWidth:A,prevHeight:O,prevLayout:N,prevStackOffset:S,prevMargin:P,prevChildren:C})}if(!ET(C,v.prevChildren)){var K,$,H,te,ie=zo(C,J0),F=ie&&(K=($=ie.props)===null||$===void 0?void 0:$.startIndex)!==null&&K!==void 0?K:R,q=ie&&(H=(te=ie.props)===null||te===void 0?void 0:te.endIndex)!==null&&H!==void 0?H:I,Q=F!==R||q!==I,se=!lr(w),G=se&&!Q?v.updateId:v.updateId+1;return Ve(Ve({updateId:G},p(Ve(Ve({props:x},v),{},{updateId:G,dataStartIndex:F,dataEndIndex:q}),v)),{},{prevChildren:C,dataStartIndex:F,dataEndIndex:q})}return null}),Rt(m,"renderActiveDot",function(x,v,y){var w;return E.isValidElement(x)?w=E.cloneElement(x,v):er(x)?w=x(v):w=he.createElement(b8,v),he.createElement(Yn,{className:"recharts-active-dot",key:y},w)});var g=E.forwardRef(function(v,y){return he.createElement(m,zm({},v,{ref:y}))});return g.displayName=m.displayName,g},ett=yne({chartName:"LineChart",GraphicalChild:Vx,axisComponents:[{axisType:"xAxis",AxisComp:sg},{axisType:"yAxis",AxisComp:cg}],formatAxisMap:Mre}),ttt=yne({chartName:"BarChart",GraphicalChild:Tp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sg},{axisType:"yAxis",AxisComp:cg}],formatAxisMap:Mre});const rtt=()=>{const[t,e]=E.useState("trend"),[r,n]=E.useState([]),[i,a]=E.useState([]);return E.useEffect(()=>{const o=Eg(),s=o.reduce((h,p)=>{const m=new Date(p.timestamp),g=`${new Date(m).toLocaleDateString("en-US",{month:"short",year:"numeric"})}`;return h[g]=(h[g]||0)+p.amount,h},{}),l=Object.entries(s).map(([h,p])=>({date:h,amount:p,category:"All"})).sort((h,p)=>{const m=new Date(h.date),g=new Date(p.date);return m.getTime()-g.getTime()});n(l);const c=o.reduce((h,p)=>{const m=p.tripId?"Shopping":p.type;return h[m]=(h[m]||0)+p.amount,h},{}),u=Object.values(c).reduce((h,p)=>h+p,0),f=Object.entries(c).map(([h,p])=>({category:h,amount:p,percentage:u>0?p/u*100:0}));a(f)},[]),d.jsx("div",{className:"w-full",children:d.jsxs(yp,{value:t,onValueChange:e,className:"w-full",children:[d.jsxs(If,{className:"w-full mb-4 bg-white/35 backdrop-blur dark:bg-[#262A24]",children:[d.jsx(Cn,{value:"trend",className:"flex-1 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white",children:"Trend"}),d.jsx(Cn,{value:"category",className:"flex-1 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white",children:"Categories"})]}),d.jsx(Nn,{value:"trend",children:d.jsxs("div",{className:"p-2 rounded-lg bg-white/80 dark:bg-gray-800/70 backdrop-blur-sm shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-2 ml-2",children:"Monthly Spending"}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(FF,{width:"100%",height:"100%",children:d.jsxs(ett,{data:r,margin:{top:10,right:10,bottom:10,left:10},children:[d.jsx(LP,{strokeDasharray:"3 3",stroke:"#5B674F",opacity:.2}),d.jsx(sg,{dataKey:"date",tick:{fontSize:13,fill:"#112211",fontWeight:500},tickFormatter:o=>o.includes(" ")?o.split(" ")[0]:new Date(o).toLocaleDateString("en-US",{month:"short"}),stroke:"#112211",axisLine:{strokeWidth:1.5}}),d.jsx(cg,{tick:{fontSize:13,fill:"#112211",fontWeight:500},tickFormatter:o=>`$${o}`,stroke:"#112211",axisLine:{strokeWidth:1.5}}),d.jsx(ol,{formatter:o=>[`$${o.toFixed(2)}`,"Amount"],contentStyle:{backgroundColor:"#FFFFFF",border:"none",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"8px 12px",fontSize:"14px",fontWeight:"bold"},labelStyle:{color:"#112211",fontWeight:"bold",marginBottom:"4px"},itemStyle:{color:"#FF9F2F",fontWeight:"bold"}}),d.jsx(Vx,{type:"monotone",dataKey:"amount",stroke:"#FF9F2F",strokeWidth:3,dot:{r:4,fill:"#FF9F2F",strokeWidth:2,stroke:"#FFFFFF"},activeDot:{r:6,fill:"#FF9F2F",strokeWidth:2,stroke:"#FFFFFF"}})]})})}),r.length===0&&d.jsx("div",{className:"flex justify-center items-center h-24 text-gray-500 dark:text-gray-400",children:"No spending data available"})]})}),d.jsx(Nn,{value:"category",children:d.jsxs("div",{className:"p-2 rounded-lg bg-white/80 dark:bg-gray-800/70 backdrop-blur-sm shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-2 ml-2",children:"Spending by Category"}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(FF,{width:"100%",height:"100%",children:d.jsxs(ttt,{data:i,margin:{top:10,right:10,bottom:10,left:10},children:[d.jsx(LP,{strokeDasharray:"3 3",stroke:"#5B674F",opacity:.2}),d.jsx(sg,{dataKey:"category",tick:{fontSize:13,fill:"#112211",fontWeight:500},stroke:"#112211",axisLine:{strokeWidth:1.5}}),d.jsx(cg,{tick:{fontSize:13,fill:"#112211",fontWeight:500},tickFormatter:o=>`$${o}`,stroke:"#112211",axisLine:{strokeWidth:1.5}}),d.jsx(ol,{formatter:o=>[`$${o.toFixed(2)}`,"Amount"],contentStyle:{backgroundColor:"#FFFFFF",border:"none",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"8px 12px",fontSize:"14px",fontWeight:"bold"},labelStyle:{color:"#112211",fontWeight:"bold",marginBottom:"4px"},itemStyle:{color:"#FF9F2F",fontWeight:"bold"}}),d.jsx(Tp,{dataKey:"amount",fill:"#FF9F2F",radius:[6,6,0,0],barSize:24})]})})}),i.length===0&&d.jsx("div",{className:"flex justify-center items-center h-24 text-gray-500 dark:text-gray-400",children:"No category data available"})]})})]})})},O8=()=>{try{const t=localStorage.getItem("storeVisits");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load store visits:",t)}return[]},ntt=()=>{const t=O8(),e=new Map;return t.forEach(r=>{const n=r.store,i=e.get(n)||{store:n,visitCount:0,lastVisit:"",totalSpent:0,averageSpent:0,mostBoughtItems:[]};i.visitCount++,i.lastVisit=r.date>i.lastVisit?r.date:i.lastVisit,i.totalSpent+=r.total,i.averageSpent=i.totalSpent/i.visitCount;const a=new Map;r.items.forEach(o=>{const s=a.get(o.name)||{count:0,totalPrice:0};s.count+=o.quantity,s.totalPrice+=o.price*o.quantity,a.set(o.name,s)}),i.mostBoughtItems=Array.from(a.entries()).map(([o,s])=>({name:o,count:s.count,averagePrice:s.totalPrice/s.count})).sort((o,s)=>s.count-o.count).slice(0,5),e.set(n,i)}),Array.from(e.values()).sort((r,n)=>n.visitCount-r.visitCount)},itt=()=>{const t=O8(),e=new Map;return t.forEach(r=>{r.items.forEach(n=>{const i=e.get(n.name)||{name:n.name,totalPurchases:0,stores:[]};i.totalPurchases+=n.quantity;const a=i.stores.findIndex(o=>o.store===r.store);if(a===-1)i.stores.push({store:r.store,purchaseCount:n.quantity,averagePrice:n.price,lastPurchaseDate:r.date});else{const o=i.stores[a],s=o.purchaseCount+n.quantity;o.averagePrice=(o.averagePrice*o.purchaseCount+n.price*n.quantity)/s,o.purchaseCount=s,o.lastPurchaseDate=r.date>o.lastPurchaseDate?r.date:o.lastPurchaseDate}e.set(n.name,i)})}),Array.from(e.values()).sort((r,n)=>n.totalPurchases-r.totalPurchases)},att=(t=10)=>O8().sort((r,n)=>new Date(n.date).getTime()-new Date(r.date).getTime()).slice(0,t),ott=()=>{const{trips:t}=mp(),[e,r]=E.useState("insights"),[n,i]=E.useState([]),[a,o]=E.useState([]),[s,l]=E.useState([]),[c,u]=E.useState([]);return E.useEffect(()=>{i(ntt());const f=itt();o(f),l(att(5));const h=Array.from(new Set(t.filter(m=>m.status!=="completed").flatMap(m=>m.items.map(g=>g.name.toLowerCase().trim()))));if(h.length===0){u([]);return}const p=h.map(m=>{const g={itemName:m},x=f.find(y=>y.name.toLowerCase().trim()===m);if(x&&x.stores.length>0){const y=[...x.stores].sort((w,C)=>C.purchaseCount-w.purchaseCount);g.mostFrequentAt={store:y[0].store,count:y[0].purchaseCount}}const v=iye(m);if(v.length>0){const y=v.map(w=>({...w,unitPrice:w.price/(w.quantity||1)})).filter(w=>w.unitPrice>0).sort((w,C)=>w.unitPrice-C.unitPrice);if(y.length>0){const w=y[0];g.cheapestAt={store:w.store,price:w.unitPrice,unit:w.unit,date:w.date}}}return g});u(p)},[t]),d.jsxs(qt,{children:[d.jsx(Vr,{children:d.jsx(zr,{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(CR,{className:"h-5 w-5 mr-2 text-blue-500"}),"Shopping Insights"]})})}),d.jsx(Wt,{children:d.jsxs(yp,{value:e,onValueChange:r,className:"w-full",children:[d.jsxs(If,{className:"w-full mb-4 bg-white/35 backdrop-blur dark:bg-[#262A24] flex overflow-x-auto no-scrollbar",children:[d.jsx(Cn,{value:"insights",className:"flex-shrink-0 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white text-xs px-2 py-1.5",children:"My List Hotspots"}),d.jsx(Cn,{value:"stores",className:"flex-shrink-0 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white text-xs px-2 py-1.5",children:"Store Overview"}),d.jsx(Cn,{value:"items",className:"flex-shrink-0 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white text-xs px-2 py-1.5",children:"Item Deep Dive"}),d.jsx(Cn,{value:"recent",className:"flex-shrink-0 data-[state=active]:bg-[#FF9F2F] data-[state=active]:text-white text-xs px-2 py-1.5",children:"Recent Visits"})]}),d.jsxs(Nn,{value:"insights",className:"space-y-3",children:[c.length===0&&d.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[d.jsx(cx,{className:"h-8 w-8 mx-auto mb-2 text-gray-400 dark:text-gray-500"}),d.jsx("p",{children:"Add items to your active shopping lists to see insights here!"})]}),c.map(f=>d.jsxs(qt,{className:"overflow-hidden shadow-sm",children:[d.jsx(Vr,{className:"p-3 bg-gray-50 dark:bg-gray-800/50",children:d.jsxs(zr,{className:"text-md capitalize flex items-center",children:[d.jsx(CR,{className:"h-4 w-4 mr-2 text-blue-500"}),f.itemName]})}),d.jsxs(Wt,{className:"p-3 text-xs space-y-1.5",children:[f.mostFrequentAt?d.jsxs("div",{className:"flex items-center",children:[d.jsx(AR,{className:"h-3.5 w-3.5 mr-1.5 text-orange-500 flex-shrink-0"}),d.jsxs("span",{children:["Often bought at: ",d.jsx("strong",{className:"font-semibold",children:f.mostFrequentAt.store})," (",f.mostFrequentAt.count," times)"]})]}):d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[d.jsx(AR,{className:"h-3.5 w-3.5 mr-1.5 flex-shrink-0"}),d.jsx("span",{children:"No purchase frequency data yet."})]}),f.cheapestAt?d.jsxs("div",{className:"flex items-center",children:[d.jsx(As,{className:"h-3.5 w-3.5 mr-1.5 text-green-500 flex-shrink-0"}),d.jsxs("span",{children:["Cheapest recorded: ",d.jsx("strong",{className:"font-semibold",children:f.cheapestAt.store})," at ",d.jsxs("strong",{className:"font-semibold",children:["$",f.cheapestAt.price.toFixed(2),f.cheapestAt.unit?`/${f.cheapestAt.unit}`:""]}),f.cheapestAt.date&&d.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-[10px]",children:[" (on ",Ya(new Date(f.cheapestAt.date),"MMM d, yy"),")"]})]})]}):d.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[d.jsx(As,{className:"h-3.5 w-3.5 mr-1.5 flex-shrink-0"}),d.jsx("span",{children:"No pricing data to determine cheapest store."})]})]})]},f.itemName))]}),d.jsxs(Nn,{value:"stores",className:"space-y-4",children:[n.length===0&&d.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No store visit data yet."}),n.map(f=>d.jsx(qt,{className:"overflow-hidden",children:d.jsxs(Wt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 mr-1.5 text-blue-500"}),f.store]}),d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(Xr,{className:"h-3.5 w-3.5 mr-1.5"}),f.visitCount," visits"]}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(As,{className:"h-3.5 w-3.5 mr-1.5"}),"Avg. $",f.averageSpent.toFixed(2)," per visit"]}),f.lastVisit&&d.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(ta,{className:"h-3.5 w-3.5 mr-1.5"}),"Last visit: ",T0(new Date(f.lastVisit),{addSuffix:!0})]})]})]}),d.jsxs(Qt,{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white",children:["$",f.totalSpent.toFixed(2)]})]}),f.mostBoughtItems.length>0&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-800",children:[d.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[d.jsx(Qse,{className:"h-3.5 w-3.5 mr-1.5"}),"Top Items Here"]}),d.jsx("div",{className:"space-y-1",children:f.mostBoughtItems.map(h=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h.name}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs("span",{className:"text-gray-500 dark:text-gray-500 mr-2",children:[h.count,"x"]}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["$",h.averagePrice.toFixed(2)]})]})]},h.name))})]})]})},f.store))]}),d.jsxs(Nn,{value:"items",className:"space-y-4",children:[a.length===0&&d.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No item purchase data yet."}),a.map(f=>d.jsx(qt,{className:"overflow-hidden",children:d.jsxs(Wt,{className:"p-4",children:[d.jsx("div",{className:"flex items-start justify-between",children:d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold capitalize",children:f.name}),d.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Total purchases: ",f.totalPurchases]})]})}),f.stores.length>0&&d.jsxs("div",{className:"mt-3 space-y-2 pt-3 border-t border-gray-100 dark:border-gray-800",children:[d.jsx("h4",{className:"text-xs font-medium mb-1.5 text-gray-500 dark:text-gray-400",children:"Purchase Locations:"}),f.stores.map(h=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(aa,{className:"h-3.5 w-3.5 mr-1.5 text-blue-500"}),d.jsx("span",{children:h.store})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[h.purchaseCount,"x"]}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Avg. $",h.averagePrice.toFixed(2)]}),h.lastPurchaseDate&&d.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-[10px]",children:["(",Ya(new Date(h.lastPurchaseDate),"MMM d, yy"),")"]})]})]},h.store))]})]})},f.name))]}),d.jsxs(Nn,{value:"recent",className:"space-y-4",children:[s.length===0&&d.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No recent store visits recorded."}),s.map(f=>d.jsx(qt,{className:"overflow-hidden",children:d.jsxs(Wt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 mr-1.5 text-blue-500"}),f.store]}),d.jsxs("div",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[d.jsx(ks,{className:"h-3.5 w-3.5 mr-1.5"}),Ya(new Date(f.date),"MMM d, yyyy, h:mm a")]})]}),d.jsxs(Qt,{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white",children:["$",f.total.toFixed(2)]})]}),f.items.length>0&&d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-800",children:[d.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Items Purchased (",f.items.length,")"]}),d.jsx("div",{className:"space-y-1",children:f.items.map(h=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:h.name}),d.jsxs("div",{className:"flex items-center space-x-3",children:[h.quantity>1&&d.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[h.quantity,"x"]}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["$",h.price.toFixed(2)]})]})]},h.name))})]})]})},f.date+f.store))]})]})})]})},OC=[{id:"spending",name:"Spending Report",icon:d.jsx(S0,{className:"h-5 w-5"})},{id:"trips",name:"Shopping Trips",icon:d.jsx(Xr,{className:"h-5 w-5"})},{id:"chores",name:"Chore Completion",icon:d.jsx(dc,{className:"h-5 w-5"})},{id:"payments",name:"Payment History",icon:d.jsx(S0,{className:"h-5 w-5"})}],kC=[{id:"bar",name:"Bar Chart",icon:d.jsx(aH,{className:"h-5 w-5"})},{id:"pie",name:"Pie Chart",icon:d.jsx(YI,{className:"h-5 w-5"})},{id:"table",name:"Data Table",icon:d.jsx(Xm,{className:"h-5 w-5"})}],vU=[{id:"date",name:"Date"},{id:"store",name:"Store"},{id:"category",name:"Category"},{id:"person",name:"Person"}],stt=[{id:"monthly-spending",name:"Monthly Spending",description:"Track spending across months",type:"spending",chartType:"bar",dimension:"date",dateRange:"last6Months"},{id:"category-breakdown",name:"Category Breakdown",description:"Spending by category",type:"spending",chartType:"pie",dimension:"category",dateRange:"thisMonth"},{id:"store-comparison",name:"Store Comparison",description:"Compare spending across stores",type:"trips",chartType:"bar",dimension:"store",dateRange:"thisYear"}],yU=[{id:"last7Days",name:"Last 7 Days"},{id:"thisMonth",name:"This Month"},{id:"last3Months",name:"Last 3 Months"},{id:"last6Months",name:"Last 6 Months"},{id:"thisYear",name:"This Year"},{id:"custom",name:"Custom Range"}],ltt=({className:t})=>{var v,y,w,C;const[e,r]=E.useState(null),[n,i]=E.useState(!1),[a,o]=E.useState(stt),[s,l]=E.useState(!1),[c,u]=E.useState({id:"",name:"",description:"",type:"spending",chartType:"bar",dimension:"date",dateRange:"thisMonth"}),{toast:f}=_n(),h=()=>{const A=`report-${Date.now()}`,O={...c,id:A};o([...a,O]),r(O),l(!1),f({title:"Report Created",description:`${O.name} has been added to your reports.`})},p=A=>{o(a.filter(O=>O.id!==A)),(e==null?void 0:e.id)===A&&r(null),f({title:"Report Deleted",description:"The report has been removed from your saved reports."})},m=A=>{r(A),f({title:"Report Generated",description:`${A.name} has been generated.`})},g=()=>{e&&f({title:"Report Exported",description:"The report has been exported as CSV."})},x=()=>{e&&f({title:"Report Exported",description:"The report has been exported as PDF."})};return d.jsxs("div",{className:dt("space-y-4",t),children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Custom Reports"}),d.jsx("p",{className:"text-muted-foreground",children:"Create and run custom reports to analyze your household data."})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(De,{variant:"outline",onClick:()=>i(!0),children:[d.jsx(Xm,{className:"mr-2 h-4 w-4"}),"My Reports"]}),d.jsxs(De,{onClick:()=>l(!0),children:[d.jsx(ME,{className:"mr-2 h-4 w-4"}),"New Report"]})]})]}),e?d.jsxs(qt,{className:"w-full",children:[d.jsx(Vr,{children:d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{children:[d.jsx(zr,{children:e.name}),d.jsx(wl,{children:e.description})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(De,{variant:"outline",size:"sm",onClick:g,children:[d.jsx(Xv,{className:"h-4 w-4 mr-1"}),"CSV"]}),d.jsxs(De,{variant:"outline",size:"sm",onClick:x,children:[d.jsx(Xv,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}),d.jsx(Wt,{children:d.jsx("div",{className:"flex flex-col items-center justify-center h-72 bg-muted rounded-md",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("span",{className:"text-4xl",children:"📊"}),d.jsx("p",{className:"text-lg font-medium",children:"Report data will appear here"}),d.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"When connected to actual data sources, this area will show the report chart or table based on the configuration."})]})})}),d.jsxs(ay,{className:"flex justify-between",children:[d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(Qt,{variant:"secondary",children:(v=OC.find(A=>A.id===e.type))==null?void 0:v.name}),d.jsx(Qt,{variant:"outline",children:(y=kC.find(A=>A.id===e.chartType))==null?void 0:y.name}),d.jsxs(Qt,{variant:"outline",children:["By ",(w=vU.find(A=>A.id===e.dimension))==null?void 0:w.name]}),d.jsx(Qt,{variant:"outline",children:(C=yU.find(A=>A.id===e.dateRange))==null?void 0:C.name})]}),d.jsx(De,{variant:"ghost",onClick:()=>r(null),children:"Close"})]})]}):d.jsxs(qt,{className:"w-full",children:[d.jsxs(Vr,{children:[d.jsx(zr,{children:"No Active Report"}),d.jsx(wl,{children:"Create a new report or select one of your saved reports to get started."})]}),d.jsx(Wt,{className:"flex justify-center py-8",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx(Xm,{className:"h-16 w-16 mx-auto text-muted-foreground"}),d.jsx("p",{className:"text-muted-foreground",children:"Your reports help you analyze and understand your household data."}),d.jsxs(De,{variant:"outline",onClick:()=>l(!0),children:[d.jsx(ME,{className:"mr-2 h-4 w-4"}),"Create Your First Report"]})]})})]}),d.jsx(Hi,{open:n,onOpenChange:i,children:d.jsxs(Ci,{className:"max-w-3xl",children:[d.jsxs(Ni,{children:[d.jsx(Ti,{children:"My Reports"}),d.jsx(Jo,{children:"Select a report to run or create a new custom report."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 py-4",children:[a.map(A=>{var O,N;return d.jsxs(qt,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{m(A),i(!1)},children:[d.jsxs(Vr,{className:"p-4 pb-2",children:[d.jsx(zr,{className:"text-base",children:A.name}),d.jsx(wl,{className:"text-xs line-clamp-2",children:A.description})]}),d.jsxs(Wt,{className:"p-4 pt-0",children:[d.jsx("div",{className:"h-24 bg-muted rounded-md mb-2 flex items-center justify-center",children:A.chartType==="bar"?d.jsx(aH,{className:"h-12 w-12 text-muted-foreground/50"}):A.chartType==="pie"?d.jsx(YI,{className:"h-12 w-12 text-muted-foreground/50"}):d.jsx(Xm,{className:"h-12 w-12 text-muted-foreground/50"})}),d.jsxs("div",{className:"flex gap-1 flex-wrap",children:[d.jsx(Qt,{variant:"secondary",className:"text-xs",children:(O=OC.find(S=>S.id===A.type))==null?void 0:O.name}),d.jsx(Qt,{variant:"outline",className:"text-xs",children:(N=kC.find(S=>S.id===A.chartType))==null?void 0:N.name})]})]}),d.jsx(ay,{className:"p-2 flex justify-end",children:d.jsx(De,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),p(A.id)},children:d.jsx(yg,{className:"h-4 w-4 text-muted-foreground"})})})]},A.id)}),d.jsx(qt,{className:"cursor-pointer border-dashed hover:border-primary/50 transition-colors flex flex-col items-center justify-center",onClick:()=>{l(!0),i(!1)},children:d.jsxs(Wt,{className:"flex flex-col items-center justify-center h-full p-6",children:[d.jsx(ME,{className:"h-12 w-12 text-muted-foreground mb-4"}),d.jsx("p",{className:"text-center text-muted-foreground",children:"Create New Report"})]})})]})]})}),d.jsx(Hi,{open:s,onOpenChange:l,children:d.jsxs(Ci,{className:"max-w-2xl",children:[d.jsxs(Ni,{children:[d.jsx(Ti,{children:"Create New Report"}),d.jsx(Jo,{children:"Configure your custom report settings."})]}),d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"report-name",children:"Report Name"}),d.jsx(ur,{id:"report-name",placeholder:"Enter a name for your report",value:c.name,onChange:A=>u({...c,name:A.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"report-description",children:"Description (Optional)"}),d.jsx(ur,{id:"report-description",placeholder:"Enter a description for your report",value:c.description,onChange:A=>u({...c,description:A.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"report-type",children:"Report Type"}),d.jsxs(yi,{value:c.type,onValueChange:A=>u({...c,type:A}),children:[d.jsx(oi,{id:"report-type",children:d.jsx(xi,{placeholder:"Select report type"})}),d.jsx(si,{children:OC.map(A=>d.jsx(Ct,{value:A.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[A.icon,d.jsx("span",{children:A.name})]})},A.id))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"chart-type",children:"Chart Type"}),d.jsxs(yi,{value:c.chartType,onValueChange:A=>u({...c,chartType:A}),children:[d.jsx(oi,{id:"chart-type",children:d.jsx(xi,{placeholder:"Select chart type"})}),d.jsx(si,{children:kC.map(A=>d.jsx(Ct,{value:A.id,children:d.jsxs("div",{className:"flex items-center gap-2",children:[A.icon,d.jsx("span",{children:A.name})]})},A.id))})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"dimension",children:"Group By"}),d.jsxs(yi,{value:c.dimension,onValueChange:A=>u({...c,dimension:A}),children:[d.jsx(oi,{id:"dimension",children:d.jsx(xi,{placeholder:"Select dimension"})}),d.jsx(si,{children:vU.map(A=>d.jsx(Ct,{value:A.id,children:A.name},A.id))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{htmlFor:"date-range",children:"Date Range"}),d.jsxs(yi,{value:c.dateRange,onValueChange:A=>u({...c,dateRange:A}),children:[d.jsx(oi,{id:"date-range",children:d.jsx(xi,{placeholder:"Select date range"})}),d.jsx(si,{children:yU.map(A=>d.jsx(Ct,{value:A.id,children:A.name},A.id))})]})]})]}),c.dateRange==="custom"&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{children:"Start Date"}),d.jsx(ur,{type:"date"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(gt,{children:"End Date"}),d.jsx(ur,{type:"date"})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(De,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),d.jsxs(De,{onClick:h,disabled:!c.name,children:[d.jsx(zse,{className:"mr-2 h-4 w-4"}),"Create Report"]})]})]})})]})},ctt=()=>{const t=xc(),{trips:e,addTrip:r}=mp(),[n,i]=E.useState(0),[a,o]=E.useState(0),[s,l]=E.useState(0),[c,u]=E.useState(0),[f,h]=E.useState([]),[p,m]=E.useState(!1),[g,x]=E.useState(!1);E.useEffect(()=>{const A=Eg();ZO();const O=A.reduce((k,D)=>k+D.amount,0);i(O);const N=new Date,S=new Date(N.getFullYear(),N.getMonth()-1),P=A.filter(k=>new Date(k.timestamp)>=S).reduce((k,D)=>k+D.amount,0),R=A.filter(k=>{const D=new Date(k.timestamp);return D>=new Date(S.getFullYear(),S.getMonth()-1)&&D<S}).reduce((k,D)=>k+D.amount,0),I=(P-R)/R*100;o(I),h(A.sort((k,D)=>D.timestamp-k.timestamp).slice(0,2).map(k=>({initials:k.fromUserName.substring(0,2).toUpperCase(),name:k.fromUserName,action:k.description,time:new Date(k.timestamp).toLocaleDateString(),amount:k.amount})))},[]),E.useEffect(()=>{if(e){const A=e.filter(N=>N.status!=="completed").length,O=e.filter(N=>N.status!=="completed"&&N.items.some(S=>!S.checked)).length;l(A),u(O)}},[e]);const v=()=>{m(!0)},y=A=>{const O={store:A.store,location:A.store,coordinates:{lat:39.965,lng:-83.02},eta:A.eta,status:"open",items:[],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"}],shopper:{name:"You",avatar:"https://example.com/you.jpg"},date:new Date().toISOString()};r(O),m(!1),t("/trips")},w=()=>{t("/ledger")},C=()=>{x(!g)};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(Pf,{}),d.jsxs("main",{className:"flex-grow w-full px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[d.jsx("header",{className:"mb-6 md:mb-8",children:d.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Dashboard"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Total Spent"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["$",n.toFixed(2)]}),d.jsxs("p",{className:`text-xs ${a>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} mt-1`,children:[a>=0?"+":"",a.toFixed(1),"% from last month"]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Active Trips"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s}),d.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[c," pending completion"]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100",children:"Recent Activity"}),d.jsx("div",{className:"space-y-4",children:f.map((A,O)=>d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-green-500 flex items-center justify-center text-white",children:d.jsx("span",{className:"text-sm font-medium",children:A.initials})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"text-sm font-medium truncate text-gray-900 dark:text-gray-100",children:[A.name," ",A.action]}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:A.time})]}),d.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["$",A.amount.toFixed(2)]})]},O))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100",children:"Spending Analysis"}),d.jsx(rtt,{})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:d.jsx(ott,{})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"p-4 cursor-pointer flex justify-between items-center",onClick:C,children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Custom Reports"}),d.jsx(De,{variant:"ghost",size:"sm",children:g?d.jsx(GI,{className:"h-5 w-5"}):d.jsx(Yh,{className:"h-5 w-5"})})]}),g&&d.jsx("div",{className:"p-4 pt-0 border-t border-gray-200 dark:border-gray-700",children:d.jsx(ltt,{})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{onClick:v,className:"bg-white dark:bg-gray-800 rounded-lg p-4 text-left shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[d.jsx("h3",{className:"text-sm font-medium mb-1 text-gray-900 dark:text-gray-100",children:"Start New Trip"}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Create a shopping trip"})]}),d.jsxs("button",{onClick:w,className:"bg-white dark:bg-gray-800 rounded-lg p-4 text-left shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[d.jsx("h3",{className:"text-sm font-medium mb-1 text-gray-900 dark:text-gray-100",children:"View Ledger"}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Check balances"})]})]})]})]}),d.jsx(UO,{isOpen:p,onClose:()=>m(!1),onSubmit:y})]})},utt=()=>{var u,f;const{loginWithGoogle:t,isLoading:e,error:r,user:n}=oS(),i=xc(),a=Rs(),[o,s]=E.useState(null),l=((f=(u=a.state)==null?void 0:u.from)==null?void 0:f.pathname)||"/home",c=async()=>{s(null);try{await t()}catch(h){s("Login failed. Please try again."),console.error("Login failed on page:",h)}};return he.useEffect(()=>{n&&i(l,{replace:!0})},[n,i,l]),d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50 p-4",children:[d.jsxs(qt,{className:"w-full max-w-md shadow-2xl bg-background/90 dark:bg-slate-900/90 backdrop-blur-lg",children:[d.jsxs(Vr,{className:"text-center",children:[d.jsx(Wse,{className:"mx-auto h-16 w-16 text-blue-500 mb-4"}),d.jsx(zr,{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Welcome Back!"}),d.jsx(wl,{className:"text-slate-600 dark:text-slate-400 pt-2",children:"Sign in to continue to TaskaLoop."})]}),d.jsxs(Wt,{className:"space-y-6 p-6 md:p-8",children:[(r||o)&&d.jsx("p",{className:"text-center text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-md",children:r||o}),d.jsx(De,{onClick:c,disabled:e,className:"w-full text-lg py-6 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-semibold transition-all duration-300 ease-in-out transform hover:scale-105",children:e?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Dse,{className:"mr-2 h-6 w-6"})," Sign in with Google"]})}),d.jsx("p",{className:"text-xs text-center text-slate-500 dark:text-slate-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})]})]}),d.jsx("p",{className:"text-center text-sm text-white/80 mt-8",children:"Don't have an account? It will be created automatically."})]})},gd=({children:t})=>{const{user:e,isLoading:r}=oS(),n=Rs();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50",children:d.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(oq,{to:"/login",state:{from:n},replace:!0})},dtt=()=>(E.useEffect(()=>{const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):(t||localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark"))},[]),d.jsx(jde,{children:d.jsxs(sO,{children:[d.jsx(Rle,{}),d.jsx(ace,{}),d.jsx(Rde,{children:d.jsx(Mde,{children:d.jsx(Fde,{children:d.jsx(Nde,{children:d.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-radial from-blue-500/15 via-green-500/15 to-purple-500/20 dark:from-blue-900/40 dark:via-green-900/30 dark:to-purple-900/50 animate-gradient-slow relative",children:[d.jsx("div",{className:"pattern-overlay"}),d.jsxs(bde,{children:[d.jsx(Fo,{path:"/",element:d.jsx(t0e,{})}),d.jsx(Fo,{path:"/login",element:d.jsx(utt,{})}),d.jsx(Fo,{path:"/home",element:d.jsx(gd,{children:d.jsx(zIe,{})})}),d.jsx(Fo,{path:"/dashboard",element:d.jsx(gd,{children:d.jsx(ctt,{})})}),d.jsx(Fo,{path:"/map",element:d.jsx(gd,{children:d.jsx(QIe,{})})}),d.jsx(Fo,{path:"/trips",element:d.jsx(gd,{children:d.jsx(XIe,{})})}),d.jsx(Fo,{path:"/ledger",element:d.jsx(gd,{children:d.jsx(fOe,{})})}),d.jsx(Fo,{path:"/pantry",element:d.jsx(gd,{children:d.jsx(oOe,{})})}),d.jsx(Fo,{path:"/profile",element:d.jsx(gd,{children:d.jsx(cOe,{})})}),d.jsx(Fo,{path:"/settings",element:d.jsx(gd,{children:d.jsx(uOe,{})})}),d.jsx(Fo,{path:"/history",element:d.jsx(oq,{to:"/trips?view=past",replace:!0})}),d.jsx(Fo,{path:"*",element:d.jsx(hOe,{})})]})]})})})})})]})})),k8=document.createElement("meta");k8.name="viewport";k8.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover";document.getElementsByTagName("head")[0].appendChild(k8);const VA=document.createElement("meta");VA.name="theme-color";VA.content="#F0F9FF";document.getElementsByTagName("head")[0].appendChild(VA);const xU=localStorage.getItem("theme");xU==="dark"?(document.documentElement.classList.add("dark"),VA.content="#0F172A"):(document.documentElement.classList.remove("dark"),xU||localStorage.setItem("theme","light"));Rz(document.getElementById("root")).render(d.jsx(dtt,{}));export{Tr as _,xm as c,Rr as g};
